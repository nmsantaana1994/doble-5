(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Ju(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function rl(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=At(s)?L_(s):rl(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(At(t))return t;if(Ve(t))return t}}const P_=/;(?![^(]*\))/g,M_=/:([^]+)/,U_=/\/\*.*?\*\//gs;function L_(t){const e={};return t.replace(U_,"").split(P_).forEach(n=>{if(n){const s=n.split(M_);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ue(t){let e="";if(At(t))e=t;else if(ne(t))for(let n=0;n<t.length;n++){const s=Ue(t[n]);s&&(e+=s+" ")}else if(Ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const B_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",F_=Ju(B_);function _m(t){return!!t||t===""}function V_(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=il(t[s],e[s]);return n}function il(t,e){if(t===e)return!0;let n=Kh(t),s=Kh(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Hi(t),s=Hi(e),n||s)return t===e;if(n=ne(t),s=ne(e),n||s)return n&&s?V_(t,e):!1;if(n=Ve(t),s=Ve(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!il(t[o],e[o]))return!1}}return String(t)===String(e)}function j_(t,e){return t.findIndex(n=>il(n,e))}const F=t=>At(t)?t:t==null?"":ne(t)||Ve(t)&&(t.toString===Em||!pe(t.toString))?JSON.stringify(t,wm,2):String(t),wm=(t,e)=>e&&e.__v_isRef?wm(t,e.value):Pr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:al(e)?{[`Set(${e.size})`]:[...e.values()]}:Ve(e)&&!ne(e)&&!Im(e)?String(e):e,je={},Nr=[],yn=()=>{},$_=()=>!1,q_=/^on[^a-z]/,ol=t=>q_.test(t),Qu=t=>t.startsWith("onUpdate:"),Ut=Object.assign,Wu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},H_=Object.prototype.hasOwnProperty,Ie=(t,e)=>H_.call(t,e),ne=Array.isArray,Pr=t=>po(t)==="[object Map]",al=t=>po(t)==="[object Set]",Kh=t=>po(t)==="[object Date]",pe=t=>typeof t=="function",At=t=>typeof t=="string",Hi=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",bm=t=>Ve(t)&&pe(t.then)&&pe(t.catch),Em=Object.prototype.toString,po=t=>Em.call(t),K_=t=>po(t).slice(8,-1),Im=t=>po(t)==="[object Object]",Gu=t=>At(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,oa=Ju(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ll=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},J_=/-(\w)/g,Mn=ll(t=>t.replace(J_,(e,n)=>n?n.toUpperCase():"")),Q_=/\B([A-Z])/g,ti=ll(t=>t.replace(Q_,"-$1").toLowerCase()),cl=ll(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ac=ll(t=>t?`on${cl(t)}`:""),Ki=(t,e)=>!Object.is(t,e),aa=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},_a=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},wa=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Jh;const W_=()=>Jh||(Jh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let mn;class G_{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=mn,!e&&mn&&(this.index=(mn.scopes||(mn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=mn;try{return mn=this,e()}finally{mn=n}}}on(){mn=this}off(){mn=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function z_(t,e=mn){e&&e.active&&e.effects.push(t)}function Y_(){return mn}const zu=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Cm=t=>(t.w&Ss)>0,Sm=t=>(t.n&Ss)>0,X_=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ss},Z_=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];Cm(r)&&!Sm(r)?r.delete(t):e[n++]=r,r.w&=~Ss,r.n&=~Ss}e.length=n}},Gc=new WeakMap;let Ii=0,Ss=1;const zc=30;let gn;const er=Symbol(""),Yc=Symbol("");class Yu{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,z_(this,s)}run(){if(!this.active)return this.fn();let e=gn,n=ys;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=gn,gn=this,ys=!0,Ss=1<<++Ii,Ii<=zc?X_(this):Qh(this),this.fn()}finally{Ii<=zc&&Z_(this),Ss=1<<--Ii,gn=this.parent,ys=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){gn===this?this.deferStop=!0:this.active&&(Qh(this),this.onStop&&this.onStop(),this.active=!1)}}function Qh(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ys=!0;const km=[];function ni(){km.push(ys),ys=!1}function si(){const t=km.pop();ys=t===void 0?!0:t}function Yt(t,e,n){if(ys&&gn){let s=Gc.get(t);s||Gc.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=zu()),Tm(r)}}function Tm(t,e){let n=!1;Ii<=zc?Sm(t)||(t.n|=Ss,n=!Cm(t)):n=!t.has(gn),n&&(t.add(gn),gn.deps.push(t))}function Wn(t,e,n,s,r,i){const o=Gc.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ne(t)){const l=Number(s);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ne(t)?Gu(n)&&a.push(o.get("length")):(a.push(o.get(er)),Pr(t)&&a.push(o.get(Yc)));break;case"delete":ne(t)||(a.push(o.get(er)),Pr(t)&&a.push(o.get(Yc)));break;case"set":Pr(t)&&a.push(o.get(er));break}if(a.length===1)a[0]&&Xc(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Xc(zu(l))}}function Xc(t,e){const n=ne(t)?t:[...t];for(const s of n)s.computed&&Wh(s);for(const s of n)s.computed||Wh(s)}function Wh(t,e){(t!==gn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const ew=Ju("__proto__,__v_isRef,__isVue"),Rm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Hi)),tw=Xu(),nw=Xu(!1,!0),sw=Xu(!0),Gh=rw();function rw(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=Ce(this);for(let i=0,o=this.length;i<o;i++)Yt(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(Ce)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ni();const s=Ce(this)[e].apply(this,n);return si(),s}}),t}function iw(t){const e=Ce(this);return Yt(e,"has",t),e.hasOwnProperty(t)}function Xu(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?ww:Pm:e?Nm:Om).get(s))return s;const o=ne(s);if(!t){if(o&&Ie(Gh,r))return Reflect.get(Gh,r,i);if(r==="hasOwnProperty")return iw}const a=Reflect.get(s,r,i);return(Hi(r)?Rm.has(r):ew(r))||(t||Yt(s,"get",r),e)?a:st(a)?o&&Gu(r)?a:a.value:Ve(a)?t?Mm(a):Ns(a):a}}const ow=xm(),aw=xm(!0);function xm(t=!1){return function(n,s,r,i){let o=n[s];if(ar(o)&&st(o)&&!st(r))return!1;if(!t&&(!ba(r)&&!ar(r)&&(o=Ce(o),r=Ce(r)),!ne(n)&&st(o)&&!st(r)))return o.value=r,!0;const a=ne(n)&&Gu(s)?Number(s)<n.length:Ie(n,s),l=Reflect.set(n,s,r,i);return n===Ce(i)&&(a?Ki(r,o)&&Wn(n,"set",s,r):Wn(n,"add",s,r)),l}}function lw(t,e){const n=Ie(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&Wn(t,"delete",e,void 0),s}function cw(t,e){const n=Reflect.has(t,e);return(!Hi(e)||!Rm.has(e))&&Yt(t,"has",e),n}function uw(t){return Yt(t,"iterate",ne(t)?"length":er),Reflect.ownKeys(t)}const Dm={get:tw,set:ow,deleteProperty:lw,has:cw,ownKeys:uw},dw={get:sw,set(t,e){return!0},deleteProperty(t,e){return!0}},hw=Ut({},Dm,{get:nw,set:aw}),Zu=t=>t,ul=t=>Reflect.getPrototypeOf(t);function qo(t,e,n=!1,s=!1){t=t.__v_raw;const r=Ce(t),i=Ce(e);n||(e!==i&&Yt(r,"get",e),Yt(r,"get",i));const{has:o}=ul(r),a=s?Zu:n?nd:Ji;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function Ho(t,e=!1){const n=this.__v_raw,s=Ce(n),r=Ce(t);return e||(t!==r&&Yt(s,"has",t),Yt(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function Ko(t,e=!1){return t=t.__v_raw,!e&&Yt(Ce(t),"iterate",er),Reflect.get(t,"size",t)}function zh(t){t=Ce(t);const e=Ce(this);return ul(e).has.call(e,t)||(e.add(t),Wn(e,"add",t,t)),this}function Yh(t,e){e=Ce(e);const n=Ce(this),{has:s,get:r}=ul(n);let i=s.call(n,t);i||(t=Ce(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?Ki(e,o)&&Wn(n,"set",t,e):Wn(n,"add",t,e),this}function Xh(t){const e=Ce(this),{has:n,get:s}=ul(e);let r=n.call(e,t);r||(t=Ce(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&Wn(e,"delete",t,void 0),i}function Zh(){const t=Ce(this),e=t.size!==0,n=t.clear();return e&&Wn(t,"clear",void 0,void 0),n}function Jo(t,e){return function(s,r){const i=this,o=i.__v_raw,a=Ce(o),l=e?Zu:t?nd:Ji;return!t&&Yt(a,"iterate",er),o.forEach((c,u)=>s.call(r,l(c),l(u),i))}}function Qo(t,e,n){return function(...s){const r=this.__v_raw,i=Ce(r),o=Pr(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...s),u=n?Zu:e?nd:Ji;return!e&&Yt(i,"iterate",l?Yc:er),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function as(t){return function(...e){return t==="delete"?!1:this}}function fw(){const t={get(i){return qo(this,i)},get size(){return Ko(this)},has:Ho,add:zh,set:Yh,delete:Xh,clear:Zh,forEach:Jo(!1,!1)},e={get(i){return qo(this,i,!1,!0)},get size(){return Ko(this)},has:Ho,add:zh,set:Yh,delete:Xh,clear:Zh,forEach:Jo(!1,!0)},n={get(i){return qo(this,i,!0)},get size(){return Ko(this,!0)},has(i){return Ho.call(this,i,!0)},add:as("add"),set:as("set"),delete:as("delete"),clear:as("clear"),forEach:Jo(!0,!1)},s={get(i){return qo(this,i,!0,!0)},get size(){return Ko(this,!0)},has(i){return Ho.call(this,i,!0)},add:as("add"),set:as("set"),delete:as("delete"),clear:as("clear"),forEach:Jo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Qo(i,!1,!1),n[i]=Qo(i,!0,!1),e[i]=Qo(i,!1,!0),s[i]=Qo(i,!0,!0)}),[t,n,e,s]}const[pw,mw,gw,Aw]=fw();function ed(t,e){const n=e?t?Aw:gw:t?mw:pw;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Ie(n,r)&&r in s?n:s,r,i)}const vw={get:ed(!1,!1)},yw={get:ed(!1,!0)},_w={get:ed(!0,!1)},Om=new WeakMap,Nm=new WeakMap,Pm=new WeakMap,ww=new WeakMap;function bw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ew(t){return t.__v_skip||!Object.isExtensible(t)?0:bw(K_(t))}function Ns(t){return ar(t)?t:td(t,!1,Dm,vw,Om)}function Iw(t){return td(t,!1,hw,yw,Nm)}function Mm(t){return td(t,!0,dw,_w,Pm)}function td(t,e,n,s,r){if(!Ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=Ew(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function tr(t){return ar(t)?tr(t.__v_raw):!!(t&&t.__v_isReactive)}function ar(t){return!!(t&&t.__v_isReadonly)}function ba(t){return!!(t&&t.__v_isShallow)}function Um(t){return tr(t)||ar(t)}function Ce(t){const e=t&&t.__v_raw;return e?Ce(e):t}function Lm(t){return _a(t,"__v_skip",!0),t}const Ji=t=>Ve(t)?Ns(t):t,nd=t=>Ve(t)?Mm(t):t;function Bm(t){ys&&gn&&(t=Ce(t),Tm(t.dep||(t.dep=zu())))}function Fm(t,e){t=Ce(t);const n=t.dep;n&&Xc(n)}function st(t){return!!(t&&t.__v_isRef===!0)}function M(t){return Vm(t,!1)}function Cw(t){return Vm(t,!0)}function Vm(t,e){return st(t)?t:new Sw(t,e)}class Sw{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Ce(e),this._value=n?e:Ji(e)}get value(){return Bm(this),this._value}set value(e){const n=this.__v_isShallow||ba(e)||ar(e);e=n?e:Ce(e),Ki(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Ji(e),Fm(this))}}function y(t){return st(t)?t.value:t}const kw={get:(t,e,n)=>y(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return st(r)&&!st(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function jm(t){return tr(t)?t:new Proxy(t,kw)}var $m;class Tw{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[$m]=!1,this._dirty=!0,this.effect=new Yu(e,()=>{this._dirty||(this._dirty=!0,Fm(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=Ce(this);return Bm(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}$m="__v_isReadonly";function Rw(t,e,n=!1){let s,r;const i=pe(t);return i?(s=t,r=yn):(s=t.get,r=t.set),new Tw(s,r,i||!r,n)}function _s(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){dl(i,e,n)}return r}function dn(t,e,n,s){if(pe(t)){const i=_s(t,e,n,s);return i&&bm(i)&&i.catch(o=>{dl(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(dn(t[i],e,n,s));return r}function dl(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){_s(l,null,10,[t,o,a]);return}}xw(t,n,r,s)}function xw(t,e,n,s=!0){console.error(t)}let Qi=!1,Zc=!1;const Dt=[];let Rn=0;const Mr=[];let qn=null,Ks=0;const qm=Promise.resolve();let sd=null;function Wi(t){const e=sd||qm;return t?e.then(this?t.bind(this):t):e}function Dw(t){let e=Rn+1,n=Dt.length;for(;e<n;){const s=e+n>>>1;Gi(Dt[s])<t?e=s+1:n=s}return e}function rd(t){(!Dt.length||!Dt.includes(t,Qi&&t.allowRecurse?Rn+1:Rn))&&(t.id==null?Dt.push(t):Dt.splice(Dw(t.id),0,t),Hm())}function Hm(){!Qi&&!Zc&&(Zc=!0,sd=qm.then(Jm))}function Ow(t){const e=Dt.indexOf(t);e>Rn&&Dt.splice(e,1)}function Nw(t){ne(t)?Mr.push(...t):(!qn||!qn.includes(t,t.allowRecurse?Ks+1:Ks))&&Mr.push(t),Hm()}function ef(t,e=Qi?Rn+1:0){for(;e<Dt.length;e++){const n=Dt[e];n&&n.pre&&(Dt.splice(e,1),e--,n())}}function Km(t){if(Mr.length){const e=[...new Set(Mr)];if(Mr.length=0,qn){qn.push(...e);return}for(qn=e,qn.sort((n,s)=>Gi(n)-Gi(s)),Ks=0;Ks<qn.length;Ks++)qn[Ks]();qn=null,Ks=0}}const Gi=t=>t.id==null?1/0:t.id,Pw=(t,e)=>{const n=Gi(t)-Gi(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Jm(t){Zc=!1,Qi=!0,Dt.sort(Pw);const e=yn;try{for(Rn=0;Rn<Dt.length;Rn++){const n=Dt[Rn];n&&n.active!==!1&&_s(n,null,14)}}finally{Rn=0,Dt.length=0,Km(),Qi=!1,sd=null,(Dt.length||Mr.length)&&Jm()}}function Mw(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||je;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=s[u]||je;f&&(r=n.map(p=>At(p)?p.trim():p)),h&&(r=n.map(wa))}let a,l=s[a=Ac(e)]||s[a=Ac(Mn(e))];!l&&i&&(l=s[a=Ac(ti(e))]),l&&dn(l,t,6,r);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,dn(c,t,6,r)}}function Qm(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!pe(t)){const l=c=>{const u=Qm(c,e,!0);u&&(a=!0,Ut(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Ve(t)&&s.set(t,null),null):(ne(i)?i.forEach(l=>o[l]=null):Ut(o,i),Ve(t)&&s.set(t,o),o)}function hl(t,e){return!t||!ol(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ie(t,e[0].toLowerCase()+e.slice(1))||Ie(t,ti(e))||Ie(t,e))}let It=null,fl=null;function Ea(t){const e=It;return It=t,fl=t&&t.type.__scopeId||null,e}function Ge(t){fl=t}function ze(){fl=null}function j(t,e=It,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&df(-1);const i=Ea(e);let o;try{o=t(...r)}finally{Ea(i),s._d&&df(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function vc(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:p,ctx:m,inheritAttrs:A}=t;let v,w;const S=Ea(t);try{if(n.shapeFlag&4){const R=r||s;v=Tn(u.call(R,R,h,i,p,f,m)),w=l}else{const R=e;v=Tn(R.length>1?R(i,{attrs:l,slots:a,emit:c}):R(i,null)),w=e.props?l:Uw(l)}}catch(R){Ni.length=0,dl(R,t,1),v=b(hn)}let E=v;if(w&&A!==!1){const R=Object.keys(w),{shapeFlag:X}=E;R.length&&X&7&&(o&&R.some(Qu)&&(w=Lw(w,o)),E=ks(E,w))}return n.dirs&&(E=ks(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),v=E,Ea(S),v}const Uw=t=>{let e;for(const n in t)(n==="class"||n==="style"||ol(n))&&((e||(e={}))[n]=t[n]);return e},Lw=(t,e)=>{const n={};for(const s in t)(!Qu(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Bw(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?tf(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==s[f]&&!hl(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?tf(s,o,c):!0:!!o;return!1}function tf(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!hl(n,i))return!0}return!1}function Fw({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Vw=t=>t.__isSuspense;function jw(t,e){e&&e.pendingBranch?ne(t)?e.effects.push(...t):e.effects.push(t):Nw(t)}function ws(t,e){if(nt){let n=nt.provides;const s=nt.parent&&nt.parent.provides;s===n&&(n=nt.provides=Object.create(s)),n[t]=e}}function Xe(t,e,n=!1){const s=nt||It;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&pe(e)?e.call(s.proxy):e}}const Wo={};function ct(t,e,n){return Wm(t,e,n)}function Wm(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=je){const a=Y_()===(nt==null?void 0:nt.scope)?nt:null;let l,c=!1,u=!1;if(st(t)?(l=()=>t.value,c=ba(t)):tr(t)?(l=()=>t,s=!0):ne(t)?(u=!0,c=t.some(E=>tr(E)||ba(E)),l=()=>t.map(E=>{if(st(E))return E.value;if(tr(E))return Gs(E);if(pe(E))return _s(E,a,2)})):pe(t)?e?l=()=>_s(t,a,2):l=()=>{if(!(a&&a.isUnmounted))return h&&h(),dn(t,a,3,[f])}:l=yn,e&&s){const E=l;l=()=>Gs(E())}let h,f=E=>{h=w.onStop=()=>{_s(E,a,4)}},p;if(Yi)if(f=yn,e?n&&dn(e,a,3,[l(),u?[]:void 0,f]):l(),r==="sync"){const E=Pb();p=E.__watcherHandles||(E.__watcherHandles=[])}else return yn;let m=u?new Array(t.length).fill(Wo):Wo;const A=()=>{if(w.active)if(e){const E=w.run();(s||c||(u?E.some((R,X)=>Ki(R,m[X])):Ki(E,m)))&&(h&&h(),dn(e,a,3,[E,m===Wo?void 0:u&&m[0]===Wo?[]:m,f]),m=E)}else w.run()};A.allowRecurse=!!e;let v;r==="sync"?v=A:r==="post"?v=()=>Wt(A,a&&a.suspense):(A.pre=!0,a&&(A.id=a.uid),v=()=>rd(A));const w=new Yu(l,v);e?n?A():m=w.run():r==="post"?Wt(w.run.bind(w),a&&a.suspense):w.run();const S=()=>{w.stop(),a&&a.scope&&Wu(a.scope.effects,w)};return p&&p.push(S),S}function $w(t,e,n){const s=this.proxy,r=At(t)?t.includes(".")?Gm(s,t):()=>s[t]:t.bind(s,s);let i;pe(e)?i=e:(i=e.handler,n=e);const o=nt;jr(this);const a=Wm(r,i.bind(s),n);return o?jr(o):nr(),a}function Gm(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Gs(t,e){if(!Ve(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),st(t))Gs(t.value,e);else if(ne(t))for(let n=0;n<t.length;n++)Gs(t[n],e);else if(al(t)||Pr(t))t.forEach(n=>{Gs(n,e)});else if(Im(t))for(const n in t)Gs(t[n],e);return t}function qw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return dt(()=>{t.isMounted=!0}),od(()=>{t.isUnmounting=!0}),t}const cn=[Function,Array],Hw={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:cn,onEnter:cn,onAfterEnter:cn,onEnterCancelled:cn,onBeforeLeave:cn,onLeave:cn,onAfterLeave:cn,onLeaveCancelled:cn,onBeforeAppear:cn,onAppear:cn,onAfterAppear:cn,onAppearCancelled:cn},setup(t,{slots:e}){const n=hg(),s=qw();let r;return()=>{const i=e.default&&Ym(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const A of i)if(A.type!==hn){o=A;break}}const a=Ce(t),{mode:l}=a;if(s.isLeaving)return yc(o);const c=nf(o);if(!c)return yc(o);const u=eu(c,a,s,n);tu(c,u);const h=n.subTree,f=h&&nf(h);let p=!1;const{getTransitionKey:m}=c.type;if(m){const A=m();r===void 0?r=A:A!==r&&(r=A,p=!0)}if(f&&f.type!==hn&&(!Js(c,f)||p)){const A=eu(f,a,s,n);if(tu(f,A),l==="out-in")return s.isLeaving=!0,A.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},yc(o);l==="in-out"&&c.type!==hn&&(A.delayLeave=(v,w,S)=>{const E=zm(s,f);E[String(f.key)]=f,v._leaveCb=()=>{w(),v._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=S})}return o}}},Kw=Hw;function zm(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function eu(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:A,onAppear:v,onAfterAppear:w,onAppearCancelled:S}=e,E=String(t.key),R=zm(n,t),X=(K,ve)=>{K&&dn(K,s,9,ve)},oe=(K,ve)=>{const ae=ve[1];X(K,ve),ne(K)?K.every(Le=>Le.length<=1)&&ae():K.length<=1&&ae()},ge={mode:i,persisted:o,beforeEnter(K){let ve=a;if(!n.isMounted)if(r)ve=A||a;else return;K._leaveCb&&K._leaveCb(!0);const ae=R[E];ae&&Js(t,ae)&&ae.el._leaveCb&&ae.el._leaveCb(),X(ve,[K])},enter(K){let ve=l,ae=c,Le=u;if(!n.isMounted)if(r)ve=v||l,ae=w||c,Le=S||u;else return;let He=!1;const bt=K._enterCb=kt=>{He||(He=!0,kt?X(Le,[K]):X(ae,[K]),ge.delayedLeave&&ge.delayedLeave(),K._enterCb=void 0)};ve?oe(ve,[K,bt]):bt()},leave(K,ve){const ae=String(t.key);if(K._enterCb&&K._enterCb(!0),n.isUnmounting)return ve();X(h,[K]);let Le=!1;const He=K._leaveCb=bt=>{Le||(Le=!0,ve(),bt?X(m,[K]):X(p,[K]),K._leaveCb=void 0,R[ae]===t&&delete R[ae])};R[ae]=t,f?oe(f,[K,He]):He()},clone(K){return eu(K,e,n,s)}};return ge}function yc(t){if(pl(t))return t=ks(t),t.children=null,t}function nf(t){return pl(t)?t.children?t.children[0]:void 0:t}function tu(t,e){t.shapeFlag&6&&t.component?tu(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ym(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===se?(o.patchFlag&128&&r++,s=s.concat(Ym(o.children,e,a))):(e||o.type!==hn)&&s.push(a!=null?ks(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function Xm(t){return pe(t)?{setup:t,name:t.name}:t}const Di=t=>!!t.type.__asyncLoader,pl=t=>t.type.__isKeepAlive;function Jw(t,e){Zm(t,"a",e)}function Qw(t,e){Zm(t,"da",e)}function Zm(t,e,n=nt){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(ml(e,s,n),n){let r=n.parent;for(;r&&r.parent;)pl(r.parent.vnode)&&Ww(s,e,n,r),r=r.parent}}function Ww(t,e,n,s){const r=ml(e,t,s,!0);Un(()=>{Wu(s[e],r)},n)}function ml(t,e,n=nt,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;ni(),jr(n);const a=dn(e,n,t,o);return nr(),si(),a});return s?r.unshift(i):r.push(i),i}}const ns=t=>(e,n=nt)=>(!Yi||t==="sp")&&ml(t,(...s)=>e(...s),n),id=ns("bm"),dt=ns("m"),Gw=ns("bu"),zw=ns("u"),od=ns("bum"),Un=ns("um"),Yw=ns("sp"),Xw=ns("rtg"),Zw=ns("rtc");function eb(t,e=nt){ml("ec",t,e)}function at(t,e){const n=It;if(n===null)return t;const s=yl(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,l,c=je]=e[i];o&&(pe(o)&&(o={mounted:o,updated:o}),o.deep&&Gs(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function Vs(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(ni(),dn(l,n,8,[t.el,a,t,e]),si())}}const eg="components";function Jt(t,e){return nb(eg,t,!0,e)||t}const tb=Symbol();function nb(t,e,n=!0,s=!1){const r=It||nt;if(r){const i=r.type;if(t===eg){const a=Db(i,!1);if(a&&(a===e||a===Mn(e)||a===cl(Mn(e))))return i}const o=sf(r[t]||i[t],e)||sf(r.appContext[t],e);return!o&&s?i:o}}function sf(t,e){return t&&(t[e]||t[Mn(e)]||t[cl(Mn(e))])}function vt(t,e,n,s){let r;const i=n&&n[s];if(ne(t)||At(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(Ve(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=e(t[c],c,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}function gl(t,e,n={},s,r){if(It.isCE||It.parent&&Di(It.parent)&&It.parent.isCE)return e!=="default"&&(n.name=e),b("slot",n,s&&s());let i=t[e];i&&i._c&&(i._d=!1),C();const o=i&&tg(i(n)),a=Kt(se,{key:n.key||o&&o.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function tg(t){return t.some(e=>Ca(e)?!(e.type===hn||e.type===se&&!tg(e.children)):!0)?t:null}const nu=t=>t?fg(t)?yl(t)||t.proxy:nu(t.parent):null,Oi=Ut(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>nu(t.parent),$root:t=>nu(t.root),$emit:t=>t.emit,$options:t=>ad(t),$forceUpdate:t=>t.f||(t.f=()=>rd(t.update)),$nextTick:t=>t.n||(t.n=Wi.bind(t.proxy)),$watch:t=>$w.bind(t)}),_c=(t,e)=>t!==je&&!t.__isScriptSetup&&Ie(t,e),sb={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(_c(s,e))return o[e]=1,s[e];if(r!==je&&Ie(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&Ie(c,e))return o[e]=3,i[e];if(n!==je&&Ie(n,e))return o[e]=4,n[e];su&&(o[e]=0)}}const u=Oi[e];let h,f;if(u)return e==="$attrs"&&Yt(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==je&&Ie(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,Ie(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return _c(r,e)?(r[e]=n,!0):s!==je&&Ie(s,e)?(s[e]=n,!0):Ie(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==je&&Ie(t,o)||_c(e,o)||(a=i[0])&&Ie(a,o)||Ie(s,o)||Ie(Oi,o)||Ie(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ie(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let su=!0;function rb(t){const e=ad(t),n=t.proxy,s=t.ctx;su=!1,e.beforeCreate&&rf(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:p,updated:m,activated:A,deactivated:v,beforeDestroy:w,beforeUnmount:S,destroyed:E,unmounted:R,render:X,renderTracked:oe,renderTriggered:ge,errorCaptured:K,serverPrefetch:ve,expose:ae,inheritAttrs:Le,components:He,directives:bt,filters:kt}=e;if(c&&ib(c,s,null,t.appContext.config.unwrapInjectedRef),o)for(const be in o){const Te=o[be];pe(Te)&&(s[be]=Te.bind(n))}if(r){const be=r.call(n,n);Ve(be)&&(t.data=Ns(be))}if(su=!0,i)for(const be in i){const Te=i[be],Zt=pe(Te)?Te.bind(n,n):pe(Te.get)?Te.get.bind(n,n):yn,Oe=!pe(Te)&&pe(Te.set)?Te.set.bind(n):yn,pt=ue({get:Zt,set:Oe});Object.defineProperty(s,be,{enumerable:!0,configurable:!0,get:()=>pt.value,set:Qe=>pt.value=Qe})}if(a)for(const be in a)ng(a[be],s,n,be);if(l){const be=pe(l)?l.call(n):l;Reflect.ownKeys(be).forEach(Te=>{ws(Te,be[Te])})}u&&rf(u,t,"c");function Se(be,Te){ne(Te)?Te.forEach(Zt=>be(Zt.bind(n))):Te&&be(Te.bind(n))}if(Se(id,h),Se(dt,f),Se(Gw,p),Se(zw,m),Se(Jw,A),Se(Qw,v),Se(eb,K),Se(Zw,oe),Se(Xw,ge),Se(od,S),Se(Un,R),Se(Yw,ve),ne(ae))if(ae.length){const be=t.exposed||(t.exposed={});ae.forEach(Te=>{Object.defineProperty(be,Te,{get:()=>n[Te],set:Zt=>n[Te]=Zt})})}else t.exposed||(t.exposed={});X&&t.render===yn&&(t.render=X),Le!=null&&(t.inheritAttrs=Le),He&&(t.components=He),bt&&(t.directives=bt)}function ib(t,e,n=yn,s=!1){ne(t)&&(t=ru(t));for(const r in t){const i=t[r];let o;Ve(i)?"default"in i?o=Xe(i.from||r,i.default,!0):o=Xe(i.from||r):o=Xe(i),st(o)&&s?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function rf(t,e,n){dn(ne(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function ng(t,e,n,s){const r=s.includes(".")?Gm(n,s):()=>n[s];if(At(t)){const i=e[t];pe(i)&&ct(r,i)}else if(pe(t))ct(r,t.bind(n));else if(Ve(t))if(ne(t))t.forEach(i=>ng(i,e,n,s));else{const i=pe(t.handler)?t.handler.bind(n):e[t.handler];pe(i)&&ct(r,i,t)}}function ad(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!n&&!s?l=e:(l={},r.length&&r.forEach(c=>Ia(l,c,o,!0)),Ia(l,e,o)),Ve(e)&&i.set(e,l),l}function Ia(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Ia(t,i,n,!0),r&&r.forEach(o=>Ia(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=ob[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const ob={data:of,props:$s,emits:$s,methods:$s,computed:$s,beforeCreate:qt,created:qt,beforeMount:qt,mounted:qt,beforeUpdate:qt,updated:qt,beforeDestroy:qt,beforeUnmount:qt,destroyed:qt,unmounted:qt,activated:qt,deactivated:qt,errorCaptured:qt,serverPrefetch:qt,components:$s,directives:$s,watch:lb,provide:of,inject:ab};function of(t,e){return e?t?function(){return Ut(pe(t)?t.call(this,this):t,pe(e)?e.call(this,this):e)}:e:t}function ab(t,e){return $s(ru(t),ru(e))}function ru(t){if(ne(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function qt(t,e){return t?[...new Set([].concat(t,e))]:e}function $s(t,e){return t?Ut(Ut(Object.create(null),t),e):e}function lb(t,e){if(!t)return e;if(!e)return t;const n=Ut(Object.create(null),t);for(const s in e)n[s]=qt(t[s],e[s]);return n}function cb(t,e,n,s=!1){const r={},i={};_a(i,vl,1),t.propsDefaults=Object.create(null),sg(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Iw(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function ub(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Ce(r),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(hl(t.emitsOptions,f))continue;const p=e[f];if(l)if(Ie(i,f))p!==i[f]&&(i[f]=p,c=!0);else{const m=Mn(f);r[m]=iu(l,a,m,p,t,!1)}else p!==i[f]&&(i[f]=p,c=!0)}}}else{sg(t,e,r,i)&&(c=!0);let u;for(const h in a)(!e||!Ie(e,h)&&((u=ti(h))===h||!Ie(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=iu(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!Ie(e,h))&&(delete i[h],c=!0)}c&&Wn(t,"set","$attrs")}function sg(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(oa(l))continue;const c=e[l];let u;r&&Ie(r,u=Mn(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:hl(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=Ce(n),c=a||je;for(let u=0;u<i.length;u++){const h=i[u];n[h]=iu(r,l,h,c[h],t,!Ie(c,h))}}return o}function iu(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Ie(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&pe(l)){const{propsDefaults:c}=r;n in c?s=c[n]:(jr(r),s=c[n]=l.call(null,e),nr())}else s=l}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===ti(n))&&(s=!0))}return s}function rg(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!pe(t)){const u=h=>{l=!0;const[f,p]=rg(h,e,!0);Ut(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Ve(t)&&s.set(t,Nr),Nr;if(ne(i))for(let u=0;u<i.length;u++){const h=Mn(i[u]);af(h)&&(o[h]=je)}else if(i)for(const u in i){const h=Mn(u);if(af(h)){const f=i[u],p=o[h]=ne(f)||pe(f)?{type:f}:Object.assign({},f);if(p){const m=uf(Boolean,p.type),A=uf(String,p.type);p[0]=m>-1,p[1]=A<0||m<A,(m>-1||Ie(p,"default"))&&a.push(h)}}}const c=[o,a];return Ve(t)&&s.set(t,c),c}function af(t){return t[0]!=="$"}function lf(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function cf(t,e){return lf(t)===lf(e)}function uf(t,e){return ne(e)?e.findIndex(n=>cf(n,t)):pe(e)&&cf(e,t)?0:-1}const ig=t=>t[0]==="_"||t==="$stable",ld=t=>ne(t)?t.map(Tn):[Tn(t)],db=(t,e,n)=>{if(e._n)return e;const s=j((...r)=>ld(e(...r)),n);return s._c=!1,s},og=(t,e,n)=>{const s=t._ctx;for(const r in t){if(ig(r))continue;const i=t[r];if(pe(i))e[r]=db(r,i,s);else if(i!=null){const o=ld(i);e[r]=()=>o}}},ag=(t,e)=>{const n=ld(e);t.slots.default=()=>n},hb=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Ce(e),_a(e,"_",n)):og(e,t.slots={})}else t.slots={},e&&ag(t,e);_a(t.slots,vl,1)},fb=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=je;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(Ut(r,e),!n&&a===1&&delete r._):(i=!e.$stable,og(e,r)),o=e}else e&&(ag(t,e),o={default:1});if(i)for(const a in r)!ig(a)&&!(a in o)&&delete r[a]};function lg(){return{app:null,config:{isNativeTag:$_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pb=0;function mb(t,e){return function(s,r=null){pe(s)||(s=Object.assign({},s)),r!=null&&!Ve(r)&&(r=null);const i=lg(),o=new Set;let a=!1;const l=i.app={_uid:pb++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:Mb,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&pe(c.install)?(o.add(c),c.install(l,...u)):pe(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const f=b(s,r);return f.appContext=i,u&&e?e(f,c):t(f,c,h),a=!0,l._container=c,c.__vue_app__=l,yl(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l}};return l}}function ou(t,e,n,s,r=!1){if(ne(t)){t.forEach((f,p)=>ou(f,e&&(ne(e)?e[p]:e),n,s,r));return}if(Di(s)&&!r)return;const i=s.shapeFlag&4?yl(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===je?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(At(c)?(u[c]=null,Ie(h,c)&&(h[c]=null)):st(c)&&(c.value=null)),pe(l))_s(l,a,12,[o,u]);else{const f=At(l),p=st(l);if(f||p){const m=()=>{if(t.f){const A=f?Ie(h,l)?h[l]:u[l]:l.value;r?ne(A)&&Wu(A,i):ne(A)?A.includes(i)||A.push(i):f?(u[l]=[i],Ie(h,l)&&(h[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,Ie(h,l)&&(h[l]=o)):p&&(l.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,Wt(m,n)):m()}}}const Wt=jw;function gb(t){return Ab(t)}function Ab(t,e){const n=W_();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:p=yn,insertStaticContent:m}=t,A=(g,_,I,k=null,O=null,L=null,$=!1,U=null,B=!!_.dynamicChildren)=>{if(g===_)return;g&&!Js(g,_)&&(k=V(g),Qe(g,O,L,!0),g=null),_.patchFlag===-2&&(B=!1,_.dynamicChildren=null);const{type:N,ref:Z,shapeFlag:J}=_;switch(N){case Al:v(g,_,I,k);break;case hn:w(g,_,I,k);break;case wc:g==null&&S(_,I,k,$);break;case se:He(g,_,I,k,O,L,$,U,B);break;default:J&1?X(g,_,I,k,O,L,$,U,B):J&6?bt(g,_,I,k,O,L,$,U,B):(J&64||J&128)&&N.process(g,_,I,k,O,L,$,U,B,Ee)}Z!=null&&O&&ou(Z,g&&g.ref,L,_||g,!_)},v=(g,_,I,k)=>{if(g==null)s(_.el=a(_.children),I,k);else{const O=_.el=g.el;_.children!==g.children&&c(O,_.children)}},w=(g,_,I,k)=>{g==null?s(_.el=l(_.children||""),I,k):_.el=g.el},S=(g,_,I,k)=>{[g.el,g.anchor]=m(g.children,_,I,k,g.el,g.anchor)},E=({el:g,anchor:_},I,k)=>{let O;for(;g&&g!==_;)O=f(g),s(g,I,k),g=O;s(_,I,k)},R=({el:g,anchor:_})=>{let I;for(;g&&g!==_;)I=f(g),r(g),g=I;r(_)},X=(g,_,I,k,O,L,$,U,B)=>{$=$||_.type==="svg",g==null?oe(_,I,k,O,L,$,U,B):ve(g,_,O,L,$,U,B)},oe=(g,_,I,k,O,L,$,U)=>{let B,N;const{type:Z,props:J,shapeFlag:ee,transition:le,dirs:ye}=g;if(B=g.el=o(g.type,L,J&&J.is,J),ee&8?u(B,g.children):ee&16&&K(g.children,B,null,k,O,L&&Z!=="foreignObject",$,U),ye&&Vs(g,null,k,"created"),ge(B,g,g.scopeId,$,k),J){for(const Me in J)Me!=="value"&&!oa(Me)&&i(B,Me,null,J[Me],L,g.children,k,O,q);"value"in J&&i(B,"value",null,J.value),(N=J.onVnodeBeforeMount)&&kn(N,k,g)}ye&&Vs(g,null,k,"beforeMount");const Be=(!O||O&&!O.pendingBranch)&&le&&!le.persisted;Be&&le.beforeEnter(B),s(B,_,I),((N=J&&J.onVnodeMounted)||Be||ye)&&Wt(()=>{N&&kn(N,k,g),Be&&le.enter(B),ye&&Vs(g,null,k,"mounted")},O)},ge=(g,_,I,k,O)=>{if(I&&p(g,I),k)for(let L=0;L<k.length;L++)p(g,k[L]);if(O){let L=O.subTree;if(_===L){const $=O.vnode;ge(g,$,$.scopeId,$.slotScopeIds,O.parent)}}},K=(g,_,I,k,O,L,$,U,B=0)=>{for(let N=B;N<g.length;N++){const Z=g[N]=U?ds(g[N]):Tn(g[N]);A(null,Z,_,I,k,O,L,$,U)}},ve=(g,_,I,k,O,L,$)=>{const U=_.el=g.el;let{patchFlag:B,dynamicChildren:N,dirs:Z}=_;B|=g.patchFlag&16;const J=g.props||je,ee=_.props||je;let le;I&&js(I,!1),(le=ee.onVnodeBeforeUpdate)&&kn(le,I,_,g),Z&&Vs(_,g,I,"beforeUpdate"),I&&js(I,!0);const ye=O&&_.type!=="foreignObject";if(N?ae(g.dynamicChildren,N,U,I,k,ye,L):$||Te(g,_,U,null,I,k,ye,L,!1),B>0){if(B&16)Le(U,_,J,ee,I,k,O);else if(B&2&&J.class!==ee.class&&i(U,"class",null,ee.class,O),B&4&&i(U,"style",J.style,ee.style,O),B&8){const Be=_.dynamicProps;for(let Me=0;Me<Be.length;Me++){const rt=Be[Me],pn=J[rt],Cr=ee[rt];(Cr!==pn||rt==="value")&&i(U,rt,pn,Cr,O,g.children,I,k,q)}}B&1&&g.children!==_.children&&u(U,_.children)}else!$&&N==null&&Le(U,_,J,ee,I,k,O);((le=ee.onVnodeUpdated)||Z)&&Wt(()=>{le&&kn(le,I,_,g),Z&&Vs(_,g,I,"updated")},k)},ae=(g,_,I,k,O,L,$)=>{for(let U=0;U<_.length;U++){const B=g[U],N=_[U],Z=B.el&&(B.type===se||!Js(B,N)||B.shapeFlag&70)?h(B.el):I;A(B,N,Z,null,k,O,L,$,!0)}},Le=(g,_,I,k,O,L,$)=>{if(I!==k){if(I!==je)for(const U in I)!oa(U)&&!(U in k)&&i(g,U,I[U],null,$,_.children,O,L,q);for(const U in k){if(oa(U))continue;const B=k[U],N=I[U];B!==N&&U!=="value"&&i(g,U,N,B,$,_.children,O,L,q)}"value"in k&&i(g,"value",I.value,k.value)}},He=(g,_,I,k,O,L,$,U,B)=>{const N=_.el=g?g.el:a(""),Z=_.anchor=g?g.anchor:a("");let{patchFlag:J,dynamicChildren:ee,slotScopeIds:le}=_;le&&(U=U?U.concat(le):le),g==null?(s(N,I,k),s(Z,I,k),K(_.children,I,Z,O,L,$,U,B)):J>0&&J&64&&ee&&g.dynamicChildren?(ae(g.dynamicChildren,ee,I,O,L,$,U),(_.key!=null||O&&_===O.subTree)&&cg(g,_,!0)):Te(g,_,I,Z,O,L,$,U,B)},bt=(g,_,I,k,O,L,$,U,B)=>{_.slotScopeIds=U,g==null?_.shapeFlag&512?O.ctx.activate(_,I,k,$,B):kt(_,I,k,O,L,$,B):Ye(g,_,B)},kt=(g,_,I,k,O,L,$)=>{const U=g.component=Sb(g,k,O);if(pl(g)&&(U.ctx.renderer=Ee),kb(U),U.asyncDep){if(O&&O.registerDep(U,Se),!g.el){const B=U.subTree=b(hn);w(null,B,_,I)}return}Se(U,g,_,I,O,L,$)},Ye=(g,_,I)=>{const k=_.component=g.component;if(Bw(g,_,I))if(k.asyncDep&&!k.asyncResolved){be(k,_,I);return}else k.next=_,Ow(k.update),k.update();else _.el=g.el,k.vnode=_},Se=(g,_,I,k,O,L,$)=>{const U=()=>{if(g.isMounted){let{next:Z,bu:J,u:ee,parent:le,vnode:ye}=g,Be=Z,Me;js(g,!1),Z?(Z.el=ye.el,be(g,Z,$)):Z=ye,J&&aa(J),(Me=Z.props&&Z.props.onVnodeBeforeUpdate)&&kn(Me,le,Z,ye),js(g,!0);const rt=vc(g),pn=g.subTree;g.subTree=rt,A(pn,rt,h(pn.el),V(pn),g,O,L),Z.el=rt.el,Be===null&&Fw(g,rt.el),ee&&Wt(ee,O),(Me=Z.props&&Z.props.onVnodeUpdated)&&Wt(()=>kn(Me,le,Z,ye),O)}else{let Z;const{el:J,props:ee}=_,{bm:le,m:ye,parent:Be}=g,Me=Di(_);if(js(g,!1),le&&aa(le),!Me&&(Z=ee&&ee.onVnodeBeforeMount)&&kn(Z,Be,_),js(g,!0),J&&Ae){const rt=()=>{g.subTree=vc(g),Ae(J,g.subTree,g,O,null)};Me?_.type.__asyncLoader().then(()=>!g.isUnmounted&&rt()):rt()}else{const rt=g.subTree=vc(g);A(null,rt,I,k,g,O,L),_.el=rt.el}if(ye&&Wt(ye,O),!Me&&(Z=ee&&ee.onVnodeMounted)){const rt=_;Wt(()=>kn(Z,Be,rt),O)}(_.shapeFlag&256||Be&&Di(Be.vnode)&&Be.vnode.shapeFlag&256)&&g.a&&Wt(g.a,O),g.isMounted=!0,_=I=k=null}},B=g.effect=new Yu(U,()=>rd(N),g.scope),N=g.update=()=>B.run();N.id=g.uid,js(g,!0),N()},be=(g,_,I)=>{_.component=g;const k=g.vnode.props;g.vnode=_,g.next=null,ub(g,_.props,k,I),fb(g,_.children,I),ni(),ef(),si()},Te=(g,_,I,k,O,L,$,U,B=!1)=>{const N=g&&g.children,Z=g?g.shapeFlag:0,J=_.children,{patchFlag:ee,shapeFlag:le}=_;if(ee>0){if(ee&128){Oe(N,J,I,k,O,L,$,U,B);return}else if(ee&256){Zt(N,J,I,k,O,L,$,U,B);return}}le&8?(Z&16&&q(N,O,L),J!==N&&u(I,J)):Z&16?le&16?Oe(N,J,I,k,O,L,$,U,B):q(N,O,L,!0):(Z&8&&u(I,""),le&16&&K(J,I,k,O,L,$,U,B))},Zt=(g,_,I,k,O,L,$,U,B)=>{g=g||Nr,_=_||Nr;const N=g.length,Z=_.length,J=Math.min(N,Z);let ee;for(ee=0;ee<J;ee++){const le=_[ee]=B?ds(_[ee]):Tn(_[ee]);A(g[ee],le,I,null,O,L,$,U,B)}N>Z?q(g,O,L,!0,!1,J):K(_,I,k,O,L,$,U,B,J)},Oe=(g,_,I,k,O,L,$,U,B)=>{let N=0;const Z=_.length;let J=g.length-1,ee=Z-1;for(;N<=J&&N<=ee;){const le=g[N],ye=_[N]=B?ds(_[N]):Tn(_[N]);if(Js(le,ye))A(le,ye,I,null,O,L,$,U,B);else break;N++}for(;N<=J&&N<=ee;){const le=g[J],ye=_[ee]=B?ds(_[ee]):Tn(_[ee]);if(Js(le,ye))A(le,ye,I,null,O,L,$,U,B);else break;J--,ee--}if(N>J){if(N<=ee){const le=ee+1,ye=le<Z?_[le].el:k;for(;N<=ee;)A(null,_[N]=B?ds(_[N]):Tn(_[N]),I,ye,O,L,$,U,B),N++}}else if(N>ee)for(;N<=J;)Qe(g[N],O,L,!0),N++;else{const le=N,ye=N,Be=new Map;for(N=ye;N<=ee;N++){const en=_[N]=B?ds(_[N]):Tn(_[N]);en.key!=null&&Be.set(en.key,N)}let Me,rt=0;const pn=ee-ye+1;let Cr=!1,$h=0;const Ai=new Array(pn);for(N=0;N<pn;N++)Ai[N]=0;for(N=le;N<=J;N++){const en=g[N];if(rt>=pn){Qe(en,O,L,!0);continue}let Sn;if(en.key!=null)Sn=Be.get(en.key);else for(Me=ye;Me<=ee;Me++)if(Ai[Me-ye]===0&&Js(en,_[Me])){Sn=Me;break}Sn===void 0?Qe(en,O,L,!0):(Ai[Sn-ye]=N+1,Sn>=$h?$h=Sn:Cr=!0,A(en,_[Sn],I,null,O,L,$,U,B),rt++)}const qh=Cr?vb(Ai):Nr;for(Me=qh.length-1,N=pn-1;N>=0;N--){const en=ye+N,Sn=_[en],Hh=en+1<Z?_[en+1].el:k;Ai[N]===0?A(null,Sn,I,Hh,O,L,$,U,B):Cr&&(Me<0||N!==qh[Me]?pt(Sn,I,Hh,2):Me--)}}},pt=(g,_,I,k,O=null)=>{const{el:L,type:$,transition:U,children:B,shapeFlag:N}=g;if(N&6){pt(g.component.subTree,_,I,k);return}if(N&128){g.suspense.move(_,I,k);return}if(N&64){$.move(g,_,I,Ee);return}if($===se){s(L,_,I);for(let J=0;J<B.length;J++)pt(B[J],_,I,k);s(g.anchor,_,I);return}if($===wc){E(g,_,I);return}if(k!==2&&N&1&&U)if(k===0)U.beforeEnter(L),s(L,_,I),Wt(()=>U.enter(L),O);else{const{leave:J,delayLeave:ee,afterLeave:le}=U,ye=()=>s(L,_,I),Be=()=>{J(L,()=>{ye(),le&&le()})};ee?ee(L,ye,Be):Be()}else s(L,_,I)},Qe=(g,_,I,k=!1,O=!1)=>{const{type:L,props:$,ref:U,children:B,dynamicChildren:N,shapeFlag:Z,patchFlag:J,dirs:ee}=g;if(U!=null&&ou(U,null,I,g,!0),Z&256){_.ctx.deactivate(g);return}const le=Z&1&&ee,ye=!Di(g);let Be;if(ye&&(Be=$&&$.onVnodeBeforeUnmount)&&kn(Be,_,g),Z&6)D(g.component,I,k);else{if(Z&128){g.suspense.unmount(I,k);return}le&&Vs(g,null,_,"beforeUnmount"),Z&64?g.type.remove(g,_,I,O,Ee,k):N&&(L!==se||J>0&&J&64)?q(N,_,I,!1,!0):(L===se&&J&384||!O&&Z&16)&&q(B,_,I),k&&Ir(g)}(ye&&(Be=$&&$.onVnodeUnmounted)||le)&&Wt(()=>{Be&&kn(Be,_,g),le&&Vs(g,null,_,"unmounted")},I)},Ir=g=>{const{type:_,el:I,anchor:k,transition:O}=g;if(_===se){$o(I,k);return}if(_===wc){R(g);return}const L=()=>{r(I),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(g.shapeFlag&1&&O&&!O.persisted){const{leave:$,delayLeave:U}=O,B=()=>$(I,L);U?U(g.el,L,B):B()}else L()},$o=(g,_)=>{let I;for(;g!==_;)I=f(g),r(g),g=I;r(_)},D=(g,_,I)=>{const{bum:k,scope:O,update:L,subTree:$,um:U}=g;k&&aa(k),O.stop(),L&&(L.active=!1,Qe($,g,_,I)),U&&Wt(U,_),Wt(()=>{g.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},q=(g,_,I,k=!1,O=!1,L=0)=>{for(let $=L;$<g.length;$++)Qe(g[$],_,I,k,O)},V=g=>g.shapeFlag&6?V(g.component.subTree):g.shapeFlag&128?g.suspense.next():f(g.anchor||g.el),z=(g,_,I)=>{g==null?_._vnode&&Qe(_._vnode,null,null,!0):A(_._vnode||null,g,_,null,null,null,I),ef(),Km(),_._vnode=g},Ee={p:A,um:Qe,m:pt,r:Ir,mt:kt,mc:K,pc:Te,pbc:ae,n:V,o:t};let We,Ae;return e&&([We,Ae]=e(Ee)),{render:z,hydrate:We,createApp:mb(z,We)}}function js({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function cg(t,e,n=!1){const s=t.children,r=e.children;if(ne(s)&&ne(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=ds(r[i]),a.el=o.el),n||cg(o,a)),a.type===Al&&(a.el=o.el)}}function vb(t){const e=t.slice(),n=[0];let s,r,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(r=n[n.length-1],t[r]<c){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const yb=t=>t.__isTeleport,se=Symbol(void 0),Al=Symbol(void 0),hn=Symbol(void 0),wc=Symbol(void 0),Ni=[];let An=null;function C(t=!1){Ni.push(An=t?null:[])}function _b(){Ni.pop(),An=Ni[Ni.length-1]||null}let zi=1;function df(t){zi+=t}function ug(t){return t.dynamicChildren=zi>0?An||Nr:null,_b(),zi>0&&An&&An.push(t),t}function T(t,e,n,s,r,i){return ug(d(t,e,n,s,r,i,!0))}function Kt(t,e,n,s,r){return ug(b(t,e,n,s,r,!0))}function Ca(t){return t?t.__v_isVNode===!0:!1}function Js(t,e){return t.type===e.type&&t.key===e.key}const vl="__vInternal",dg=({key:t})=>t??null,la=({ref:t,ref_key:e,ref_for:n})=>t!=null?At(t)||st(t)||pe(t)?{i:It,r:t,k:e,f:!!n}:t:null;function d(t,e=null,n=null,s=0,r=null,i=t===se?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&dg(e),ref:e&&la(e),scopeId:fl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:It};return a?(cd(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=At(n)?8:16),zi>0&&!o&&An&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&An.push(l),l}const b=wb;function wb(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===tb)&&(t=hn),Ca(t)){const a=ks(t,e,!0);return n&&cd(a,n),zi>0&&!i&&An&&(a.shapeFlag&6?An[An.indexOf(t)]=a:An.push(a)),a.patchFlag|=-2,a}if(Ob(t)&&(t=t.__vccOpts),e){e=bb(e);let{class:a,style:l}=e;a&&!At(a)&&(e.class=Ue(a)),Ve(l)&&(Um(l)&&!ne(l)&&(l=Ut({},l)),e.style=rl(l))}const o=At(t)?1:Vw(t)?128:yb(t)?64:Ve(t)?4:pe(t)?2:0;return d(t,e,n,s,r,o,i,!0)}function bb(t){return t?Um(t)||vl in t?Ut({},t):t:null}function ks(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?Eb(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&dg(a),ref:e&&e.ref?n&&r?ne(r)?r.concat(la(e)):[r,la(e)]:la(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==se?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ks(t.ssContent),ssFallback:t.ssFallback&&ks(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ce(t=" ",e=0){return b(Al,null,t,e)}function xe(t="",e=!1){return e?(C(),Kt(hn,null,t)):b(hn,null,t)}function Tn(t){return t==null||typeof t=="boolean"?b(hn):ne(t)?b(se,null,t.slice()):typeof t=="object"?ds(t):b(Al,null,String(t))}function ds(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ks(t)}function cd(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(ne(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),cd(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(vl in e)?e._ctx=It:r===3&&It&&(It.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else pe(e)?(e={default:e,_ctx:It},n=32):(e=String(e),s&64?(n=16,e=[ce(e)]):n=8);t.children=e,t.shapeFlag|=n}function Eb(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Ue([e.class,s.class]));else if(r==="style")e.style=rl([e.style,s.style]);else if(ol(r)){const i=e[r],o=s[r];o&&i!==o&&!(ne(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function kn(t,e,n,s=null){dn(t,e,7,[n,s])}const Ib=lg();let Cb=0;function Sb(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Ib,i={uid:Cb++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new G_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rg(s,r),emitsOptions:Qm(s,r),emit:null,emitted:null,propsDefaults:je,inheritAttrs:s.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Mw.bind(null,i),t.ce&&t.ce(i),i}let nt=null;const hg=()=>nt||It,jr=t=>{nt=t,t.scope.on()},nr=()=>{nt&&nt.scope.off(),nt=null};function fg(t){return t.vnode.shapeFlag&4}let Yi=!1;function kb(t,e=!1){Yi=e;const{props:n,children:s}=t.vnode,r=fg(t);cb(t,n,r,e),hb(t,s);const i=r?Tb(t,e):void 0;return Yi=!1,i}function Tb(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Lm(new Proxy(t.ctx,sb));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?xb(t):null;jr(t),ni();const i=_s(s,t,0,[t.props,r]);if(si(),nr(),bm(i)){if(i.then(nr,nr),e)return i.then(o=>{hf(t,o,e)}).catch(o=>{dl(o,t,0)});t.asyncDep=i}else hf(t,i,e)}else pg(t,e)}function hf(t,e,n){pe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)&&(t.setupState=jm(e)),pg(t,n)}let ff;function pg(t,e,n){const s=t.type;if(!t.render){if(!e&&ff&&!s.render){const r=s.template||ad(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=s,c=Ut(Ut({isCustomElement:i,delimiters:a},o),l);s.render=ff(r,c)}}t.render=s.render||yn}jr(t),ni(),rb(t),si(),nr()}function Rb(t){return new Proxy(t.attrs,{get(e,n){return Yt(t,"get","$attrs"),e[n]}})}function xb(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=Rb(t))},slots:t.slots,emit:t.emit,expose:e}}function yl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(jm(Lm(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Oi)return Oi[n](t)},has(e,n){return n in e||n in Oi}}))}function Db(t,e=!0){return pe(t)?t.displayName||t.name:t.name||e&&t.__name}function Ob(t){return pe(t)&&"__vccOpts"in t}const ue=(t,e)=>Rw(t,e,Yi);function mg(t,e,n){const s=arguments.length;return s===2?Ve(e)&&!ne(e)?Ca(e)?b(t,null,[e]):b(t,e):b(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Ca(n)&&(n=[n]),b(t,e,n))}const Nb=Symbol(""),Pb=()=>Xe(Nb),Mb="3.2.47",Ub="http://www.w3.org/2000/svg",Qs=typeof document<"u"?document:null,pf=Qs&&Qs.createElement("template"),Lb={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?Qs.createElementNS(Ub,t):Qs.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Qs.createTextNode(t),createComment:t=>Qs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Qs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{pf.innerHTML=s?`<svg>${t}</svg>`:t;const a=pf.content;if(s){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Bb(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Fb(t,e,n){const s=t.style,r=At(n);if(n&&!r){if(e&&!At(e))for(const i in e)n[i]==null&&au(s,i,"");for(const i in n)au(s,i,n[i])}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const mf=/\s*!important$/;function au(t,e,n){if(ne(n))n.forEach(s=>au(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Vb(t,e);mf.test(n)?t.setProperty(ti(s),n.replace(mf,""),"important"):t[s]=n}}const gf=["Webkit","Moz","ms"],bc={};function Vb(t,e){const n=bc[e];if(n)return n;let s=Mn(e);if(s!=="filter"&&s in t)return bc[e]=s;s=cl(s);for(let r=0;r<gf.length;r++){const i=gf[r]+s;if(i in t)return bc[e]=i}return e}const Af="http://www.w3.org/1999/xlink";function jb(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Af,e.slice(6,e.length)):t.setAttributeNS(Af,e,n);else{const i=F_(e);n==null||i&&!_m(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function $b(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const l=n??"";(t.value!==l||t.tagName==="OPTION")&&(t.value=l),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=_m(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function Ws(t,e,n,s){t.addEventListener(e,n,s)}function qb(t,e,n,s){t.removeEventListener(e,n,s)}function Hb(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=Kb(e);if(s){const c=i[e]=Wb(s,r);Ws(t,a,c,l)}else o&&(qb(t,a,o,l),i[e]=void 0)}}const vf=/(?:Once|Passive|Capture)$/;function Kb(t){let e;if(vf.test(t)){e={};let s;for(;s=t.match(vf);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ti(t.slice(2)),e]}let Ec=0;const Jb=Promise.resolve(),Qb=()=>Ec||(Jb.then(()=>Ec=0),Ec=Date.now());function Wb(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;dn(Gb(s,n.value),e,5,[s])};return n.value=t,n.attached=Qb(),n}function Gb(t,e){if(ne(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const yf=/^on[a-z]/,zb=(t,e,n,s,r=!1,i,o,a,l)=>{e==="class"?Bb(t,s,r):e==="style"?Fb(t,n,s):ol(e)?Qu(e)||Hb(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Yb(t,e,s,r))?$b(t,e,s,i,o,a,l):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),jb(t,e,s,r))};function Yb(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&yf.test(e)&&pe(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||yf.test(e)&&At(n)?!1:e in t}const Xb={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Kw.props;const Sa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ne(e)?n=>aa(e,n):e};function Zb(t){t.target.composing=!0}function _f(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Gn={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=Sa(r);const i=s||r.props&&r.props.type==="number";Ws(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=wa(a)),t._assign(a)}),n&&Ws(t,"change",()=>{t.value=t.value.trim()}),e||(Ws(t,"compositionstart",Zb),Ws(t,"compositionend",_f),Ws(t,"change",_f))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t._assign=Sa(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&wa(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},zs={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=al(e);Ws(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?wa(ka(o)):ka(o));t._assign(t.multiple?r?new Set(i):i:i[0])}),t._assign=Sa(s)},mounted(t,{value:e}){wf(t,e)},beforeUpdate(t,e,n){t._assign=Sa(n)},updated(t,{value:e}){wf(t,e)}};function wf(t,e){const n=t.multiple;if(!(n&&!ne(e)&&!al(e))){for(let s=0,r=t.options.length;s<r;s++){const i=t.options[s],o=ka(i);if(n)ne(e)?i.selected=j_(e,o)>-1:i.selected=e.has(o);else if(il(ka(i),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ka(t){return"_value"in t?t._value:t.value}const e0=["ctrl","shift","alt","meta"],t0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>e0.some(n=>t[`${n}Key`]&&!e.includes(n))},En=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const i=t0[e[r]];if(i&&i(n,e))return}return t(n,...s)},ca={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):vi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),vi(t,!0),s.enter(t)):s.leave(t,()=>{vi(t,!1)}):vi(t,e))},beforeUnmount(t,{value:e}){vi(t,e)}};function vi(t,e){t.style.display=e?t._vod:"none"}const n0=Ut({patchProp:zb},Lb);let bf;function s0(){return bf||(bf=gb(n0))}const r0=(...t)=>{const e=s0().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=i0(s);if(!r)return;const i=e._component;!pe(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function i0(t){return At(t)?document.querySelector(t):t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},o0=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(l>>10)),e[s++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Ag={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),s.push(n[u],n[h],n[f],n[p])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||c==null||h==null)throw new a0;const f=i<<2|a>>4;if(s.push(f),c!==64){const p=a<<4&240|c>>2;if(s.push(p),h!==64){const m=c<<6&192|h;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l0=function(t){const e=gg(t);return Ag.encodeByteArray(e,!0)},Ta=function(t){return l0(t).replace(/\./g,"")},vg=function(t){try{return Ag.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=()=>c0().__FIREBASE_DEFAULTS__,d0=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vg(t[1]);return e&&JSON.parse(e)},_l=()=>{try{return u0()||d0()||h0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yg=t=>{var e,n;return(n=(e=_l())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_g=t=>{const e=yg(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},f0=()=>{var t;return(t=_l())===null||t===void 0?void 0:t.config},wg=t=>{var e;return(e=_l())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Ta(JSON.stringify(n)),Ta(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function g0(){var t;const e=(t=_l())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function v0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y0(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _0(){try{return typeof indexedDB=="object"}catch{return!1}}function w0(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="FirebaseError";class Fn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=b0,Object.setPrototypeOf(this,Fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mo.prototype.create)}}class mo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?E0(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Fn(r,a,s)}}function E0(t,e){return t.replace(I0,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const I0=/\{\$([^}]+)}/g;function C0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ra(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(Ef(i)&&Ef(o)){if(!Ra(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function Ef(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ci(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Si(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function S0(t,e){const n=new k0(t,e);return n.subscribe.bind(n)}class k0{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");T0(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=Ic),r.error===void 0&&(r.error=Ic),r.complete===void 0&&(r.complete=Ic);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T0(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ic(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t){return t&&t._delegate?t._delegate:t}class Ts{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new p0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D0(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:x0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x0(t){return t===qs?void 0:t}function D0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new R0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const N0={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},P0=ke.INFO,M0={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},U0=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=M0[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ud{constructor(e){this.name=e,this._logLevel=P0,this._logHandler=U0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const L0=(t,e)=>e.some(n=>t instanceof n);let If,Cf;function B0(){return If||(If=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F0(){return Cf||(Cf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Eg=new WeakMap,lu=new WeakMap,Ig=new WeakMap,Cc=new WeakMap,dd=new WeakMap;function V0(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(bs(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Eg.set(n,t)}).catch(()=>{}),dd.set(e,t),e}function j0(t){if(lu.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});lu.set(t,e)}let cu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ig.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $0(t){cu=t(cu)}function q0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Sc(this),e,...n);return Ig.set(s,e.sort?e.sort():[e]),bs(s)}:F0().includes(t)?function(...e){return t.apply(Sc(this),e),bs(Eg.get(this))}:function(...e){return bs(t.apply(Sc(this),e))}}function H0(t){return typeof t=="function"?q0(t):(t instanceof IDBTransaction&&j0(t),L0(t,B0())?new Proxy(t,cu):t)}function bs(t){if(t instanceof IDBRequest)return V0(t);if(Cc.has(t))return Cc.get(t);const e=H0(t);return e!==t&&(Cc.set(t,e),dd.set(e,t)),e}const Sc=t=>dd.get(t);function K0(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=bs(o);return s&&o.addEventListener("upgradeneeded",l=>{s(bs(o.result),l.oldVersion,l.newVersion,bs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const J0=["get","getKey","getAll","getAllKeys","count"],Q0=["put","add","delete","clear"],kc=new Map;function Sf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(kc.get(e))return kc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=Q0.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||J0.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return kc.set(e,i),i}$0(t=>({...t,get:(e,n,s)=>Sf(e,n)||t.get(e,n,s),has:(e,n)=>!!Sf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(G0(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function G0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uu="@firebase/app",kf="0.9.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new ud("@firebase/app"),z0="@firebase/app-compat",Y0="@firebase/analytics-compat",X0="@firebase/analytics",Z0="@firebase/app-check-compat",eE="@firebase/app-check",tE="@firebase/auth",nE="@firebase/auth-compat",sE="@firebase/database",rE="@firebase/database-compat",iE="@firebase/functions",oE="@firebase/functions-compat",aE="@firebase/installations",lE="@firebase/installations-compat",cE="@firebase/messaging",uE="@firebase/messaging-compat",dE="@firebase/performance",hE="@firebase/performance-compat",fE="@firebase/remote-config",pE="@firebase/remote-config-compat",mE="@firebase/storage",gE="@firebase/storage-compat",AE="@firebase/firestore",vE="@firebase/firestore-compat",yE="firebase",_E="9.18.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du="[DEFAULT]",wE={[uu]:"fire-core",[z0]:"fire-core-compat",[X0]:"fire-analytics",[Y0]:"fire-analytics-compat",[eE]:"fire-app-check",[Z0]:"fire-app-check-compat",[tE]:"fire-auth",[nE]:"fire-auth-compat",[sE]:"fire-rtdb",[rE]:"fire-rtdb-compat",[iE]:"fire-fn",[oE]:"fire-fn-compat",[aE]:"fire-iid",[lE]:"fire-iid-compat",[cE]:"fire-fcm",[uE]:"fire-fcm-compat",[dE]:"fire-perf",[hE]:"fire-perf-compat",[fE]:"fire-rc",[pE]:"fire-rc-compat",[mE]:"fire-gcs",[gE]:"fire-gcs-compat",[AE]:"fire-fst",[vE]:"fire-fst-compat","fire-js":"fire-js",[yE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Map,hu=new Map;function bE(t,e){try{t.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cr(t){const e=t.name;if(hu.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;hu.set(e,t);for(const n of xa.values())bE(n,t);return!0}function wl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Es=new mo("app","Firebase",EE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=_E;function Cg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:du,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw Es.create("bad-app-name",{appName:String(r)});if(n||(n=f0()),!n)throw Es.create("no-options");const i=xa.get(r);if(i){if(Ra(n,i.options)&&Ra(s,i.config))return i;throw Es.create("duplicate-app",{appName:r})}const o=new O0(r);for(const l of hu.values())o.addComponent(l);const a=new IE(n,s,o);return xa.set(r,a),a}function hd(t=du){const e=xa.get(t);if(!e&&t===du)return Cg();if(!e)throw Es.create("no-app",{appName:t});return e}function Dn(t,e,n){var s;let r=(s=wE[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(a.join(" "));return}cr(new Ts(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="firebase-heartbeat-database",SE=1,Xi="firebase-heartbeat-store";let Tc=null;function Sg(){return Tc||(Tc=K0(CE,SE,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Xi)}}}).catch(t=>{throw Es.create("idb-open",{originalErrorMessage:t.message})})),Tc}async function kE(t){try{return(await Sg()).transaction(Xi).objectStore(Xi).get(kg(t))}catch(e){if(e instanceof Fn)lr.warn(e.message);else{const n=Es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(n.message)}}}async function Tf(t,e){try{const s=(await Sg()).transaction(Xi,"readwrite");return await s.objectStore(Xi).put(e,kg(t)),s.done}catch(n){if(n instanceof Fn)lr.warn(n.message);else{const s=Es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lr.warn(s.message)}}}function kg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=1024,RE=30*24*60*60*1e3;class xE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OE(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Rf();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=RE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Rf(),{heartbeatsToSend:n,unsentEntries:s}=DE(this._heartbeatsCache.heartbeats),r=Ta(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Rf(){return new Date().toISOString().substring(0,10)}function DE(t,e=TE){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),xf(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),xf(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class OE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _0()?w0().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await kE(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Tf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Tf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function xf(t){return Ta(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t){cr(new Ts("platform-logger",e=>new W0(e),"PRIVATE")),cr(new Ts("heartbeat",e=>new xE(e),"PRIVATE")),Dn(uu,kf,t),Dn(uu,kf,"esm2017"),Dn("fire-js","")}NE("");var PE="firebase",ME="9.18.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(PE,ME,"app");var UE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,fd=fd||{},ie=UE||self;function Da(){}function bl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ao(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function LE(t){return Object.prototype.hasOwnProperty.call(t,Rc)&&t[Rc]||(t[Rc]=++BE)}var Rc="closure_uid_"+(1e9*Math.random()>>>0),BE=0;function FE(t,e,n){return t.call.apply(t.bind,arguments)}function VE(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Nt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Nt=FE:Nt=VE,Nt.apply(null,arguments)}function Go(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function St(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function Ps(){this.s=this.s,this.o=this.o}var jE=0;Ps.prototype.s=!1;Ps.prototype.na=function(){!this.s&&(this.s=!0,this.M(),jE!=0)&&LE(this)};Ps.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tg=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function pd(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function Df(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(bl(s)){const r=t.length||0,i=s.length||0;t.length=r+i;for(let o=0;o<i;o++)t[r+o]=s[o]}else t.push(s)}}function Pt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var $E=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ie.addEventListener("test",Da,e),ie.removeEventListener("test",Da,e)}catch{}return t}();function Oa(t){return/^[\s\xa0]*$/.test(t)}var Of=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function xc(t,e){return t<e?-1:t>e?1:0}function El(){var t=ie.navigator;return t&&(t=t.userAgent)?t:""}function xn(t){return El().indexOf(t)!=-1}function md(t){return md[" "](t),t}md[" "]=Da;function qE(t){var e=JE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var HE=xn("Opera"),$r=xn("Trident")||xn("MSIE"),Rg=xn("Edge"),fu=Rg||$r,xg=xn("Gecko")&&!(El().toLowerCase().indexOf("webkit")!=-1&&!xn("Edge"))&&!(xn("Trident")||xn("MSIE"))&&!xn("Edge"),KE=El().toLowerCase().indexOf("webkit")!=-1&&!xn("Edge");function Dg(){var t=ie.document;return t?t.documentMode:void 0}var Na;e:{var Dc="",Oc=function(){var t=El();if(xg)return/rv:([^\);]+)(\)|;)/.exec(t);if(Rg)return/Edge\/([\d\.]+)/.exec(t);if($r)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(KE)return/WebKit\/(\S+)/.exec(t);if(HE)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Oc&&(Dc=Oc?Oc[1]:""),$r){var Nc=Dg();if(Nc!=null&&Nc>parseFloat(Dc)){Na=String(Nc);break e}}Na=Dc}var JE={};function QE(){return qE(function(){let t=0;const e=Of(String(Na)).split("."),n=Of("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=xc(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||xc(r[2].length==0,i[2].length==0)||xc(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var pu;if(ie.document&&$r){var Nf=Dg();pu=Nf||parseInt(Na,10)||void 0}else pu=void 0;var WE=pu;function Zi(t,e){if(Pt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(xg){e:{try{md(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:GE[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Zi.X.h.call(this)}}St(Zi,Pt);var GE={2:"touch",3:"pen",4:"mouse"};Zi.prototype.h=function(){Zi.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vo="closure_listenable_"+(1e6*Math.random()|0),zE=0;function YE(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.ha=r,this.key=++zE,this.ba=this.ea=!1}function Il(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function gd(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function Og(t){const e={};for(const n in t)e[n]=t[n];return e}const Pf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ng(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<Pf.length;i++)n=Pf[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function Cl(t){this.src=t,this.g={},this.h=0}Cl.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=gu(t,e,s,r);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new YE(e,this.src,i,!!s,r),e.ea=n,t.push(e)),e};function mu(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=Tg(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Il(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function gu(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.ba&&i.listener==e&&i.capture==!!n&&i.ha==s)return r}return-1}var Ad="closure_lm_"+(1e6*Math.random()|0),Pc={};function Pg(t,e,n,s,r){if(s&&s.once)return Ug(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)Pg(t,e[i],n,s,r);return null}return n=_d(n),t&&t[vo]?t.N(e,n,Ao(s)?!!s.capture:!!s,r):Mg(t,e,n,!1,s,r)}function Mg(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=Ao(r)?!!r.capture:!!r,a=yd(t);if(a||(t[Ad]=a=new Cl(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=XE(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)$E||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(Bg(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function XE(){function t(n){return e.call(t.src,t.listener,n)}const e=ZE;return t}function Ug(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Ug(t,e[i],n,s,r);return null}return n=_d(n),t&&t[vo]?t.O(e,n,Ao(s)?!!s.capture:!!s,r):Mg(t,e,n,!0,s,r)}function Lg(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)Lg(t,e[i],n,s,r);else s=Ao(s)?!!s.capture:!!s,n=_d(n),t&&t[vo]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=gu(i,n,s,r),-1<n&&(Il(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=yd(t))&&(e=t.g[e.toString()],t=-1,e&&(t=gu(e,n,s,r)),(n=-1<t?e[t]:null)&&vd(n))}function vd(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[vo])mu(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Bg(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=yd(e))?(mu(n,t),n.h==0&&(n.src=null,e[Ad]=null)):Il(t)}}}function Bg(t){return t in Pc?Pc[t]:Pc[t]="on"+t}function ZE(t,e){if(t.ba)t=!0;else{e=new Zi(e,this);var n=t.listener,s=t.ha||t.src;t.ea&&vd(t),t=n.call(s,e)}return t}function yd(t){return t=t[Ad],t instanceof Cl?t:null}var Mc="__closure_events_fn_"+(1e9*Math.random()>>>0);function _d(t){return typeof t=="function"?t:(t[Mc]||(t[Mc]=function(e){return t.handleEvent(e)}),t[Mc])}function wt(){Ps.call(this),this.i=new Cl(this),this.P=this,this.I=null}St(wt,Ps);wt.prototype[vo]=!0;wt.prototype.removeEventListener=function(t,e,n,s){Lg(this,t,e,n,s)};function Ct(t,e){var n,s=t.I;if(s)for(n=[];s;s=s.I)n.push(s);if(t=t.P,s=e.type||e,typeof e=="string")e=new Pt(e,t);else if(e instanceof Pt)e.target=e.target||t;else{var r=e;e=new Pt(s,t),Ng(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=zo(o,s,!0,e)&&r}if(o=e.g=t,r=zo(o,s,!0,e)&&r,r=zo(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=zo(o,s,!1,e)&&r}wt.prototype.M=function(){if(wt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Il(n[s]);delete t.g[e],t.h--}}this.I=null};wt.prototype.N=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};wt.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function zo(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&mu(t.i,o),r=a.call(l,s)!==!1&&r}}return r&&!s.defaultPrevented}var wd=ie.JSON.stringify;function eI(){var t=jg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class tI{constructor(){this.h=this.g=null}add(e,n){const s=Fg.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var Fg=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new nI,t=>t.reset());class nI{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function sI(t){ie.setTimeout(()=>{throw t},0)}function Vg(t,e){Au||rI(),vu||(Au(),vu=!0),jg.add(t,e)}var Au;function rI(){var t=ie.Promise.resolve(void 0);Au=function(){t.then(iI)}}var vu=!1,jg=new tI;function iI(){for(var t;t=eI();){try{t.h.call(t.g)}catch(n){sI(n)}var e=Fg;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}vu=!1}function Sl(t,e){wt.call(this),this.h=t||1,this.g=e||ie,this.j=Nt(this.lb,this),this.l=Date.now()}St(Sl,wt);Q=Sl.prototype;Q.ca=!1;Q.R=null;Q.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ct(this,"tick"),this.ca&&(bd(this),this.start()))}};Q.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function bd(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}Q.M=function(){Sl.X.M.call(this),bd(this),delete this.g};function Ed(t,e,n){if(typeof t=="function")n&&(t=Nt(t,n));else if(t&&typeof t.handleEvent=="function")t=Nt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ie.setTimeout(t,e||0)}function $g(t){t.g=Ed(()=>{t.g=null,t.i&&(t.i=!1,$g(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class oI extends Ps{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$g(this)}M(){super.M(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eo(t){Ps.call(this),this.h=t,this.g={}}St(eo,Ps);var Mf=[];function qg(t,e,n,s){Array.isArray(n)||(n&&(Mf[0]=n.toString()),n=Mf);for(var r=0;r<n.length;r++){var i=Pg(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Hg(t){gd(t.g,function(e,n){this.g.hasOwnProperty(n)&&vd(e)},t),t.g={}}eo.prototype.M=function(){eo.X.M.call(this),Hg(this)};eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function kl(){this.g=!0}kl.prototype.Aa=function(){this.g=!1};function aI(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function lI(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function Dr(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+uI(t,n)+(s?" "+s:"")})}function cI(t,e){t.info(function(){return"TIMEOUT: "+e})}kl.prototype.info=function(){};function uI(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return wd(n)}catch{return e}}var Ar={},Uf=null;function Tl(){return Uf=Uf||new wt}Ar.Pa="serverreachability";function Kg(t){Pt.call(this,Ar.Pa,t)}St(Kg,Pt);function to(t){const e=Tl();Ct(e,new Kg(e))}Ar.STAT_EVENT="statevent";function Jg(t,e){Pt.call(this,Ar.STAT_EVENT,t),this.stat=e}St(Jg,Pt);function Ht(t){const e=Tl();Ct(e,new Jg(e,t))}Ar.Qa="timingevent";function Qg(t,e){Pt.call(this,Ar.Qa,t),this.size=e}St(Qg,Pt);function yo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){t()},e)}var Rl={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Wg={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Id(){}Id.prototype.h=null;function Lf(t){return t.h||(t.h=t.i())}function Gg(){}var _o={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Cd(){Pt.call(this,"d")}St(Cd,Pt);function Sd(){Pt.call(this,"c")}St(Sd,Pt);var yu;function xl(){}St(xl,Id);xl.prototype.g=function(){return new XMLHttpRequest};xl.prototype.i=function(){return{}};yu=new xl;function wo(t,e,n,s){this.l=t,this.j=e,this.m=n,this.U=s||1,this.S=new eo(this),this.O=dI,t=fu?125:void 0,this.T=new Sl(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new zg}function zg(){this.i=null,this.g="",this.h=!1}var dI=45e3,_u={},Pa={};Q=wo.prototype;Q.setTimeout=function(t){this.O=t};function wu(t,e,n){t.K=1,t.v=Ol(zn(e)),t.s=n,t.P=!0,Yg(t,null)}function Yg(t,e){t.F=Date.now(),bo(t),t.A=zn(t.v);var n=t.A,s=t.U;Array.isArray(s)||(s=[String(s)]),iA(n.i,"t",s),t.C=0,n=t.l.H,t.h=new zg,t.g=SA(t.l,n?e:null,!t.s),0<t.N&&(t.L=new oI(Nt(t.La,t,t.g),t.N)),qg(t.S,t.g,"readystatechange",t.ib),e=t.H?Og(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),to(),aI(t.j,t.u,t.A,t.m,t.U,t.s)}Q.ib=function(t){t=t.target;const e=this.L;e&&Hn(t)==3?e.l():this.La(t)};Q.La=function(t){try{if(t==this.g)e:{const u=Hn(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>u)&&(u!=3||fu||this.g&&(this.h.h||this.g.fa()||jf(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?to(3):to(2)),Dl(this);var n=this.g.aa();this.Y=n;t:if(Xg(this)){var s=jf(this.g);t="";var r=s.length,i=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),Pi(this);var o="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,lI(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oa(a)){var c=a;break t}}c=null}if(n=c)Dr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bu(this,n);else{this.i=!1,this.o=3,Ht(12),Ys(this),Pi(this);break e}}this.P?(Zg(this,u,o),fu&&this.i&&u==3&&(qg(this.S,this.T,"tick",this.hb),this.T.start())):(Dr(this.j,this.m,o,null),bu(this,o)),u==4&&Ys(this),this.i&&!this.I&&(u==4?bA(this.l,this):(this.i=!1,bo(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ht(12)):(this.o=0,Ht(13)),Ys(this),Pi(this)}}}catch{}finally{}};function Xg(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Zg(t,e,n){let s=!0,r;for(;!t.I&&t.C<n.length;)if(r=hI(t,n),r==Pa){e==4&&(t.o=4,Ht(14),s=!1),Dr(t.j,t.m,null,"[Incomplete Response]");break}else if(r==_u){t.o=4,Ht(15),Dr(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Dr(t.j,t.m,r,null),bu(t,r);Xg(t)&&r!=Pa&&r!=_u&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ht(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Nd(e),e.K=!0,Ht(11))):(Dr(t.j,t.m,n,"[Invalid Chunked Response]"),Ys(t),Pi(t))}Q.hb=function(){if(this.g){var t=Hn(this.g),e=this.g.fa();this.C<e.length&&(Dl(this),Zg(this,t,e),this.i&&t!=4&&bo(this))}};function hI(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Pa:(n=Number(e.substring(n,s)),isNaN(n)?_u:(s+=1,s+n>e.length?Pa:(e=e.substr(s,n),t.C=s+n,e)))}Q.cancel=function(){this.I=!0,Ys(this)};function bo(t){t.V=Date.now()+t.O,eA(t,t.O)}function eA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=yo(Nt(t.gb,t),e)}function Dl(t){t.B&&(ie.clearTimeout(t.B),t.B=null)}Q.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(cI(this.j,this.A),this.K!=2&&(to(),Ht(17)),Ys(this),this.o=2,Pi(this)):eA(this,this.V-t)};function Pi(t){t.l.G==0||t.I||bA(t.l,t)}function Ys(t){Dl(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,bd(t.T),Hg(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function bu(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Eu(n.h,t))){if(!t.J&&Eu(n.h,t)&&n.G==3){try{var s=n.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)La(n),Ml(n);else break e;Od(n),Ht(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&n.A==0&&!n.v&&(n.v=yo(Nt(n.cb,n),6e3));if(1>=lA(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Xs(n,11)}else if((t.J||n.g==t)&&La(n),!Oa(e))for(r=n.Fa.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.T=c[0],c=c[1],n.G==2)if(c[0]=="c"){n.I=c[1],n.ka=c[2];const u=c[3];u!=null&&(n.ma=u,n.j.info("VER="+n.ma));const h=c[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.J=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=s.h;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(kd(i,i.h),i.h=null))}if(s.D){const A=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;A&&(s.za=A,Ke(s.F,s.D,A))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),s=n;var o=t;if(s.sa=CA(s,s.H?s.ka:null,s.V),o.J){cA(s.h,o);var a=o,l=s.J;l&&a.setTimeout(l),a.B&&(Dl(a),bo(a)),s.g=o}else _A(s);0<n.i.length&&Ul(n)}else c[0]!="stop"&&c[0]!="close"||Xs(n,7);else n.G==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Xs(n,7):Dd(n):c[0]!="noop"&&n.l&&n.l.wa(c),n.A=0)}}to(4)}catch{}}function fI(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(bl(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function pI(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(bl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function tA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(bl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=pI(t),s=fI(t),r=s.length,i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}var nA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mI(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function sr(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof sr){this.h=e!==void 0?e:t.h,Ma(this,t.j),this.s=t.s,this.g=t.g,Ua(this,t.m),this.l=t.l,e=t.i;var n=new no;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Bf(this,n),this.o=t.o}else t&&(n=String(t).match(nA))?(this.h=!!e,Ma(this,n[1]||"",!0),this.s=ki(n[2]||""),this.g=ki(n[3]||"",!0),Ua(this,n[4]),this.l=ki(n[5]||"",!0),Bf(this,n[6]||"",!0),this.o=ki(n[7]||"")):(this.h=!!e,this.i=new no(null,this.h))}sr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ti(e,Ff,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ti(e,Ff,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ti(n,n.charAt(0)=="/"?vI:AI,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ti(n,_I)),t.join("")};function zn(t){return new sr(t)}function Ma(t,e,n){t.j=n?ki(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ua(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Bf(t,e,n){e instanceof no?(t.i=e,wI(t.i,t.h)):(n||(e=Ti(e,yI)),t.i=new no(e,t.h))}function Ke(t,e,n){t.i.set(e,n)}function Ol(t){return Ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ki(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ti(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,gI),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gI(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ff=/[#\/\?@]/g,AI=/[#\?:]/g,vI=/[#\?]/g,yI=/[#\?@]/g,_I=/#/g;function no(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ms(t){t.g||(t.g=new Map,t.h=0,t.i&&mI(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=no.prototype;Q.add=function(t,e){Ms(this),this.i=null,t=ii(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function sA(t,e){Ms(t),e=ii(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rA(t,e){return Ms(t),e=ii(t,e),t.g.has(e)}Q.forEach=function(t,e){Ms(this),this.g.forEach(function(n,s){n.forEach(function(r){t.call(e,r,s,this)},this)},this)};Q.oa=function(){Ms(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const r=t[s];for(let i=0;i<r.length;i++)n.push(e[s])}return n};Q.W=function(t){Ms(this);let e=[];if(typeof t=="string")rA(this,t)&&(e=e.concat(this.g.get(ii(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return Ms(this),this.i=null,t=ii(this,t),rA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function iA(t,e,n){sA(t,e),0<n.length&&(t.i=null,t.g.set(ii(t,e),pd(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const i=encodeURIComponent(String(s)),o=this.W(s);for(s=0;s<o.length;s++){var r=i;o[s]!==""&&(r+="="+encodeURIComponent(String(o[s]))),t.push(r)}}return this.i=t.join("&")};function ii(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function wI(t,e){e&&!t.j&&(Ms(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(sA(this,s),iA(this,r,n))},t)),t.j=e}var bI=class{constructor(e,n){this.h=e,this.g=n}};function oA(t){this.l=t||EI,ie.PerformanceNavigationTiming?(t=ie.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ie.g&&ie.g.Ga&&ie.g.Ga()&&ie.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var EI=10;function aA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lA(t){return t.h?1:t.g?t.g.size:0}function Eu(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function kd(t,e){t.g?t.g.add(e):t.h=e}function cA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}oA.prototype.cancel=function(){if(this.i=uA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function uA(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return pd(t.i)}function Td(){}Td.prototype.stringify=function(t){return ie.JSON.stringify(t,void 0)};Td.prototype.parse=function(t){return ie.JSON.parse(t,void 0)};function II(){this.g=new Td}function CI(t,e,n){const s=n||"";try{tA(t,function(r,i){let o=r;Ao(r)&&(o=wd(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function SI(t,e){const n=new kl;if(ie.Image){const s=new Image;s.onload=Go(Yo,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Go(Yo,n,s,"TestLoadImage: error",!1,e),s.onabort=Go(Yo,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Go(Yo,n,s,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function Yo(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function Eo(t){this.l=t.ac||null,this.j=t.jb||!1}St(Eo,Id);Eo.prototype.g=function(){return new Nl(this.l,this.j)};Eo.prototype.i=function(t){return function(){return t}}({});function Nl(t,e){wt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Rd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}St(Nl,wt);var Rd=0;Q=Nl.prototype;Q.open=function(t,e){if(this.readyState!=Rd)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,so(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ie).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Io(this)),this.readyState=Rd};Q.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,so(this)),this.g&&(this.readyState=3,so(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dA(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function dA(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}Q.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Io(this):so(this),this.readyState==3&&dA(this)}};Q.Va=function(t){this.g&&(this.response=this.responseText=t,Io(this))};Q.Ua=function(t){this.g&&(this.response=t,Io(this))};Q.ga=function(){this.g&&Io(this)};function Io(t){t.readyState=4,t.l=null,t.j=null,t.A=null,so(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function so(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var kI=ie.JSON.parse;function Ze(t){wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=hA,this.K=this.L=!1}St(Ze,wt);var hA="",TI=/^https?$/i,RI=["POST","PUT"];Q=Ze.prototype;Q.Ka=function(t){this.L=t};Q.da=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yu.g(),this.C=this.u?Lf(this.u):Lf(yu),this.g.onreadystatechange=Nt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(i){Vf(this,i);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var r in s)n.set(r,s[r]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const i of s.keys())n.set(i,s.get(i));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),r=ie.FormData&&t instanceof ie.FormData,!(0<=Tg(RI,e))||s||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mA(this),0<this.B&&((this.K=xI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Nt(this.qa,this)):this.A=Ed(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Vf(this,i)}};function xI(t){return $r&&QE()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.qa=function(){typeof fd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ct(this,"timeout"),this.abort(8))};function Vf(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fA(t),Pl(t)}function fA(t){t.D||(t.D=!0,Ct(t,"complete"),Ct(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ct(this,"complete"),Ct(this,"abort"),Pl(this))};Q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pl(this,!0)),Ze.X.M.call(this)};Q.Ha=function(){this.s||(this.F||this.v||this.l?pA(this):this.fb())};Q.fb=function(){pA(this)};function pA(t){if(t.h&&typeof fd<"u"&&(!t.C[1]||Hn(t)!=4||t.aa()!=2)){if(t.v&&Hn(t)==4)Ed(t.Ha,0,t);else if(Ct(t,"readystatechange"),Hn(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.H).match(nA)[1]||null;if(!r&&ie.self&&ie.self.location){var i=ie.self.location.protocol;r=i.substr(0,i.length-1)}s=!TI.test(r?r.toLowerCase():"")}n=s}if(n)Ct(t,"complete"),Ct(t,"success");else{t.m=6;try{var o=2<Hn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",fA(t)}}finally{Pl(t)}}}}function Pl(t,e){if(t.g){mA(t);const n=t.g,s=t.C[0]?Da:null;t.g=null,t.C=null,e||Ct(t,"ready");try{n.onreadystatechange=s}catch{}}}function mA(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ie.clearTimeout(t.A),t.A=null)}function Hn(t){return t.g?t.g.readyState:0}Q.aa=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}};Q.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),kI(e)}};function jf(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case hA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Q.Ea=function(){return this.m};Q.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function gA(t){let e="";return gd(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function xd(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=gA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ke(t,e,n))}function yi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function AA(t){this.Ca=0,this.i=[],this.j=new kl,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=yi("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=yi("baseRetryDelayMs",5e3,t),this.bb=yi("retryDelaySeedMs",1e4,t),this.$a=yi("forwardChannelMaxRetries",2,t),this.ta=yi("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new oA(t&&t.concurrentRequestLimit),this.Fa=new II,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}Q=AA.prototype;Q.ma=8;Q.G=1;function Dd(t){if(vA(t),t.G==3){var e=t.U++,n=zn(t.F);Ke(n,"SID",t.I),Ke(n,"RID",e),Ke(n,"TYPE","terminate"),Co(t,n),e=new wo(t,t.j,e,void 0),e.K=2,e.v=Ol(zn(n)),n=!1,ie.navigator&&ie.navigator.sendBeacon&&(n=ie.navigator.sendBeacon(e.v.toString(),"")),!n&&ie.Image&&(new Image().src=e.v,n=!0),n||(e.g=SA(e.l,null),e.g.da(e.v)),e.F=Date.now(),bo(e)}IA(t)}function Ml(t){t.g&&(Nd(t),t.g.cancel(),t.g=null)}function vA(t){Ml(t),t.u&&(ie.clearTimeout(t.u),t.u=null),La(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ie.clearTimeout(t.m),t.m=null)}function Ul(t){aA(t.h)||t.m||(t.m=!0,Vg(t.Ja,t),t.C=0)}function DI(t,e){return lA(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=yo(Nt(t.Ja,t,e),EA(t,t.C)),t.C++,!0)}Q.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new wo(this,this.j,t,void 0);let i=this.s;if(this.S&&(i?(i=Og(i),Ng(i,this.S)):i=this.S),this.o!==null||this.N||(r.H=i,i=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var s=this.i[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=yA(this,r,e),n=zn(this.F),Ke(n,"RID",t),Ke(n,"CVER",22),this.D&&Ke(n,"X-HTTP-Session-Id",this.D),Co(this,n),i&&(this.N?e="headers="+encodeURIComponent(String(gA(i)))+"&"+e:this.o&&xd(n,this.o,i)),kd(this.h,r),this.Ya&&Ke(n,"TYPE","init"),this.O?(Ke(n,"$req",e),Ke(n,"SID","null"),r.Z=!0,wu(r,n,null)):wu(r,n,e),this.G=2}}else this.G==3&&(t?$f(this,t):this.i.length==0||aA(this.h)||$f(this))};function $f(t,e){var n;e?n=e.m:n=t.U++;const s=zn(t.F);Ke(s,"SID",t.I),Ke(s,"RID",n),Ke(s,"AID",t.T),Co(t,s),t.o&&t.s&&xd(s,t.o,t.s),n=new wo(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=yA(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),kd(t.h,n),wu(n,s,e)}function Co(t,e){t.ia&&gd(t.ia,function(n,s){Ke(e,s,n)}),t.l&&tA({},function(n,s){Ke(e,s,n)})}function yA(t,e,n){n=Math.min(t.i.length,n);var s=t.l?Nt(t.l.Ra,t.l,t):null;e:{var r=t.i;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=r[l].h;const u=r[l].g;if(c-=i,0>c)i=Math.max(0,r[l].h-100),a=!1;else try{CI(u,o,"req"+c+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,s}function _A(t){t.g||t.u||(t.Z=1,Vg(t.Ia,t),t.A=0)}function Od(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=yo(Nt(t.Ia,t),EA(t,t.A)),t.A++,!0)}Q.Ia=function(){if(this.u=null,wA(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=yo(Nt(this.eb,this),t)}};Q.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ht(10),Ml(this),wA(this))};function Nd(t){t.B!=null&&(ie.clearTimeout(t.B),t.B=null)}function wA(t){t.g=new wo(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=zn(t.sa);Ke(e,"RID","rpc"),Ke(e,"SID",t.I),Ke(e,"CI",t.L?"0":"1"),Ke(e,"AID",t.T),Ke(e,"TYPE","xmlhttp"),Co(t,e),t.o&&t.s&&xd(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Ol(zn(e)),n.s=null,n.P=!0,Yg(n,t)}Q.cb=function(){this.v!=null&&(this.v=null,Ml(this),Od(this),Ht(19))};function La(t){t.v!=null&&(ie.clearTimeout(t.v),t.v=null)}function bA(t,e){var n=null;if(t.g==e){La(t),Nd(t),t.g=null;var s=2}else if(Eu(t.h,e))n=e.D,cA(t.h,e),s=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;s=Tl(),Ct(s,new Qg(s,n)),Ul(t)}else _A(t);else if(r=e.o,r==3||r==0&&0<t.pa||!(s==1&&DI(t,e)||s==2&&Od(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:Xs(t,5);break;case 4:Xs(t,10);break;case 3:Xs(t,6);break;default:Xs(t,2)}}}function EA(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Xs(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var s=Nt(t.kb,t);n||(n=new sr("//www.google.com/images/cleardot.gif"),ie.location&&ie.location.protocol=="http"||Ma(n,"https"),Ol(n)),SI(n.toString(),s)}else Ht(2);t.G=0,t.l&&t.l.va(e),IA(t),vA(t)}Q.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function IA(t){if(t.G=0,t.la=[],t.l){const e=uA(t.h);(e.length!=0||t.i.length!=0)&&(Df(t.la,e),Df(t.la,t.i),t.h.i.length=0,pd(t.i),t.i.length=0),t.l.ua()}}function CA(t,e,n){var s=n instanceof sr?zn(n):new sr(n,void 0);if(s.g!="")e&&(s.g=e+"."+s.g),Ua(s,s.m);else{var r=ie.location;s=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var i=new sr(null,void 0);s&&Ma(i,s),e&&(i.g=e),r&&Ua(i,r),n&&(i.l=n),s=i}return n=t.D,e=t.za,n&&e&&Ke(s,n,e),Ke(s,"VER",t.ma),Co(t,s),s}function SA(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ze(new Eo({jb:!0})):new Ze(t.ra),e.Ka(t.H),e}function kA(){}Q=kA.prototype;Q.xa=function(){};Q.wa=function(){};Q.va=function(){};Q.ua=function(){};Q.Ra=function(){};function Ba(){if($r&&!(10<=Number(WE)))throw Error("Environmental error: no available transport.")}Ba.prototype.g=function(t,e){return new sn(t,e)};function sn(t,e){wt.call(this),this.g=new AA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Oa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Oa(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new oi(this)}St(sn,wt);sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Ht(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=CA(t,null,t.V),Ul(t)};sn.prototype.close=function(){Dd(this.g)};sn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=wd(t),t=n);e.i.push(new bI(e.ab++,t)),e.G==3&&Ul(e)};sn.prototype.M=function(){this.g.l=null,delete this.j,Dd(this.g),delete this.g,sn.X.M.call(this)};function TA(t){Cd.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}St(TA,Cd);function RA(){Sd.call(this),this.status=1}St(RA,Sd);function oi(t){this.g=t}St(oi,kA);oi.prototype.xa=function(){Ct(this.g,"a")};oi.prototype.wa=function(t){Ct(this.g,new TA(t))};oi.prototype.va=function(t){Ct(this.g,new RA)};oi.prototype.ua=function(){Ct(this.g,"b")};Ba.prototype.createWebChannel=Ba.prototype.g;sn.prototype.send=sn.prototype.u;sn.prototype.open=sn.prototype.m;sn.prototype.close=sn.prototype.close;Rl.NO_ERROR=0;Rl.TIMEOUT=8;Rl.HTTP_ERROR=6;Wg.COMPLETE="complete";Gg.EventType=_o;_o.OPEN="a";_o.CLOSE="b";_o.ERROR="c";_o.MESSAGE="d";wt.prototype.listen=wt.prototype.N;Ze.prototype.listenOnce=Ze.prototype.O;Ze.prototype.getLastError=Ze.prototype.Oa;Ze.prototype.getLastErrorCode=Ze.prototype.Ea;Ze.prototype.getStatus=Ze.prototype.aa;Ze.prototype.getResponseJson=Ze.prototype.Sa;Ze.prototype.getResponseText=Ze.prototype.fa;Ze.prototype.send=Ze.prototype.da;Ze.prototype.setWithCredentials=Ze.prototype.Ka;var OI=function(){return new Ba},NI=function(){return Tl()},Uc=Rl,PI=Wg,MI=Ar,qf={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},UI=Eo,Xo=Gg,LI=Ze;const Hf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ai="9.18.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new ud("@firebase/firestore");function Kf(){return ur.logLevel}function G(t,...e){if(ur.logLevel<=ke.DEBUG){const n=e.map(Pd);ur.debug(`Firestore (${ai}): ${t}`,...n)}}function Yn(t,...e){if(ur.logLevel<=ke.ERROR){const n=e.map(Pd);ur.error(`Firestore (${ai}): ${t}`,...n)}}function Iu(t,...e){if(ur.logLevel<=ke.WARN){const n=e.map(Pd);ur.warn(`Firestore (${ai}): ${t}`,...n)}}function Pd(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t="Unexpected state"){const e=`FIRESTORE (${ai}) INTERNAL ASSERTION FAILED: `+t;throw Yn(e),new Error(e)}function Fe(t,e){t||re()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Fn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class FI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VI{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let i=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string"),new xA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Rt(e)}}class jI{constructor(e,n,s,r){this.h=e,this.l=n,this.m=s,this.g=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Fe(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class $I{constructor(e,n,s,r){this.h=e,this.l=n,this.m=s,this.g=r}getToken(){return Promise.resolve(new jI(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HI{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const s=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.A;return this.A=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.T.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.T.getImmediate({optional:!0});i?r(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.A=n.token,new qI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=KI(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function Re(t,e){return t<e?-1:t>e?1:0}function qr(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new ut(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new ut(0,0))}static max(){return new de(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,s){n===void 0?n=0:n>e.length&&re(),s===void 0?s=e.length-n:s>e.length-n&&re(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ro.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ro?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends ro{construct(e,n,s){return new $e(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new H(x.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const JI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends ro{construct(e,n,s){return new Ot(e,n,s)}static isValidIdentifier(e){return JI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new H(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new H(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new H(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y($e.fromString(e))}static fromName(e){return new Y($e.fromString(e).popFirst(5))}static empty(){return new Y($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new $e(e.slice()))}}function QI(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=de.fromTimestamp(s===1e9?new ut(n+1,0):new ut(n,s));return new Rs(r,Y.empty(),e)}function WI(t){return new Rs(t.readTime,t.key,-1)}class Rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Rs(de.min(),Y.empty(),-1)}static max(){return new Rs(de.max(),Y.empty(),-1)}}function GI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t){if(t.code!==x.FAILED_PRECONDITION||t.message!==zI)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,s)=>{n(e)})}static reject(e){return new P((n,s)=>{s(e)})}static waitFor(e){return new P((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},l=>s(l))}),o=!0,i===r&&n()})}static or(e){let n=P.resolve(!1);for(const s of e)n=n.next(r=>r?P.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new P((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(e,n){return new P((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function ko(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>n.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Md.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,s,r,i,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class io{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new io("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function OA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){return t==null}function Fa(t){return t===0&&1/t==-1/0}function ZI(t){return typeof t=="number"&&Number.isInteger(t)&&!Fa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw r instanceof DOMException?new e1("Invalid base64 string: "+r):r}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const t1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=t1.exec(t);if(Fe(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hr(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function PA(t){const e=t.mapValue.fields.__previous_value__;return NA(e)?PA(e):e}function oo(t){const e=xs(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function dr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?NA(t)?4:n1(t)?9007199254740991:10:re()}function Ln(t,e){if(t===e)return!0;const n=dr(t);if(n!==dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oo(t).isEqual(oo(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=xs(s.timestampValue),o=xs(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Hr(s.bytesValue).isEqual(Hr(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return ot(s.geoPointValue.latitude)===ot(r.geoPointValue.latitude)&&ot(s.geoPointValue.longitude)===ot(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return ot(s.integerValue)===ot(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=ot(s.doubleValue),o=ot(r.doubleValue);return i===o?Fa(i)===Fa(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return qr(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(Jf(i)!==Jf(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Ln(i[a],o[a])))return!1;return!0}(t,e);default:return re()}}function ao(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function Kr(t,e){if(t===e)return 0;const n=dr(t),s=dr(e);if(n!==s)return Re(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=ot(r.integerValue||r.doubleValue),a=ot(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Qf(t.timestampValue,e.timestampValue);case 4:return Qf(oo(t),oo(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(r,i){const o=Hr(r),a=Hr(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=Re(o[l],a[l]);if(c!==0)return c}return Re(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=Re(ot(r.latitude),ot(i.latitude));return o!==0?o:Re(ot(r.longitude),ot(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Kr(o[l],a[l]);if(c)return c}return Re(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===Zo.mapValue&&i===Zo.mapValue)return 0;if(r===Zo.mapValue)return 1;if(i===Zo.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=i.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const h=Re(a[u],c[u]);if(h!==0)return h;const f=Kr(o[a[u]],l[c[u]]);if(f!==0)return f}return Re(a.length,c.length)}(t.mapValue,e.mapValue);default:throw re()}}function Qf(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=xs(t),s=xs(e),r=Re(n.seconds,s.seconds);return r!==0?r:Re(n.nanos,s.nanos)}function Jr(t){return Cu(t)}function Cu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=xs(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Hr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Y.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=Cu(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Cu(s.fields[a])}`;return i+"}"}(t.mapValue):re();var e,n}function Wf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Su(t){return!!t&&"integerValue"in t}function Ud(t){return!!t&&"arrayValue"in t}function Gf(t){return!!t&&"nullValue"in t}function zf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ua(t){return!!t&&"mapValue"in t}function Mi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Mi(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function n1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n){this.position=e,this.inclusive=n}}function Yf(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=Y.comparator(Y.fromName(o.referenceValue),n.key):s=Kr(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Xf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{}class lt extends MA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new r1(e,n,s):n==="array-contains"?new a1(e,s):n==="in"?new l1(e,s):n==="not-in"?new c1(e,s):n==="array-contains-any"?new u1(e,s):new lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new i1(e,s):new o1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Kr(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(Kr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _n extends MA{constructor(e,n){super(),this.filters=e,this.op=n,this.ft=null}static create(e,n){return new _n(e,n)}matches(e){return UA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(n=>n.isInequality());return e!==null?e.field:null}dt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function UA(t){return t.op==="and"}function LA(t){return s1(t)&&UA(t)}function s1(t){for(const e of t.filters)if(e instanceof _n)return!1;return!0}function ku(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+Jr(t.value);if(LA(t))return t.filters.map(e=>ku(e)).join(",");{const e=t.filters.map(n=>ku(n)).join(",");return`${t.op}(${e})`}}function BA(t,e){return t instanceof lt?function(n,s){return s instanceof lt&&n.op===s.op&&n.field.isEqual(s.field)&&Ln(n.value,s.value)}(t,e):t instanceof _n?function(n,s){return s instanceof _n&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,i,o)=>r&&BA(i,s.filters[o]),!0):!1}(t,e):void re()}function FA(t){return t instanceof lt?function(e){return`${e.field.canonicalString()} ${e.op} ${Jr(e.value)}`}(t):t instanceof _n?function(e){return e.op.toString()+" {"+e.getFilters().map(FA).join(" ,")+"}"}(t):"Filter"}class r1 extends lt{constructor(e,n,s){super(e,n,s),this.key=Y.fromName(s.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class i1 extends lt{constructor(e,n){super(e,"in",n),this.keys=VA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class o1 extends lt{constructor(e,n){super(e,"not-in",n),this.keys=VA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Y.fromName(s.referenceValue))}class a1 extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ud(n)&&ao(n.arrayValue,this.value)}}class l1 extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ao(this.value.arrayValue,n)}}class c1 extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ao(this.value.arrayValue,n)}}class u1 extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ud(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ao(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n="asc"){this.field=e,this.dir=n}}function d1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ea(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ea(this.root,e,this.comparator,!1)}getReverseIterator(){return new ea(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ea(this.root,e,this.comparator,!0)}}class ea{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??Et.RED,this.left=r??Et.EMPTY,this.right=i??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Et(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Et.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(t,e,n,s,r){return this}insert(t,e,n){return new Et(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zf(this.data.getIterator())}getIteratorFrom(e){return new Zf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Zf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new tn([])}unionWith(e){let n=new gt(Ot.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qr(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ua(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mi(n)}setAll(e){let n=Ot.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Mi(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());ua(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];ua(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){vr(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new Gt(Mi(this.value))}}function jA(t){const e=[];return vr(t.fields,(n,s)=>{const r=new Ot([n]);if(ua(s)){const i=jA(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xt(e,0,de.min(),de.min(),de.min(),Gt.empty(),0)}static newFoundDocument(e,n,s,r){return new xt(e,1,n,de.min(),s,r,0)}static newNoDocument(e,n){return new xt(e,2,n,de.min(),de.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,de.min(),de.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this._t=null}}function ep(t,e=null,n=[],s=[],r=null,i=null,o=null){return new h1(t,e,n,s,r,i,o)}function Ld(t){const e=he(t);if(e._t===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ku(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Ll(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Jr(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Jr(s)).join(",")),e._t=n}return e._t}function Bd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Xf(t.startAt,e.startAt)&&Xf(t.endAt,e.endAt)}function Tu(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this.gt=null,this.startAt,this.endAt}}function f1(t,e,n,s,r,i,o,a){return new li(t,e,n,s,r,i,o,a)}function Bl(t){return new li(t)}function tp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Fd(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Fl(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function $A(t){return t.collectionGroup!==null}function Lr(t){const e=he(t);if(e.wt===null){e.wt=[];const n=Fl(e),s=Fd(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new Ur(n)),e.wt.push(new Ur(Ot.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ur(Ot.keyField(),i))}}}return e.wt}function Xn(t){const e=he(t);if(!e.gt)if(e.limitType==="F")e.gt=ep(e.path,e.collectionGroup,Lr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Lr(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Ur(i.field,o))}const s=e.endAt?new Va(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Va(e.startAt.position,e.startAt.inclusive):null;e.gt=ep(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e.gt}function Ru(t,e){e.getFirstInequalityField(),Fl(t);const n=t.filters.concat([e]);return new li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ja(t,e,n){return new li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vl(t,e){return Bd(Xn(t),Xn(e))&&t.limitType===e.limitType}function qA(t){return`${Ld(Xn(t))}|lt:${t.limitType}`}function xu(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>FA(s)).join(", ")}]`),Ll(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Jr(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Jr(s)).join(",")),`Target(${n})`}(Xn(t))}; limitType=${t.limitType})`}function jl(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Y.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of Lr(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=Yf(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,Lr(n),s)||n.endAt&&!function(r,i,o){const a=Yf(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,Lr(n),s))}(t,e)}function p1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HA(t){return(e,n)=>{let s=!1;for(const r of Lr(t)){const i=m1(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function m1(t,e,n){const s=t.field.isKeyField()?Y.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),l=o.data.field(r);return a!==null&&l!==null?Kr(a,l):re()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t,e){if(t.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fa(e)?"-0":e}}function JA(t){return{integerValue:""+t}}function g1(t,e){return ZI(e)?JA(e):KA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this._=void 0}}function A1(t,e,n){return t instanceof lo?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof Qr?WA(t,e):t instanceof Wr?GA(t,e):function(s,r){const i=QA(s,r),o=np(i)+np(s.It);return Su(i)&&Su(s.It)?JA(o):KA(s.Tt,o)}(t,e)}function v1(t,e,n){return t instanceof Qr?WA(t,e):t instanceof Wr?GA(t,e):n}function QA(t,e){return t instanceof $a?Su(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class lo extends $l{}class Qr extends $l{constructor(e){super(),this.elements=e}}function WA(t,e){const n=zA(e);for(const s of t.elements)n.some(r=>Ln(r,s))||n.push(s);return{arrayValue:{values:n}}}class Wr extends $l{constructor(e){super(),this.elements=e}}function GA(t,e){let n=zA(e);for(const s of t.elements)n=n.filter(r=>!Ln(r,s));return{arrayValue:{values:n}}}class $a extends $l{constructor(e,n){super(),this.Tt=e,this.It=n}}function np(t){return ot(t.integerValue||t.doubleValue)}function zA(t){return Ud(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.field=e,this.transform=n}}function y1(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Qr&&s instanceof Qr||n instanceof Wr&&s instanceof Wr?qr(n.elements,s.elements,Ln):n instanceof $a&&s instanceof $a?Ln(n.It,s.It):n instanceof lo&&s instanceof lo}(t.transform,e.transform)}class _1{constructor(e,n){this.version=e,this.transformResults=n}}class fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fn}static exists(e){return new fn(void 0,e)}static updateTime(e){return new fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function da(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ql{}function YA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jd(t.key,fn.none()):new To(t.key,t.data,fn.none());{const n=t.data,s=Gt.empty();let r=new gt(Ot.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Us(t.key,s,new tn(r.toArray()),fn.none())}}function w1(t,e,n){t instanceof To?function(s,r,i){const o=s.value.clone(),a=rp(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Us?function(s,r,i){if(!da(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=rp(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(XA(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Ui(t,e,n,s){return t instanceof To?function(r,i,o,a){if(!da(r.precondition,i))return o;const l=r.value.clone(),c=ip(r.fieldTransforms,a,i);return l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,n,s):t instanceof Us?function(r,i,o,a){if(!da(r.precondition,i))return o;const l=ip(r.fieldTransforms,a,i),c=i.data;return c.setAll(XA(r)),c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(r,i,o){return da(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function b1(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=QA(s.transform,r||null);i!=null&&(n===null&&(n=Gt.empty()),n.set(s.field,i))}return n||null}function sp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&qr(n,s,(r,i)=>y1(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class To extends ql{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Us extends ql{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function XA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function rp(t,e,n){const s=new Map;Fe(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,v1(o,a,n[r]))}return s}function ip(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,A1(i,o,e))}return s}class jd extends ql{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class E1 extends ql{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,we;function C1(t){switch(t){default:return re();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function ZA(t){if(t===void 0)return Yn("GRPC error has no .code"),x.UNKNOWN;switch(t){case it.OK:return x.OK;case it.CANCELLED:return x.CANCELLED;case it.UNKNOWN:return x.UNKNOWN;case it.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case it.INTERNAL:return x.INTERNAL;case it.UNAVAILABLE:return x.UNAVAILABLE;case it.UNAUTHENTICATED:return x.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case it.NOT_FOUND:return x.NOT_FOUND;case it.ALREADY_EXISTS:return x.ALREADY_EXISTS;case it.PERMISSION_DENIED:return x.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case it.ABORTED:return x.ABORTED;case it.OUT_OF_RANGE:return x.OUT_OF_RANGE;case it.UNIMPLEMENTED:return x.UNIMPLEMENTED;case it.DATA_LOSS:return x.DATA_LOSS;default:return re()}}(we=it||(it={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return OA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=new yt(Y.comparator);function Zn(){return S1}const ev=new yt(Y.comparator);function Ri(...t){let e=ev;for(const n of t)e=e.insert(n.key,n);return e}function tv(t){let e=ev;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Zs(){return Li()}function nv(){return Li()}function Li(){return new ci(t=>t.toString(),(t,e)=>t.isEqual(e))}const k1=new yt(Y.comparator),T1=new gt(Y.comparator);function _e(...t){let e=T1;for(const n of t)e=e.add(n);return e}const R1=new gt(Re);function sv(){return R1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Ro.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Hl(de.min(),r,sv(),Zn(),_e())}}class Ro{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ro(s,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n,s,r){this.Et=e,this.removedTargetIds=n,this.key=s,this.At=r}}class rv{constructor(e,n){this.targetId=e,this.Rt=n}}class iv{constructor(e,n,s=Bt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class op{constructor(){this.Pt=0,this.vt=lp(),this.bt=Bt.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return this.Pt!==0}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=_e(),n=_e(),s=_e();return this.vt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:re()}}),new Ro(this.bt,this.Vt,e,n,s)}kt(){this.St=!1,this.vt=lp()}$t(e,n){this.St=!0,this.vt=this.vt.insert(e,n)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class x1{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=Zn(),this.Kt=ap(),this.Gt=new gt(Re)}Qt(e){for(const n of e.Et)e.At&&e.At.isFoundDocument()?this.jt(n,e.At):this.zt(n,e.key,e.At);for(const n of e.removedTargetIds)this.zt(n,e.key,e.At)}Wt(e){this.forEachTarget(e,n=>{const s=this.Ht(n);switch(e.state){case 0:this.Jt(n)&&s.xt(e.resumeToken);break;case 1:s.Ft(),s.Dt||s.kt(),s.xt(e.resumeToken);break;case 2:s.Ft(),s.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(s.Bt(),s.xt(e.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),s.xt(e.resumeToken));break;default:re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qt.forEach((s,r)=>{this.Jt(r)&&n(r)})}Zt(e){const n=e.targetId,s=e.Rt.count,r=this.Xt(n);if(r){const i=r.target;if(Tu(i))if(s===0){const o=new Y(i.path);this.zt(n,o,xt.newNoDocument(o,de.min()))}else Fe(s===1);else this.te(n)!==s&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(e){const n=new Map;this.qt.forEach((i,o)=>{const a=this.Xt(o);if(a){if(i.current&&Tu(a.target)){const l=new Y(a.target.path);this.Ut.get(l)!==null||this.ne(o,l)||this.zt(o,l,xt.newNoDocument(l,e))}i.Ct&&(n.set(o,i.Nt()),i.kt())}});let s=_e();this.Kt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xt(l);return!c||c.purpose===2||(a=!1,!1)}),a&&(s=s.add(i))}),this.Ut.forEach((i,o)=>o.setReadTime(e));const r=new Hl(e,n,this.Gt,this.Ut,s);return this.Ut=Zn(),this.Kt=ap(),this.Gt=new gt(Re),r}jt(e,n){if(!this.Jt(e))return;const s=this.ne(e,n.key)?2:0;this.Ht(e).$t(n.key,s),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(e))}zt(e,n,s){if(!this.Jt(e))return;const r=this.Ht(e);this.ne(e,n)?r.$t(n,1):r.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(e)),s&&(this.Ut=this.Ut.insert(n,s))}removeTarget(e){this.qt.delete(e)}te(e){const n=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let n=this.qt.get(e);return n||(n=new op,this.qt.set(e,n)),n}se(e){let n=this.Kt.get(e);return n||(n=new gt(Re),this.Kt=this.Kt.insert(e,n)),n}Jt(e){const n=this.Xt(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.qt.get(e);return n&&n.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new op),this.Lt.getRemoteKeysForTarget(e).forEach(n=>{this.zt(e,n,null)})}ne(e,n){return this.Lt.getRemoteKeysForTarget(e).has(n)}}function ap(){return new yt(Y.comparator)}function lp(){return new yt(Y.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),O1=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),N1=(()=>({and:"AND",or:"OR"}))();class P1{constructor(e,n){this.databaseId=e,this.yt=n}}function qa(t,e){return t.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ov(t,e){return t.yt?e.toBase64():e.toUint8Array()}function M1(t,e){return qa(t,e.toTimestamp())}function On(t){return Fe(!!t),de.fromTimestamp(function(e){const n=xs(e);return new ut(n.seconds,n.nanos)}(t))}function $d(t,e){return function(n){return new $e(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function av(t){const e=$e.fromString(t);return Fe(dv(e)),e}function Du(t,e){return $d(t.databaseId,e.path)}function Lc(t,e){const n=av(e);if(n.get(1)!==t.databaseId.projectId)throw new H(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(lv(n))}function Ou(t,e){return $d(t.databaseId,e)}function U1(t){const e=av(t);return e.length===4?$e.emptyPath():lv(e)}function Nu(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lv(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cp(t,e,n){return{name:Du(t,e),fields:n.value.mapValue.fields}}function L1(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:re()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(l,c){return l.yt?(Fe(c===void 0||typeof c=="string"),Bt.fromBase64String(c||"")):(Fe(c===void 0||c instanceof Uint8Array),Bt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?x.UNKNOWN:ZA(l.code);return new H(c,l.message||"")}(o);n=new iv(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Lc(t,s.document.name),i=On(s.document.updateTime),o=s.document.createTime?On(s.document.createTime):de.min(),a=new Gt({mapValue:{fields:s.document.fields}}),l=xt.newFoundDocument(r,i,o,a),c=s.targetIds||[],u=s.removedTargetIds||[];n=new ha(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Lc(t,s.document),i=s.readTime?On(s.readTime):de.min(),o=xt.newNoDocument(r,i),a=s.removedTargetIds||[];n=new ha([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Lc(t,s.document),i=s.removedTargetIds||[];n=new ha([],i,r,null)}else{if(!("filter"in e))return re();{e.filter;const s=e.filter;s.targetId;const r=s.count||0,i=new I1(r),o=s.targetId;n=new rv(o,i)}}return n}function B1(t,e){let n;if(e instanceof To)n={update:cp(t,e.key,e.value)};else if(e instanceof jd)n={delete:Du(t,e.key)};else if(e instanceof Us)n={update:cp(t,e.key,e.data),updateMask:Q1(e.fieldMask)};else{if(!(e instanceof E1))return re();n={verify:Du(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof lo)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qr)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Wr)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof $a)return{fieldPath:i.field.canonicalString(),increment:o.It};throw re()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:M1(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:re()}(t,e.precondition)),n}function F1(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?On(s.updateTime):On(r);return i.isEqual(de.min())&&(i=On(r)),new _1(i,s.transformResults||[])}(n,e))):[]}function V1(t,e){return{documents:[Ou(t,e.path)]}}function j1(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Ou(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ou(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(l){if(l.length!==0)return uv(_n.create(l,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const i=function(l){if(l.length!==0)return l.map(c=>function(u){return{field:Tr(u.field),direction:H1(u.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(l,c){return l.yt||Ll(c)?c:{value:c}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function $1(t){let e=U1(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Fe(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(u){const h=cv(u);return h instanceof _n&&LA(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new Ur(Rr(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Ll(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,f=u.values||[];return new Va(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const h=!u.before,f=u.values||[];return new Va(f,h)}(n.endAt)),f1(e,r,o,i,a,"F",l,c)}function q1(t,e){const n=function(s,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return re()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function cv(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Rr(e.unaryFilter.field);return lt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Rr(e.unaryFilter.field);return lt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Rr(e.unaryFilter.field);return lt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Rr(e.unaryFilter.field);return lt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return re()}}(t):t.fieldFilter!==void 0?function(e){return lt.create(Rr(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return re()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return _n.create(e.compositeFilter.filters.map(n=>cv(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return re()}}(e.compositeFilter.op))}(t):re()}function H1(t){return D1[t]}function K1(t){return O1[t]}function J1(t){return N1[t]}function Tr(t){return{fieldPath:t.canonicalString()}}function Rr(t){return Ot.fromServerFormat(t.fieldPath)}function uv(t){return t instanceof lt?function(e){if(e.op==="=="){if(zf(e.value))return{unaryFilter:{field:Tr(e.field),op:"IS_NAN"}};if(Gf(e.value))return{unaryFilter:{field:Tr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(zf(e.value))return{unaryFilter:{field:Tr(e.field),op:"IS_NOT_NAN"}};if(Gf(e.value))return{unaryFilter:{field:Tr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tr(e.field),op:K1(e.op),value:e.value}}}(t):t instanceof _n?function(e){const n=e.getFilters().map(s=>uv(s));return n.length===1?n[0]:{compositeFilter:{op:J1(e.op),filters:n}}}(t):re()}function Q1(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&w1(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ui(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ui(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=nv();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const l=YA(o,a);l!==null&&s.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&qr(this.mutations,e.mutations,(n,s)=>sp(n,s))&&qr(this.baseMutations,e.baseMutations,(n,s)=>sp(n,s))}}class qd{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Fe(e.mutations.length===s.length);let r=k1;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new qd(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,s,r,i=de.min(),o=de.min(),a=Bt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.oe=e}}function Y1(t){const e=$1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ja(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.Ze=new Z1}addToCollectionParentIndex(e,n){return this.Ze.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Ze.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Rs.min())}updateCollectionGroup(e,n,s){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class Z1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new gt($e.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new gt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new Gr(0)}static Sn(){return new Gr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.changes=new ci(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?P.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Ui(s.mutation,r,tn.empty(),ut.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,_e()).next(()=>s))}getLocalViewOfDocuments(e,n,s=_e()){const r=Zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=Ri();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,_e()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=Zn();const o=Li(),a=Li();return n.forEach((l,c)=>{const u=s.get(c.key);r.has(c.key)&&(u===void 0||u.mutation instanceof Us)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Ui(u.mutation,c,u.mutation.getFieldMask(),ut.now())):o.set(c.key,tn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new tC(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=Li();let r=new yt((o,a)=>o-a),i=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=s.get(l)||tn.empty();u=a.applyToLocalView(c,u),s.set(l,u);const h=(r.get(a.batchId)||_e()).add(l);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=nv();u.forEach(f=>{if(!i.has(f)){const p=YA(n.get(f),s.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return P.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return Y.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$A(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):P.resolve(Zs());let a=-1,l=i;return o.next(c=>P.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?P.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,_e())).next(u=>({batchId:a,changes:tv(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(s=>{let r=Ri();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=Ri();return this.indexManager.getCollectionParents(e,r).next(o=>P.forEach(o,a=>{const l=function(c,u){return new li(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,s).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r))).next(i=>{r.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,xt.newInvalidDocument(c)))});let o=Ri();return i.forEach((a,l)=>{const c=r.get(a);c!==void 0&&Ui(c.mutation,l,tn.empty(),ut.now()),jl(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,n){return P.resolve(this.es.get(n))}saveBundleMetadata(e,n){var s;return this.es.set(n.id,{id:(s=n).id,version:s.version,createTime:On(s.createTime)}),P.resolve()}getNamedQuery(e,n){return P.resolve(this.ns.get(n))}saveNamedQuery(e,n){return this.ns.set(n.name,function(s){return{name:s.name,query:Y1(s.bundledQuery),readTime:On(s.readTime)}}(n)),P.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.overlays=new yt(Y.comparator),this.ss=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return P.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.ce(e,n,i)}),P.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.ss.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.ss.delete(s)),P.resolve()}getOverlaysForCollection(e,n,s){const r=Zs(),i=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>s&&r.set(l.getKey(),l)}return P.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new yt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=i.get(c.largestBatchId);u===null&&(u=Zs(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Zs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return P.resolve(a)}ce(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.ss.get(r.largestBatchId).delete(s.key);this.ss.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new G1(n,s));let i=this.ss.get(n);i===void 0&&(i=_e(),this.ss.set(n,i)),this.ss.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this.rs=new gt(_t.os),this.us=new gt(_t.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,n){const s=new _t(e,n);this.rs=this.rs.add(s),this.us=this.us.add(s)}hs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ls(new _t(e,n))}fs(e,n){e.forEach(s=>this.removeReference(s,n))}ds(e){const n=new Y(new $e([])),s=new _t(n,e),r=new _t(n,e+1),i=[];return this.us.forEachInRange([s,r],o=>{this.ls(o),i.push(o.key)}),i}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const n=new Y(new $e([])),s=new _t(n,e),r=new _t(n,e+1);let i=_e();return this.us.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new _t(e,0),s=this.rs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class _t{constructor(e,n){this.key=e,this.gs=n}static os(e,n){return Y.comparator(e.key,n.key)||Re(e.gs,n.gs)}static cs(e,n){return Re(e.gs,n.gs)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new gt(_t.os)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new W1(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.ps=this.ps.add(new _t(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,n){return P.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.Ts(s),i=r<0?0:r;return P.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new _t(n,0),r=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.ps.forEachInRange([s,r],o=>{const a=this.Is(o.gs);i.push(a)}),P.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new gt(Re);return n.forEach(r=>{const i=new _t(r,0),o=new _t(r,Number.POSITIVE_INFINITY);this.ps.forEachInRange([i,o],a=>{s=s.add(a.gs)})}),P.resolve(this.Es(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;Y.isDocumentKey(i)||(i=i.child(""));const o=new _t(new Y(i),0);let a=new gt(Re);return this.ps.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gs)),!0)},o),P.resolve(this.Es(a))}Es(e){const n=[];return e.forEach(s=>{const r=this.Is(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Fe(this.As(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.ps;return P.forEach(n.mutations,r=>{const i=new _t(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ps=s})}Pn(e){}containsKey(e,n){const s=new _t(n,0),r=this.ps.firstAfterOrEqual(s);return P.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}As(e,n){return this.Ts(e)}Ts(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Is(e){const n=this.Ts(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.Rs=e,this.docs=new yt(Y.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Rs(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return P.resolve(s?s.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let s=Zn();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():xt.newInvalidDocument(r))}),P.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=Zn();const o=n.path,a=new Y(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||GI(WI(u),s)<=0||(r.has(u.key)||jl(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return P.resolve(i)}getAllFromCollectionGroup(e,n,s,r){re()}Ps(e,n){return P.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new aC(this)}getSize(e){return P.resolve(this.size)}}class aC extends eC{constructor(e){super(),this.Xn=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Xn.addEntry(e,r)):this.Xn.removeEntry(s)}),P.waitFor(n)}getFromCache(e,n){return this.Xn.getEntry(e,n)}getAllFromCache(e,n){return this.Xn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.persistence=e,this.vs=new ci(n=>Ld(n),Bd),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.bs=0,this.Vs=new Hd,this.targetCount=0,this.Ss=Gr.Vn()}forEachTarget(e,n){return this.vs.forEach((s,r)=>n(r)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.bs&&(this.bs=n),P.resolve()}xn(e){this.vs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ss=new Gr(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.xn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.xn(n),P.resolve()}removeTargetData(e,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.vs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.vs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),P.waitFor(i).next(()=>r)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const s=this.vs.get(n)||null;return P.resolve(s)}addMatchingKeys(e,n,s){return this.Vs.hs(n,s),P.resolve()}removeMatchingKeys(e,n,s){this.Vs.fs(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),P.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Vs.ds(n),P.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Vs.ws(n);return P.resolve(s)}containsKey(e,n){return P.resolve(this.Vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.Ds={},this.overlays={},this.Cs=new Md(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new lC(this),this.indexManager=new X1,this.remoteDocumentCache=function(s){return new oC(s)}(s=>this.referenceDelegate.ks(s)),this.Tt=new z1(n),this.$s=new sC(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Ds[e.toKey()];return s||(s=new iC(n,this.referenceDelegate),this.Ds[e.toKey()]=s),s}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,n,s){G("MemoryPersistence","Starting transaction:",e);const r=new uC(this.Cs.next());return this.referenceDelegate.Ms(),s(r).next(i=>this.referenceDelegate.Os(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Fs(e,n){return P.or(Object.values(this.Ds).map(s=>()=>s.containsKey(e,n)))}}class uC extends YI{constructor(e){super(),this.currentSequenceNumber=e}}class Kd{constructor(e){this.persistence=e,this.Bs=new Hd,this.Ls=null}static qs(e){return new Kd(e)}get Us(){if(this.Ls)return this.Ls;throw re()}addReference(e,n,s){return this.Bs.addReference(s,n),this.Us.delete(s.toString()),P.resolve()}removeReference(e,n,s){return this.Bs.removeReference(s,n),this.Us.add(s.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Us.add(n.toString()),P.resolve()}removeTarget(e,n){this.Bs.ds(n.targetId).forEach(r=>this.Us.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Us.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ms(){this.Ls=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Us,s=>{const r=Y.fromPath(s);return this.Ks(e,r).next(i=>{i||n.removeEntry(r,de.min())})}).next(()=>(this.Ls=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ks(e,n).next(s=>{s?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(e){return 0}Ks(e,n){return P.or([()=>P.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Fs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Ci=s,this.xi=r}static Ni(e,n){let s=_e(),r=_e();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Jd(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(e,n,s,r){return this.Mi(e,n).next(i=>i||this.Oi(e,n,r,s)).next(i=>i||this.Fi(e,n))}Mi(e,n){if(tp(n))return P.resolve(null);let s=Xn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ja(n,null,"F"),s=Xn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=_e(...i);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(l=>{const c=this.Bi(n,a);return this.Li(n,c,o,l.readTime)?this.Mi(e,ja(n,null,"F")):this.qi(e,c,n,l)}))})))}Oi(e,n,s,r){return tp(n)||r.isEqual(de.min())?this.Fi(e,n):this.$i.getDocuments(e,s).next(i=>{const o=this.Bi(n,i);return this.Li(n,o,s,r)?this.Fi(e,n):(Kf()<=ke.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xu(n)),this.qi(e,o,n,QI(r,-1)))})}Bi(e,n){let s=new gt(HA(e));return n.forEach((r,i)=>{jl(e,i)&&(s=s.add(i))}),s}Li(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fi(e,n){return Kf()<=ke.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",xu(n)),this.$i.getDocumentsMatchingQuery(e,n,Rs.min())}qi(e,n,s,r){return this.$i.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,s,r){this.persistence=e,this.Ui=n,this.Tt=r,this.Ki=new yt(Re),this.Gi=new ci(i=>Ld(i),Bd),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(s)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nC(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ki))}}function fC(t,e,n,s){return new hC(t,e,n,s)}async function hv(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.zi(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let l=_e();for(const c of r){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(s,l).next(c=>({Wi:c,removedBatchIds:o,addedBatchIds:a}))})})}function pC(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,h=u.keys();let f=P.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(a,p)).next(m=>{const A=l.docVersions.get(p);Fe(A!==null),m.version.compareTo(A)<0&&(u.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=_e();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function fv(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ns.getLastRemoteSnapshotVersion(n))}function mC(t,e){const n=he(t),s=e.snapshotVersion;let r=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ji.newChangeBuffer({trackRemovals:!0});r=n.Ki;const a=[];e.targetChanges.forEach((u,h)=>{const f=r.get(h);if(!f)return;a.push(n.Ns.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Ns.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.has(h)?p=p.withResumeToken(Bt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,s)),r=r.insert(h,p),function(m,A,v){return m.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,u)&&a.push(n.Ns.updateTargetData(i,p))});let l=Zn(),c=_e();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(gC(i,o,e.documentUpdates).next(u=>{l=u.Hi,c=u.Ji})),!s.isEqual(de.min())){const u=n.Ns.getLastRemoteSnapshotVersion(i).next(h=>n.Ns.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(u)}return P.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ki=r,i))}function gC(t,e,n){let s=_e(),r=_e();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=Zn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Hi:o,Ji:r}})}function AC(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function vC(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Ns.getTargetData(s,e).next(i=>i?(r=i,P.resolve(r)):n.Ns.allocateTargetId(s).next(o=>(r=new rr(e,o,0,s.currentSequenceNumber),n.Ns.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ki.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(s.targetId,s),n.Gi.set(e,s.targetId)),s})}async function Pu(t,e,n){const s=he(t),r=s.Ki.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!ko(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ki=s.Ki.remove(e),s.Gi.delete(r.target)}function up(t,e,n){const s=he(t);let r=de.min(),i=_e();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=he(a),h=u.Gi.get(c);return h!==void 0?P.resolve(u.Ki.get(h)):u.Ns.getTargetData(l,c)}(s,o,Xn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Ns.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>s.Ui.getDocumentsMatchingQuery(o,e,n?r:de.min(),n?i:_e())).next(a=>(yC(s,p1(e),a),{documents:a,Yi:i})))}function yC(t,e,n){let s=t.Qi.get(e)||de.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Qi.set(e,s)}class dp{constructor(){this.activeTargetIds=sv()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _C{constructor(){this.Ur=new dp,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,n,s){this.Kr[e]=n}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new dp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{Gr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta=null;function Bc(){return ta===null?ta=268435456+Math.round(2147483648*Math.random()):ta++,"0x"+ta.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class IC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.co=n+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,n,s,r,i){const o=Bc(),a=this.fo(e,n);G("RestConnection",`Sending RPC '${e}' ${o}:`,a,s);const l={};return this._o(l,r,i),this.wo(e,a,l,s).then(c=>(G("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Iu("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",s),c})}mo(e,n,s,r,i,o){return this.lo(e,n,s,r,i)}_o(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ai,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}fo(e,n){const s=bC[e];return`${this.co}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,n,s,r){const i=Bc();return new Promise((o,a)=>{const l=new LI;l.setWithCredentials(!0),l.listenOnce(PI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Uc.NO_ERROR:const u=l.getResponseJson();G(Tt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Uc.TIMEOUT:G(Tt,`RPC '${e}' ${i} timed out`),a(new H(x.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const h=l.getStatus();if(G(Tt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(A){const v=A.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(v)>=0?v:x.UNKNOWN}(p.status);a(new H(m,p.message))}else a(new H(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(x.UNAVAILABLE,"Connection failed."));break;default:re()}}finally{G(Tt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(r);G(Tt,`RPC '${e}' ${i} sending request:`,r),l.send(n,"POST",c,s,15)})}yo(e,n,s){const r=Bc(),i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OI(),a=NI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new UI({})),this._o(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const c=i.join("");G(Tt,`Creating RPC '${e}' stream ${r}: ${c}`,l);const u=o.createWebChannel(c,l);let h=!1,f=!1;const p=new EC({Yr:A=>{f?G(Tt,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(h||(G(Tt,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),G(Tt,`RPC '${e}' stream ${r} sending:`,A),u.send(A))},Zr:()=>u.close()}),m=(A,v,w)=>{A.listen(v,S=>{try{w(S)}catch(E){setTimeout(()=>{throw E},0)}})};return m(u,Xo.EventType.OPEN,()=>{f||G(Tt,`RPC '${e}' stream ${r} transport opened.`)}),m(u,Xo.EventType.CLOSE,()=>{f||(f=!0,G(Tt,`RPC '${e}' stream ${r} transport closed`),p.oo())}),m(u,Xo.EventType.ERROR,A=>{f||(f=!0,Iu(Tt,`RPC '${e}' stream ${r} transport errored:`,A),p.oo(new H(x.UNAVAILABLE,"The operation could not be completed")))}),m(u,Xo.EventType.MESSAGE,A=>{var v;if(!f){const w=A.data[0];Fe(!!w);const S=w,E=S.error||((v=S[0])===null||v===void 0?void 0:v.error);if(E){G(Tt,`RPC '${e}' stream ${r} received error:`,E);const R=E.status;let X=function(ge){const K=it[ge];if(K!==void 0)return ZA(K)}(R),oe=E.message;X===void 0&&(X=x.INTERNAL,oe="Unknown error status: "+R+" with message "+E.message),f=!0,p.oo(new H(X,oe)),u.close()}else G(Tt,`RPC '${e}' stream ${r} received:`,w),p.uo(w)}}),m(a,MI.STAT_EVENT,A=>{A.stat===qf.PROXY?G(Tt,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===qf.NOPROXY&&G(Tt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.ro()},0),p}}function Fc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){return new P1(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Ys=e,this.timerId=n,this.po=s,this.Io=r,this.To=i,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const n=Math.floor(this.Eo+this.bo()),s=Math.max(0,Date.now()-this.Ro),r=Math.max(0,n-s);r>0&&G("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,r,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n,s,r,i,o,a,l){this.Ys=e,this.So=s,this.Do=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new pv(e,n)}$o(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.$o()&&await this.close(0)}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(e,n){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,e!==4?this.ko.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Yn(n.toString()),Yn("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=e,await this.listener.no(n)}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Co===n&&this.jo(s,r)},s=>{e(()=>{const r=new H(x.UNKNOWN,"Fetching auth token failed: "+s.message);return this.zo(r)})})}jo(e,n){const s=this.Qo(this.Co);this.stream=this.Wo(e,n),this.stream.Xr(()=>{s(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(r=>{s(()=>this.zo(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Oo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return n=>{this.Ys.enqueueAndForget(()=>this.Co===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CC extends mv{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.Tt=i}Wo(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.ko.reset();const n=L1(this.Tt,e),s=function(r){if(!("targetChange"in r))return de.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?de.min():i.readTime?On(i.readTime):de.min()}(e);return this.listener.Ho(n,s)}Jo(e){const n={};n.database=Nu(this.Tt),n.addTarget=function(r,i){let o;const a=i.target;return o=Tu(a)?{documents:V1(r,a)}:{query:j1(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=ov(r,i.resumeToken):i.snapshotVersion.compareTo(de.min())>0&&(o.readTime=qa(r,i.snapshotVersion.toTimestamp())),o}(this.Tt,e);const s=q1(this.Tt,e);s&&(n.labels=s),this.qo(n)}Yo(e){const n={};n.database=Nu(this.Tt),n.removeTarget=e,this.qo(n)}}class SC extends mv{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.Tt=i,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const n=F1(e.writeResults,e.commitTime),s=On(e.commitTime);return this.listener.eu(s,n)}return Fe(!e.writeResults||e.writeResults.length===0),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Nu(this.Tt),this.qo(e)}tu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>B1(this.Tt,s))};this.qo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.Tt=r,this.iu=!1}ru(){if(this.iu)throw new H(x.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,n,s){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.lo(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new H(x.UNKNOWN,r.toString())})}mo(e,n,s,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.mo(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(x.UNKNOWN,i.toString())})}terminate(){this.iu=!0}}class TC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,e==="Online"&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Yn(n),this.cu=!1):G("OnlineStateTracker",n)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=i,this.yu.Gr(o=>{s.enqueueAndForget(async()=>{yr(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=he(a);l.mu.add(4),await xo(l),l.pu.set("Unknown"),l.mu.delete(4),await Jl(l)}(this))})}),this.pu=new TC(s,r)}}async function Jl(t){if(yr(t))for(const e of t.gu)await e(!0)}async function xo(t){for(const e of t.gu)await e(!1)}function gv(t,e){const n=he(t);n.wu.has(e.targetId)||(n.wu.set(e.targetId,e),Gd(n)?Wd(n):ui(n).Mo()&&Qd(n,e))}function Av(t,e){const n=he(t),s=ui(n);n.wu.delete(e),s.Mo()&&vv(n,e),n.wu.size===0&&(s.Mo()?s.Bo():yr(n)&&n.pu.set("Unknown"))}function Qd(t,e){t.Iu.Ot(e.targetId),ui(t).Jo(e)}function vv(t,e){t.Iu.Ot(e),ui(t).Yo(e)}function Wd(t){t.Iu=new x1({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>t.wu.get(e)||null}),ui(t).start(),t.pu.au()}function Gd(t){return yr(t)&&!ui(t).$o()&&t.wu.size>0}function yr(t){return he(t).mu.size===0}function yv(t){t.Iu=void 0}async function xC(t){t.wu.forEach((e,n)=>{Qd(t,e)})}async function DC(t,e){yv(t),Gd(t)?(t.pu.fu(e),Wd(t)):t.pu.set("Unknown")}async function OC(t,e,n){if(t.pu.set("Online"),e instanceof iv&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.wu.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.wu.delete(o),s.Iu.removeTarget(o))}(t,e)}catch(s){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ha(t,s)}else if(e instanceof ha?t.Iu.Qt(e):e instanceof rv?t.Iu.Zt(e):t.Iu.Wt(e),!n.isEqual(de.min()))try{const s=await fv(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.Iu.ee(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=r.wu.get(l);c&&r.wu.set(l,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const l=r.wu.get(a);if(!l)return;r.wu.set(a,l.withResumeToken(Bt.EMPTY_BYTE_STRING,l.snapshotVersion)),vv(r,a);const c=new rr(l.target,a,1,l.sequenceNumber);Qd(r,c)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){G("RemoteStore","Failed to raise snapshot:",s),await Ha(t,s)}}async function Ha(t,e,n){if(!ko(e))throw e;t.mu.add(1),await xo(t),t.pu.set("Offline"),n||(n=()=>fv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.mu.delete(1),await Jl(t)})}function _v(t,e){return e().catch(n=>Ha(t,n,e))}async function Ql(t){const e=he(t),n=Ds(e);let s=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;NC(e);)try{const r=await AC(e.localStore,s);if(r===null){e._u.length===0&&n.Bo();break}s=r.batchId,PC(e,r)}catch(r){await Ha(e,r)}wv(e)&&bv(e)}function NC(t){return yr(t)&&t._u.length<10}function PC(t,e){t._u.push(e);const n=Ds(t);n.Mo()&&n.Xo&&n.tu(e.mutations)}function wv(t){return yr(t)&&!Ds(t).$o()&&t._u.length>0}function bv(t){Ds(t).start()}async function MC(t){Ds(t).su()}async function UC(t){const e=Ds(t);for(const n of t._u)e.tu(n.mutations)}async function LC(t,e,n){const s=t._u.shift(),r=qd.from(s,e,n);await _v(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Ql(t)}async function BC(t,e){e&&Ds(t).Xo&&await async function(n,s){if(r=s.code,C1(r)&&r!==x.ABORTED){const i=n._u.shift();Ds(n).Fo(),await _v(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ql(n)}var r}(t,e),wv(t)&&bv(t)}async function fp(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const s=yr(n);n.mu.add(3),await xo(n),s&&n.pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.mu.delete(3),await Jl(n)}async function FC(t,e){const n=he(t);e?(n.mu.delete(2),await Jl(n)):e||(n.mu.add(2),await xo(n),n.pu.set("Unknown"))}function ui(t){return t.Tu||(t.Tu=function(e,n,s){const r=he(e);return r.ru(),new CC(n,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,s)}(t.datastore,t.asyncQueue,{Xr:xC.bind(null,t),no:DC.bind(null,t),Ho:OC.bind(null,t)}),t.gu.push(async e=>{e?(t.Tu.Fo(),Gd(t)?Wd(t):t.pu.set("Unknown")):(await t.Tu.stop(),yv(t))})),t.Tu}function Ds(t){return t.Eu||(t.Eu=function(e,n,s){const r=he(e);return r.ru(),new SC(n,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,s)}(t.datastore,t.asyncQueue,{Xr:MC.bind(null,t),no:BC.bind(null,t),nu:UC.bind(null,t),eu:LC.bind(null,t)}),t.gu.push(async e=>{e?(t.Eu.Fo(),await Ql(t)):(await t.Eu.stop(),t._u.length>0&&(G("RemoteStore",`Stopping write stream with ${t._u.length} pending writes`),t._u=[]))})),t.Eu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new zd(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yd(t,e){if(Yn("AsyncQueue",`${e}: ${t}`),ko(t))return new H(x.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Y.comparator(n.key,s.key):(n,s)=>Y.comparator(n.key,s.key),this.keyedMap=Ri(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new Br(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Br;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(){this.Au=new yt(Y.comparator)}track(e){const n=e.doc.key,s=this.Au.get(n);s?e.type!==0&&s.type===3?this.Au=this.Au.insert(n,e):e.type===3&&s.type!==1?this.Au=this.Au.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Au=this.Au.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Au=this.Au.remove(n):e.type===1&&s.type===2?this.Au=this.Au.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):re():this.Au=this.Au.insert(n,e)}Ru(){const e=[];return this.Au.inorderTraversal((n,s)=>{e.push(s)}),e}}class zr{constructor(e,n,s,r,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zr(e,n,Br.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.Pu=void 0,this.listeners=[]}}class jC{constructor(){this.queries=new ci(e=>qA(e),Vl),this.onlineState="Unknown",this.vu=new Set}}async function Xd(t,e){const n=he(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new VC),r)try{i.Pu=await n.onListen(s)}catch(o){const a=Yd(o,`Initialization of query '${xu(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.bu(n.onlineState),i.Pu&&e.Vu(i.Pu)&&eh(n)}async function Zd(t,e){const n=he(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function $C(t,e){const n=he(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.Vu(r)&&(s=!0);o.Pu=r}}s&&eh(n)}function qC(t,e,n){const s=he(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function eh(t){t.vu.forEach(e=>{e.next()})}class th{constructor(e,n,s){this.query=e,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=s||{}}Vu(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new zr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Du?this.xu(e)&&(this.Su.next(e),n=!0):this.Nu(e,this.onlineState)&&(this.ku(e),n=!0),this.Cu=e,n}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),n=!0),n}Nu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.$u||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}xu(e){if(e.docChanges.length>0)return!0;const n=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ku(e){e=zr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e){this.key=e}}class Iv{constructor(e){this.key=e}}class HC{constructor(e,n){this.query=e,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=_e(),this.mutatedKeys=_e(),this.ju=HA(e),this.zu=new Br(this.ju)}get Wu(){return this.Ku}Hu(e,n){const s=n?n.Ju:new pp,r=n?n.zu:this.zu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const f=r.get(u),p=jl(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),A=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;f&&p?f.data.isEqual(p.data)?m!==A&&(s.track({type:3,doc:p}),v=!0):this.Yu(f,p)||(s.track({type:2,doc:p}),v=!0,(l&&this.ju(p,l)>0||c&&this.ju(p,c)<0)&&(a=!0)):!f&&p?(s.track({type:0,doc:p}),v=!0):f&&!p&&(s.track({type:1,doc:f}),v=!0,(l||c)&&(a=!0)),v&&(p?(o=o.add(p),i=A?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{zu:o,Ju:s,Li:a,mutatedKeys:i}}Yu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const i=e.Ju.Ru();i.sort((c,u)=>function(h,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re()}};return p(h)-p(f)}(c.type,u.type)||this.ju(c.doc,u.doc)),this.Zu(s);const o=n?this.Xu():[],a=this.Qu.size===0&&this.current?1:0,l=a!==this.Gu;return this.Gu=a,i.length!==0||l?{snapshot:new zr(this.query,e.zu,r,i,e.mutatedKeys,a===0,l,!1,!!s&&s.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new pp,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=_e(),this.zu.forEach(s=>{this.ec(s.key)&&(this.Qu=this.Qu.add(s.key))});const n=[];return e.forEach(s=>{this.Qu.has(s)||n.push(new Iv(s))}),this.Qu.forEach(s=>{e.has(s)||n.push(new Ev(s))}),n}nc(e){this.Ku=e.Yi,this.Qu=_e();const n=this.Hu(e.documents);return this.applyChanges(n,!0)}sc(){return zr.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}}class KC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class JC{constructor(e){this.key=e,this.ic=!1}}class QC{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new ci(a=>qA(a),Vl),this.uc=new Map,this.cc=new Set,this.ac=new yt(Y.comparator),this.hc=new Map,this.lc=new Hd,this.fc={},this.dc=new Map,this._c=Gr.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}}async function WC(t,e){const n=rS(t);let s,r;const i=n.oc.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.sc();else{const o=await vC(n.localStore,Xn(e));n.isPrimaryClient&&gv(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await GC(n,e,s,a==="current",o.resumeToken)}return r}async function GC(t,e,n,s,r){t.mc=(h,f,p)=>async function(m,A,v,w){let S=A.view.Hu(v);S.Li&&(S=await up(m.localStore,A.query,!1).then(({documents:X})=>A.view.Hu(X,S)));const E=w&&w.targetChanges.get(A.targetId),R=A.view.applyChanges(S,m.isPrimaryClient,E);return gp(m,A.targetId,R.tc),R.snapshot}(t,h,f,p);const i=await up(t.localStore,e,!0),o=new HC(e,i.Yi),a=o.Hu(i.documents),l=Ro.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);gp(t,n,c.tc);const u=new KC(e,n,o);return t.oc.set(e,u),t.uc.has(n)?t.uc.get(n).push(e):t.uc.set(n,[e]),c.snapshot}async function zC(t,e){const n=he(t),s=n.oc.get(e),r=n.uc.get(s.targetId);if(r.length>1)return n.uc.set(s.targetId,r.filter(i=>!Vl(i,e))),void n.oc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Pu(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Av(n.remoteStore,s.targetId),Mu(n,s.targetId)}).catch(So)):(Mu(n,s.targetId),await Pu(n.localStore,s.targetId,!0))}async function YC(t,e,n){const s=iS(t);try{const r=await function(i,o){const a=he(i),l=ut.now(),c=o.reduce((f,p)=>f.add(p.key),_e());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Zn(),m=_e();return a.ji.getEntries(f,c).next(A=>{p=A,p.forEach((v,w)=>{w.isValidDocument()||(m=m.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(A=>{u=A;const v=[];for(const w of o){const S=b1(w,u.get(w.key).overlayedDocument);S!=null&&v.push(new Us(w.key,S,jA(S.value.mapValue),fn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,v,o)}).next(A=>{h=A;const v=A.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(f,A.batchId,v)})}).then(()=>({batchId:h.batchId,changes:tv(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let l=i.fc[i.currentUser.toKey()];l||(l=new yt(Re)),l=l.insert(o,a),i.fc[i.currentUser.toKey()]=l}(s,r.batchId,n),await Do(s,r.changes),await Ql(s.remoteStore)}catch(r){const i=Yd(r,"Failed to persist write");n.reject(i)}}async function Cv(t,e){const n=he(t);try{const s=await mC(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.hc.get(i);o&&(Fe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ic=!0:r.modifiedDocuments.size>0?Fe(o.ic):r.removedDocuments.size>0&&(Fe(o.ic),o.ic=!1))}),await Do(n,s,e)}catch(s){await So(s)}}function mp(t,e,n){const s=he(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.oc.forEach((i,o)=>{const a=o.view.bu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=he(i);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const h of u.listeners)h.bu(o)&&(l=!0)}),l&&eh(a)}(s.eventManager,e),r.length&&s.rc.Ho(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function XC(t,e,n){const s=he(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.hc.get(e),i=r&&r.key;if(i){let o=new yt(Y.comparator);o=o.insert(i,xt.newNoDocument(i,de.min()));const a=_e().add(i),l=new Hl(de.min(),new Map,new gt(Re),o,a);await Cv(s,l),s.ac=s.ac.remove(i),s.hc.delete(e),nh(s)}else await Pu(s.localStore,e,!1).then(()=>Mu(s,e,n)).catch(So)}async function ZC(t,e){const n=he(t),s=e.batch.batchId;try{const r=await pC(n.localStore,e);kv(n,s,null),Sv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Do(n,r)}catch(r){await So(r)}}async function eS(t,e,n){const s=he(t);try{const r=await function(i,o){const a=he(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(Fe(u!==null),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(s.localStore,e);kv(s,e,n),Sv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Do(s,r)}catch(r){await So(r)}}function Sv(t,e){(t.dc.get(e)||[]).forEach(n=>{n.resolve()}),t.dc.delete(e)}function kv(t,e,n){const s=he(t);let r=s.fc[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.fc[s.currentUser.toKey()]=r}}function Mu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.uc.get(e))t.oc.delete(s),n&&t.rc.gc(s,n);t.uc.delete(e),t.isPrimaryClient&&t.lc.ds(e).forEach(s=>{t.lc.containsKey(s)||Tv(t,s)})}function Tv(t,e){t.cc.delete(e.path.canonicalString());const n=t.ac.get(e);n!==null&&(Av(t.remoteStore,n),t.ac=t.ac.remove(e),t.hc.delete(n),nh(t))}function gp(t,e,n){for(const s of n)s instanceof Ev?(t.lc.addReference(s.key,e),tS(t,s)):s instanceof Iv?(G("SyncEngine","Document no longer in limbo: "+s.key),t.lc.removeReference(s.key,e),t.lc.containsKey(s.key)||Tv(t,s.key)):re()}function tS(t,e){const n=e.key,s=n.path.canonicalString();t.ac.get(n)||t.cc.has(s)||(G("SyncEngine","New document in limbo: "+n),t.cc.add(s),nh(t))}function nh(t){for(;t.cc.size>0&&t.ac.size<t.maxConcurrentLimboResolutions;){const e=t.cc.values().next().value;t.cc.delete(e);const n=new Y($e.fromString(e)),s=t._c.next();t.hc.set(s,new JC(n)),t.ac=t.ac.insert(n,s),gv(t.remoteStore,new rr(Xn(Bl(n.path)),s,2,Md.at))}}async function Do(t,e,n){const s=he(t),r=[],i=[],o=[];s.oc.isEmpty()||(s.oc.forEach((a,l)=>{o.push(s.mc(l,e,n).then(c=>{if((c||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){r.push(c);const u=Jd.Ni(l.targetId,c);i.push(u)}}))}),await Promise.all(o),s.rc.Ho(r),await async function(a,l){const c=he(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>P.forEach(l,h=>P.forEach(h.Ci,f=>c.persistence.referenceDelegate.addReference(u,h.targetId,f)).next(()=>P.forEach(h.xi,f=>c.persistence.referenceDelegate.removeReference(u,h.targetId,f)))))}catch(u){if(!ko(u))throw u;G("LocalStore","Failed to update sequence numbers: "+u)}for(const u of l){const h=u.targetId;if(!u.fromCache){const f=c.Ki.get(h),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);c.Ki=c.Ki.insert(h,m)}}}(s.localStore,i))}async function nS(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const s=await hv(n.localStore,e);n.currentUser=e,function(r,i){r.dc.forEach(o=>{o.forEach(a=>{a.reject(new H(x.CANCELLED,i))})}),r.dc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Do(n,s.Wi)}}function sS(t,e){const n=he(t),s=n.hc.get(e);if(s&&s.ic)return _e().add(s.key);{let r=_e();const i=n.uc.get(e);if(!i)return r;for(const o of i){const a=n.oc.get(o);r=r.unionWith(a.view.Wu)}return r}}function rS(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XC.bind(null,e),e.rc.Ho=$C.bind(null,e.eventManager),e.rc.gc=qC.bind(null,e.eventManager),e}function iS(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eS.bind(null,e),e}class oS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.Tt=Kl(e.databaseInfo.databaseId),this.sharedClientState=this.Ic(e),this.persistence=this.Tc(e),await this.persistence.start(),this.localStore=this.Ec(e),this.gcScheduler=this.Ac(e,this.localStore),this.indexBackfillerScheduler=this.Rc(e,this.localStore)}Ac(e,n){return null}Rc(e,n){return null}Ec(e){return fC(this.persistence,new dC,e.initialUser,this.Tt)}Tc(e){return new cC(Kd.qs,this.Tt)}Ic(e){return new _C}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class aS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>mp(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nS.bind(null,this.syncEngine),await FC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new jC}createDatastore(e){const n=Kl(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new IC(r));var r;return function(i,o,a,l){return new kC(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>mp(this.syncEngine,a,0),o=hp.C()?new hp:new wC,new RC(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,l,c){const u=new QC(s,r,i,o,a,l);return c&&(u.wc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=he(e);G("RemoteStore","RemoteStore shutting down."),n.mu.add(5),await xo(n),n.yu.shutdown(),n.pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):Yn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Rt.UNAUTHENTICATED,this.clientId=DA.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{G("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>(G("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Yd(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function cS(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await hv(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function uS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dS(t);G("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>fp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>fp(e.remoteStore,i)),t.onlineComponents=e}async function dS(t){return t.offlineComponents||(G("FirestoreClient","Using default OfflineComponentProvider"),await cS(t,new oS)),t.offlineComponents}async function Rv(t){return t.onlineComponents||(G("FirestoreClient","Using default OnlineComponentProvider"),await uS(t,new aS)),t.onlineComponents}function hS(t){return Rv(t).then(e=>e.syncEngine)}async function Ka(t){const e=await Rv(t),n=e.eventManager;return n.onListen=WC.bind(null,e.syncEngine),n.onUnlisten=zC.bind(null,e.syncEngine),n}function fS(t,e,n={}){const s=new Qn;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,l){const c=new sh({next:h=>{i.enqueueAndForget(()=>Zd(r,u));const f=h.docs.has(o);!f&&h.fromCache?l.reject(new H(x.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new H(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new th(Bl(o.path),c,{includeMetadataChanges:!0,$u:!0});return Xd(r,u)}(await Ka(t),t.asyncQueue,e,n,s)),s.promise}function pS(t,e,n={}){const s=new Qn;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,l){const c=new sh({next:h=>{i.enqueueAndForget(()=>Zd(r,u)),h.fromCache&&a.source==="server"?l.reject(new H(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),u=new th(o,c,{includeMetadataChanges:!0,$u:!0});return Xd(r,u)}(await Ka(t),t.asyncQueue,e,n,s)),s.promise}const Ap=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e,n){if(!n)throw new H(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mS(t,e,n,s){if(e===!0&&s===!0)throw new H(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vp(t){if(!Y.isDocumentKey(t))throw new H(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yp(t){if(Y.isDocumentKey(t))throw new H(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re()}function zt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wl(t);throw new H(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function gS(t,e){if(e<=0)throw new H(x.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new H(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,mS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _p({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _p(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new BI;switch(n.type){case"gapi":const s=n.client;return new $I(s,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new H(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ap.get(e);n&&(G("ComponentProvider","Removing Datastore"),Ap.delete(e),n.terminate())}(this),Promise.resolve()}}function AS(t,e,n,s={}){var r;const i=(t=zt(t,Gl))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&Iu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),s.mockUserToken){let o,a;if(typeof s.mockUserToken=="string")o=s.mockUserToken,a=Rt.MOCK_USER;else{o=bg(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const l=s.mockUserToken.sub||s.mockUserToken.user_id;if(!l)throw new H(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Rt(l)}t._authCredentials=new FI(new xA(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}}class ss{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ss(this.firestore,e,this._query)}}class Is extends ss{constructor(e,n,s){super(e,n,Bl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new Y(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function jt(t,e,...n){if(t=qe(t),xv("collection","path",e),t instanceof Gl){const s=$e.fromString(e,...n);return yp(s),new Is(t,null,s)}{if(!(t instanceof Mt||t instanceof Is))throw new H(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child($e.fromString(e,...n));return yp(s),new Is(t.firestore,null,s)}}function De(t,e,...n){if(t=qe(t),arguments.length===1&&(e=DA.R()),xv("doc","path",e),t instanceof Gl){const s=$e.fromString(e,...n);return vp(s),new Mt(t,null,new Y(s))}{if(!(t instanceof Mt||t instanceof Is))throw new H(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child($e.fromString(e,...n));return vp(s),new Mt(t.firestore,t instanceof Is?t.converter:null,new Y(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new pv(this,"async_queue_retry"),this.Hc=()=>{const n=Fc();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const e=Fc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const n=Fc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new Qn;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(e){if(!ko(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(e){const n=this.qc.then(()=>(this.jc=!0,e().catch(s=>{this.Qc=s,this.jc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw Yn("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.jc=!1,s))));return this.qc=n,n}enqueueAfterDelay(e,n,s){this.Jc(),this.Wc.indexOf(e)>-1&&(n=0);const r=zd.createAndSchedule(this,e,n,s,i=>this.Xc(i));return this.Gc.push(r),r}Jc(){this.Qc&&re()}verifyOperationInProgress(){}async ta(){let e;do e=this.qc,await e;while(e!==this.qc)}ea(e){for(const n of this.Gc)if(n.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const n=this.Gc.indexOf(e);this.Gc.splice(n,1)}}function wp(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const r of n)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class es extends Gl{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new vS,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Dv(this),this._firestoreClient.terminate()}}function Oo(t,e){const n=typeof t=="object"?t:hd(),s=typeof t=="string"?t:e||"(default)",r=wl(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=_g("firestore");i&&AS(r,...i)}return r}function zl(t){return t._firestoreClient||Dv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Dv(t){var e;const n=t._freezeSettings(),s=function(r,i,o,a){return new XI(r,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new lS(t._authCredentials,t._appCheckCredentials,t._queue,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yr(Bt.fromBase64String(e))}catch(n){throw new H(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yr(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=/^__.*__$/;class _S{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,n,this.fieldTransforms):new To(e,this.data,n,this.fieldTransforms)}}class Ov{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Us(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Nv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re()}}class Xl{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.Tt=s,this.ignoreUndefinedProperties=r,i===void 0&&this.ia(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new Xl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.oa({path:s,ca:!1});return r.aa(e),r}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.oa({path:s,ca:!1});return r.ia(),r}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return Ja(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(e.length===0)throw this.fa("Document fields must not be empty");if(Nv(this.ra)&&yS.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class wS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.Tt=s||Kl(e)}wa(e,n,s,r=!1){return new Xl({ra:e,methodName:n,_a:s,path:Ot.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function Zl(t){const e=t._freezeSettings(),n=Kl(t._databaseId);return new wS(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pv(t,e,n,s,r,i={}){const o=t.wa(i.merge||i.mergeFields?2:0,e,n,r);oh("Data must be an object, but it was:",o,s);const a=Uv(s,o);let l,c;if(i.merge)l=new tn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=Uu(e,h,n);if(!o.contains(f))throw new H(x.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Bv(u,f)||u.push(f)}l=new tn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new _S(new Gt(a),l,c)}class ec extends di{_toFieldTransform(e){if(e.ra!==2)throw e.ra===1?e.fa(`${this._methodName}() can only appear at the top level of your update data`):e.fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ec}}function Mv(t,e,n){return new Xl({ra:3,_a:e.settings._a,methodName:t._methodName,ca:n},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class ih extends di{_toFieldTransform(e){return new Vd(e.path,new lo)}isEqual(e){return e instanceof ih}}class bS extends di{constructor(e,n){super(e),this.ma=n}_toFieldTransform(e){const n=Mv(this,e,!0),s=this.ma.map(i=>_r(i,n)),r=new Qr(s);return new Vd(e.path,r)}isEqual(e){return this===e}}class ES extends di{constructor(e,n){super(e),this.ma=n}_toFieldTransform(e){const n=Mv(this,e,!0),s=this.ma.map(i=>_r(i,n)),r=new Wr(s);return new Vd(e.path,r)}isEqual(e){return this===e}}function IS(t,e,n,s){const r=t.wa(1,e,n);oh("Data must be an object, but it was:",r,s);const i=[],o=Gt.empty();vr(s,(l,c)=>{const u=ah(e,l,n);c=qe(c);const h=r.ha(u);if(c instanceof ec)i.push(u);else{const f=_r(c,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new tn(i);return new Ov(o,a,r.fieldTransforms)}function CS(t,e,n,s,r,i){const o=t.wa(1,e,n),a=[Uu(e,s,n)],l=[r];if(i.length%2!=0)throw new H(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Uu(e,i[f])),l.push(i[f+1]);const c=[],u=Gt.empty();for(let f=a.length-1;f>=0;--f)if(!Bv(c,a[f])){const p=a[f];let m=l[f];m=qe(m);const A=o.ha(p);if(m instanceof ec)c.push(p);else{const v=_r(m,A);v!=null&&(c.push(p),u.set(p,v))}}const h=new tn(c);return new Ov(u,h,o.fieldTransforms)}function SS(t,e,n,s=!1){return _r(n,t.wa(s?4:3,e))}function _r(t,e){if(Lv(t=qe(t)))return oh("Unsupported field value:",e,t),Uv(t,e);if(t instanceof di)return function(n,s){if(!Nv(s.ra))throw s.fa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.fa(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ca&&e.ra!==4)throw e.fa("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=_r(o,s.la(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=qe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return g1(s.Tt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=ut.fromDate(n);return{timestampValue:qa(s.Tt,r)}}if(n instanceof ut){const r=new ut(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:qa(s.Tt,r)}}if(n instanceof rh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Yr)return{bytesValue:ov(s.Tt,n._byteString)};if(n instanceof Mt){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s.fa(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:$d(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.fa(`Unsupported field value: ${Wl(n)}`)}(t,e)}function Uv(t,e){const n={};return OA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(t,(s,r)=>{const i=_r(r,e.ua(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Lv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof rh||t instanceof Yr||t instanceof Mt||t instanceof di)}function oh(t,e,n){if(!Lv(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=Wl(n);throw s==="an object"?e.fa(t+" a custom object"):e.fa(t+" "+s)}}function Uu(t,e,n){if((e=qe(e))instanceof Yl)return e._internalPath;if(typeof e=="string")return ah(t,e);throw Ja("Field path arguments must be of type string or ",t,!1,void 0,n)}const kS=new RegExp("[~\\*/\\[\\]]");function ah(t,e,n){if(e.search(kS)>=0)throw Ja(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yl(...e.split("."))._internalPath}catch{throw Ja(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ja(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${s}`),o&&(l+=` in document ${r}`),l+=")"),new H(x.INVALID_ARGUMENT,a+t+l)}function Bv(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TS extends Fv{data(){return super.data()}}function tc(t,e){return typeof e=="string"?ah(t,e):e instanceof Yl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lh{}class ch extends lh{}function rs(t,e,...n){let s=[];e instanceof lh&&s.push(e),s=s.concat(n),function(r){const i=r.filter(a=>a instanceof uh).length,o=r.filter(a=>a instanceof nc).length;if(i>1||i>0&&o>0)throw new H(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class nc extends ch{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new nc(e,n,s)}_apply(e){const n=this._parse(e);return $v(e._query,n),new ss(e.firestore,e.converter,Ru(e._query,n))}_parse(e){const n=Zl(e.firestore);return function(r,i,o,a,l,c,u){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new H(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Ep(u,c);const f=[];for(const p of u)f.push(bp(a,r,p));h={arrayValue:{values:f}}}else h=bp(a,r,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Ep(u,c),h=SS(o,i,u,c==="in"||c==="not-in");return lt.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Os(t,e,n){const s=e,r=tc("where",t);return nc._create(r,s,n)}class uh extends lh{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new uh(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:_n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let i=s;const o=r.getFlattenedFilters();for(const a of o)$v(i,a),i=Ru(i,a)}(e._query,n),new ss(e.firestore,e.converter,Ru(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dh extends ch{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new dh(e,n)}_apply(e){const n=function(s,r,i){if(s.startAt!==null)throw new H(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new H(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Ur(r,i);return function(a,l){if(Fd(a)===null){const c=Fl(a);c!==null&&qv(a,c,l.field)}}(s,o),o}(e._query,this._field,this._direction);return new ss(e.firestore,e.converter,function(s,r){const i=s.explicitOrderBy.concat([r]);return new li(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function sc(t,e="asc"){const n=e,s=tc("orderBy",t);return dh._create(s,n)}class hh extends ch{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new hh(e,n,s)}_apply(e){return new ss(e.firestore,e.converter,ja(e._query,this._limit,this._limitType))}}function jv(t){return gS("limit",t),hh._create("limit",t,"F")}function bp(t,e,n){if(typeof(n=qe(n))=="string"){if(n==="")throw new H(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$A(e)&&n.indexOf("/")!==-1)throw new H(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child($e.fromString(n));if(!Y.isDocumentKey(s))throw new H(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Wf(t,new Y(s))}if(n instanceof Mt)return Wf(t,n._key);throw new H(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wl(n)}.`)}function Ep(t,e){if(!Array.isArray(t)||t.length===0)throw new H(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $v(t,e){if(e.isInequality()){const s=Fl(t),r=e.field;if(s!==null&&!s.isEqual(r))throw new H(x.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${r.toString()}'`);const i=Fd(t);i!==null&&qv(t,r,i)}const n=function(s,r){for(const i of s)for(const o of i.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function qv(t,e,n){if(!n.isEqual(e))throw new H(x.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class RS{convertValue(e,n="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw re()}}convertObject(e,n){const s={};return vr(e.fields,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new rh(ot(e.latitude),ot(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=PA(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(oo(e));default:return null}}convertTimestamp(e){const n=xs(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=$e.fromString(e);Fe(dv(s));const r=new io(s.get(1),s.get(3)),i=new Y(s.popFirst(5));return r.isEqual(n)||Yn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kv extends Fv{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(tc("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class fa extends Kv{data(e={}){return super.data(e)}}class Jv{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new xi(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new fa(this._firestore,this._userDataWriter,s.key,s,new xi(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>{const a=new fa(s._firestore,s._userDataWriter,o.doc.key,o.doc,new xi(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new fa(s._firestore,s._userDataWriter,o.doc.key,o.doc,new xi(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,c=-1;return o.type!==0&&(l=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:xS(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){t=zt(t,Mt);const e=zt(t.firestore,es);return fS(zl(e),t._key).then(n=>Qv(e,t,n))}class fh extends RS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function hi(t){t=zt(t,ss);const e=zt(t.firestore,es),n=zl(e),s=new fh(e);return Vv(t._query),pS(n,t._query).then(r=>new Jv(e,s,t,r))}function DS(t,e,n){t=zt(t,Mt);const s=zt(t.firestore,es),r=Hv(t.converter,e,n);return rc(s,[Pv(Zl(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,fn.none())])}function Ft(t,e,n,...s){t=zt(t,Mt);const r=zt(t.firestore,es),i=Zl(r);let o;return o=typeof(e=qe(e))=="string"||e instanceof Yl?CS(i,"updateDoc",t._key,e,n,s):IS(i,"updateDoc",t._key,e),rc(r,[o.toMutation(t._key,fn.exists(!0))])}function OS(t){return rc(zt(t.firestore,es),[new jd(t._key,fn.none())])}function No(t,e){const n=zt(t.firestore,es),s=De(t),r=Hv(t.converter,e);return rc(n,[Pv(Zl(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,fn.exists(!1))]).then(()=>s)}function wr(t,...e){var n,s,r;t=qe(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||wp(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(wp(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(s=h.error)===null||s===void 0?void 0:s.bind(h),e[o+2]=(r=h.complete)===null||r===void 0?void 0:r.bind(h)}let l,c,u;if(t instanceof Mt)c=zt(t.firestore,es),u=Bl(t._key.path),l={next:h=>{e[o]&&e[o](Qv(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=zt(t,ss);c=zt(h.firestore,es),u=h._query;const f=new fh(c);l={next:p=>{e[o]&&e[o](new Jv(c,f,h,p))},error:e[o+1],complete:e[o+2]},Vv(t._query)}return function(h,f,p,m){const A=new sh(m),v=new th(f,A,p);return h.asyncQueue.enqueueAndForget(async()=>Xd(await Ka(h),v)),()=>{A.bc(),h.asyncQueue.enqueueAndForget(async()=>Zd(await Ka(h),v))}}(zl(c),u,a,l)}function rc(t,e){return function(n,s){const r=new Qn;return n.asyncQueue.enqueueAndForget(async()=>YC(await hS(n),s,r)),r.promise}(zl(t),e)}function Qv(t,e,n){const s=n.docs.get(e._key),r=new fh(t);return new Kv(t,r,e._key,s,new xi(n.hasPendingWrites,n.fromCache),e.converter)}function Po(){return new ih("serverTimestamp")}function Qa(...t){return new bS("arrayUnion",t)}function Lu(...t){return new ES("arrayRemove",t)}(function(t,e=!0){(function(n){ai=n})(ri),cr(new Ts("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new es(new VI(n.getProvider("auth-internal")),new HI(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new H(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(a.options.projectId,l)}(i,s),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Dn(Hf,"3.9.0",t),Dn(Hf,"3.9.0","esm2017")})();function ph(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function Wv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NS=Wv,Gv=new mo("auth","Firebase",Wv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=new ud("@firebase/auth");function pa(t,...e){Ip.logLevel<=ke.ERROR&&Ip.error(`Auth (${ri}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,...e){throw mh(t,...e)}function Nn(t,...e){return mh(t,...e)}function PS(t,e,n){const s=Object.assign(Object.assign({},NS()),{[e]:n});return new mo("auth","Firebase",s).create(e,{appName:t.name})}function mh(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Gv.create(t,...e)}function te(t,e,...n){if(!t)throw mh(e,...n)}function Kn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pa(e),new Error(e)}function ts(t,e){t||Kn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp=new Map;function Jn(t){ts(t instanceof Function,"Expected a class definition");let e=Cp.get(t);return e?(ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Cp.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t,e){const n=wl(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Ra(i,e??{}))return r;wn(r,"already-initialized")}return n.initialize({options:e})}function US(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Jn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LS(){return Sp()==="http:"||Sp()==="https:"}function Sp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LS()||A0()||"connection"in navigator)?navigator.onLine:!0}function FS(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n){this.shortDelay=e,this.longDelay=n,ts(n>e,"Short delay should be less than long delay!"),this.isMobile=m0()||v0()}get(){return BS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t,e){ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=new Mo(3e4,6e4);function fi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function br(t,e,n,s,r={}){return Yv(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const a=go(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),zv.fetch()(Xv(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function Yv(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},VS),e);try{const r=new $S(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw na(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw na(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw na(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw na(t,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw PS(t,u,c);wn(t,u)}}catch(r){if(r instanceof Fn)throw r;wn(t,"internal-error",{message:String(r)})}}async function Uo(t,e,n,s,r={}){const i=await br(t,e,n,s,r);return"mfaPendingCredential"in i&&wn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Xv(t,e,n,s){const r=`${e}${n}?${s}`;return t.config.emulator?gh(t.config,r):`${t.config.apiScheme}://${r}`}class $S{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Nn(this.auth,"network-request-failed")),jS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function na(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Nn(t,e,s);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qS(t,e){return br(t,"POST","/v1/accounts:delete",e)}async function HS(t,e){return br(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KS(t,e=!1){const n=qe(t),s=await n.getIdToken(e),r=Ah(s);te(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Bi(Vc(r.auth_time)),issuedAtTime:Bi(Vc(r.iat)),expirationTime:Bi(Vc(r.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Vc(t){return Number(t)*1e3}function Ah(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return pa("JWT malformed, contained fewer than 3 sections"),null;try{const r=vg(n);return r?JSON.parse(r):(pa("Failed to decode base64 JWT payload"),null)}catch(r){return pa("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function JS(t){const e=Ah(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xr(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Fn&&QS(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function QS({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bi(this.lastLoginAt),this.creationTime=Bi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t){var e;const n=t.auth,s=await t.getIdToken(),r=await Xr(t,HS(n,{idToken:s}));te(r==null?void 0:r.users.length,n,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?YS(i.providerUserInfo):[],a=zS(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Zv(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function GS(t){const e=qe(t);await Wa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zS(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function YS(t){return t.map(e=>{var{providerId:n}=e,s=ph(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(t,e){const n=await Yv(t,{},async()=>{const s=go({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=Xv(t,r,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zv.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return te(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await XS(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new co;return s&&(te(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(te(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(te(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return Kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ir{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,i=ph(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Zv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Xr(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KS(this,e)}reload(){return GS(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Wa(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Xr(this,qS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,i,o,a,l,c,u;const h=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,S=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:R,isAnonymous:X,providerData:oe,stsTokenManager:ge}=n;te(E&&ge,e,"internal-error");const K=co.fromJSON(this.name,ge);te(typeof E=="string",e,"internal-error"),ls(h,e.name),ls(f,e.name),te(typeof R=="boolean",e,"internal-error"),te(typeof X=="boolean",e,"internal-error"),ls(p,e.name),ls(m,e.name),ls(A,e.name),ls(v,e.name),ls(w,e.name),ls(S,e.name);const ve=new ir({uid:E,auth:e,email:f,emailVerified:R,displayName:h,isAnonymous:X,photoURL:m,phoneNumber:p,tenantId:A,stsTokenManager:K,createdAt:w,lastLoginAt:S});return oe&&Array.isArray(oe)&&(ve.providerData=oe.map(ae=>Object.assign({},ae))),v&&(ve._redirectEventId=v),ve}static async _fromIdTokenResponse(e,n,s=!1){const r=new co;r.updateFromServerResponse(n);const i=new ir({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Wa(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ey.type="NONE";const kp=ey;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t,e,n){return`firebase:${t}:${e}:${n}`}class Fr{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=ma(this.userKey,r.apiKey,i),this.fullPersistenceKey=ma("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Fr(Jn(kp),e,s);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=r[0]||Jn(kp);const o=ma(s,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=ir._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Fr(i,e,s):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Fr(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ty(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iy(e))return"Blackberry";if(oy(e))return"Webos";if(vh(e))return"Safari";if((e.includes("chrome/")||ny(e))&&!e.includes("edge/"))return"Chrome";if(ry(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ty(t=Lt()){return/firefox\//i.test(t)}function vh(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ny(t=Lt()){return/crios\//i.test(t)}function sy(t=Lt()){return/iemobile/i.test(t)}function ry(t=Lt()){return/android/i.test(t)}function iy(t=Lt()){return/blackberry/i.test(t)}function oy(t=Lt()){return/webos/i.test(t)}function ic(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZS(t=Lt()){var e;return ic(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ek(){return y0()&&document.documentMode===10}function ay(t=Lt()){return ic(t)||ry(t)||oy(t)||iy(t)||/windows phone/i.test(t)||sy(t)}function tk(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t,e=[]){let n;switch(t){case"Browser":n=Tp(Lt());break;case"Worker":n=`${Tp(Lt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ri}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,s){this.app=e,this.heartbeatServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rp(this),this.idTokenSubscription=new Rp(this),this.beforeStateQueue=new nk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gv,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jn(n)),this._initializationPromise=this.queue(async()=>{var s,r;if(!this._deleted&&(this.persistenceManager=await Fr.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wa(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?qe(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jn(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await Fr.create(this,[Jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return te(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,s,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ly(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return s&&(n["X-Firebase-Client"]=s),n}}function Lo(t){return qe(t)}class Rp{constructor(e){this.auth=e,this.observer=null,this.addObserver=S0(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rk(t,e,n){const s=Lo(t);te(s._canInitEmulator,s,"emulator-config-failed"),te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),i=cy(e),{host:o,port:a}=ik(e),l=a===null?"":`:${a}`;s.config.emulator={url:`${i}//${o}${l}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||ok()}function cy(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ik(t){const e=cy(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:xp(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:xp(o)}}}function xp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ok(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,n){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}}async function ak(t,e){return br(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(t,e){return Uo(t,"POST","/v1/accounts:signInWithPassword",fi(t,e))}async function ck(t,e){return br(t,"POST","/v1/accounts:sendOobCode",fi(t,e))}async function uk(t,e){return ck(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(t,e){return Uo(t,"POST","/v1/accounts:signInWithEmailLink",fi(t,e))}async function hk(t,e){return Uo(t,"POST","/v1/accounts:signInWithEmailLink",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends yh{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new uo(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new uo(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return lk(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return dk(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return ak(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return hk(e,{idToken:n,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vr(t,e){return Uo(t,"POST","/v1/accounts:signInWithIdp",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="http://localhost";class hr extends yh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r}=n,i=ph(n,["providerId","signInMethod"]);if(!s||!r)return null;const o=new hr(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Vr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vr(e,n)}buildRequest(){const e={requestUri:fk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=go(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mk(t){const e=Ci(Si(t)).link,n=e?Ci(Si(e)).deep_link_id:null,s=Ci(Si(t)).deep_link_id;return(s?Ci(Si(s)).link:null)||s||n||e||t}class _h{constructor(e){var n,s,r,i,o,a;const l=Ci(Si(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(s=l.oobCode)!==null&&s!==void 0?s:null,h=pk((r=l.mode)!==null&&r!==void 0?r:null);te(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=mk(e);try{return new _h(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this.providerId=pi.PROVIDER_ID}static credential(e,n){return uo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=_h.parseLink(n);return te(s,"argument-error"),uo._fromEmailAndCode(e,s.code,s.tenantId)}}pi.PROVIDER_ID="password";pi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends uy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Bo{constructor(){super("facebook.com")}static credential(e){return hr._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Bo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hr._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ms.credential(n,s)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Bo{constructor(){super("github.com")}static credential(e){return hr._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Bo{constructor(){super("twitter.com")}static credential(e,n){return hr._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return As.credential(n,s)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(t,e){return Uo(t,"POST","/v1/accounts:signUp",fi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await ir._fromIdTokenResponse(e,s,r),o=Dp(s);return new fr({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=Dp(s);return new fr({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function Dp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Fn{constructor(e,n,s,r){var i;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Ga.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Ga(e,n,s,r)}}function dy(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ga._fromErrorAndOperation(t,i,e,s):i})}async function Ak(t,e,n=!1){const s=await Xr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fr._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(t,e,n=!1){const{auth:s}=t,r="reauthenticate";try{const i=await Xr(t,dy(s,r,e,t),n);te(i.idToken,s,"internal-error");const o=Ah(i.idToken);te(o,s,"internal-error");const{sub:a}=o;return te(t.uid===a,s,"user-mismatch"),fr._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&wn(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hy(t,e,n=!1){const s="signIn",r=await dy(t,s,e),i=await fr._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function yk(t,e){return hy(Lo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t,e,n){var s;te(((s=n.url)===null||s===void 0?void 0:s.length)>0,t,"invalid-continue-uri"),te(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(te(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(te(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(t,e,n){const s=qe(t),r={requestType:"PASSWORD_RESET",email:e};n&&_k(s,r,n),await uk(s,r)}async function bk(t,e,n){const s=Lo(t),r=await gk(s,{returnSecureToken:!0,email:e,password:n}),i=await fr._fromIdTokenResponse(s,"signIn",r);return await s._updateCurrentUser(i.user),i}function Ek(t,e,n){return yk(qe(t),pi.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(t,e){return br(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=qe(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Xr(s,Ik(s.auth,i));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function Sk(t,e,n,s){return qe(t).onIdTokenChanged(e,n,s)}function kk(t,e,n){return qe(t).beforeAuthStateChanged(e,n)}function fy(t,e,n,s){return qe(t).onAuthStateChanged(e,n,s)}function Tk(t){return qe(t).signOut()}const za="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(za,"1"),this.storage.removeItem(za),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(){const t=Lt();return vh(t)||ic(t)}const xk=1e3,Dk=10;class my extends py{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Rk()&&tk(),this.fallbackToPolling=ay(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(s);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);ek()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Dk):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},xk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}my.type="LOCAL";const Ok=my;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy extends py{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gy.type="SESSION";const Ay=gy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new oc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await Nk(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=wh("",20);r.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function Mk(t){Pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function Uk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Lk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Bk(){return vy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="firebaseLocalStorageDb",Fk=1,Ya="firebaseLocalStorage",_y="fbase_key";class Fo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ac(t,e){return t.transaction([Ya],e?"readwrite":"readonly").objectStore(Ya)}function Vk(){const t=indexedDB.deleteDatabase(yy);return new Fo(t).toPromise()}function Fu(){const t=indexedDB.open(yy,Fk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ya,{keyPath:_y})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ya)?e(s):(s.close(),await Vk(),e(await Fu()))})})}async function Op(t,e,n){const s=ac(t,!0).put({[_y]:e,value:n});return new Fo(s).toPromise()}async function jk(t,e){const n=ac(t,!1).get(e),s=await new Fo(n).toPromise();return s===void 0?null:s.value}function Np(t,e){const n=ac(t,!0).delete(e);return new Fo(n).toPromise()}const $k=800,qk=3;class wy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>qk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oc._getInstance(Bk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Uk(),!this.activeServiceWorker)return;this.sender=new Pk(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Lk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fu();return await Op(e,za,"1"),await Np(e,za),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Op(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>jk(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Np(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=ac(r,!1).getAll();return new Fo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$k)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wy.type="LOCAL";const Hk=wy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Jk(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Nn("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",Kk().appendChild(s)})}function Qk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Mo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t,e){return e?Jn(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends yh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Gk(t){return hy(t.auth,new bh(t),t.bypassAuthState)}function zk(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),vk(n,new bh(t),t.bypassAuthState)}async function Yk(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),Ak(n,new bh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Gk;case"linkViaPopup":case"linkViaRedirect":return Yk;case"reauthViaPopup":case"reauthViaRedirect":return zk;default:wn(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new Mo(2e3,1e4);class Or extends by{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Or.currentPopupAction&&Or.currentPopupAction.cancel(),Or.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=wh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Or.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,Xk.get())};e()}}Or.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="pendingRedirect",ga=new Map;class eT extends by{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ga.get(this.auth._key());if(!e){try{const s=await tT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ga.set(this.auth._key(),e)}return this.bypassAuthState||ga.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tT(t,e){const n=rT(e),s=sT(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function nT(t,e){ga.set(t._key(),e)}function sT(t){return Jn(t._redirectPersistence)}function rT(t){return ma(Zk,t.config.apiKey,t.name)}async function iT(t,e,n=!1){const s=Lo(t),r=Wk(s,e),o=await new eT(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=10*60*1e3;class aT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lT(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Ey(e)){const r=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Nn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oT&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pp(e))}saveEventToCache(e){this.cachedEventUids.add(Pp(e)),this.lastProcessedEventTime=Date.now()}}function Pp(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ey({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lT(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ey(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(t,e={}){return br(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dT=/^https?/;async function hT(t){if(t.config.emulator)return;const{authorizedDomains:e}=await cT(t);for(const n of e)try{if(fT(n))return}catch{}wn(t,"unauthorized-domain")}function fT(t){const e=Bu(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!dT.test(n))return!1;if(uT.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new Mo(3e4,6e4);function Mp(){const t=Pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mT(t){return new Promise((e,n)=>{var s,r,i;function o(){Mp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mp(),n(Nn(t,"network-request-failed"))},timeout:pT.get()})}if(!((r=(s=Pn().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((i=Pn().gapi)===null||i===void 0)&&i.load)o();else{const a=Qk("iframefcb");return Pn()[a]=()=>{gapi.load?o():n(Nn(t,"network-request-failed"))},Jk(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Aa=null,e})}let Aa=null;function gT(t){return Aa=Aa||mT(t),Aa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new Mo(5e3,15e3),vT="__/auth/iframe",yT="emulator/auth/iframe",_T={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bT(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gh(e,yT):`https://${t.config.authDomain}/${vT}`,s={apiKey:e.apiKey,appName:t.name,v:ri},r=wT.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${go(s).slice(1)}`}async function ET(t){const e=await gT(t),n=Pn().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:bT(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_T,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=Nn(t,"network-request-failed"),a=Pn().setTimeout(()=>{i(o)},AT.get());function l(){Pn().clearTimeout(a),r(s)}s.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CT=500,ST=600,kT="_blank",TT="http://localhost";class Up{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RT(t,e,n,s=CT,r=ST){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l=Object.assign(Object.assign({},IT),{width:s.toString(),height:r.toString(),top:i,left:o}),c=Lt().toLowerCase();n&&(a=ny(c)?kT:n),ty(c)&&(e=e||TT,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(ZS(c)&&a!=="_self")return xT(e||"",a),new Up(null);const h=window.open(e||"",a,u);te(h,t,"popup-blocked");try{h.focus()}catch{}return new Up(h)}function xT(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="__/auth/handler",OT="emulator/auth/handler";function Lp(t,e,n,s,r,i){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ri,eventId:r};if(e instanceof uy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",C0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(i||{}))o[l]=c}if(e instanceof Bo){const l=e.getScopes().filter(c=>c!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${NT(t)}?${go(a).slice(1)}`}function NT({config:t}){return t.emulator?gh(t,OT):`https://${t.authDomain}/${DT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc="webStorageSupport";class PT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ay,this._completeRedirectFn=iT,this._overrideRedirectResult=nT}async _openPopup(e,n,s,r){var i;ts((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=Lp(e,n,s,Bu(),r);return RT(e,o,wh())}async _openRedirect(e,n,s,r){return await this._originValidation(e),Mk(Lp(e,n,s,Bu(),r)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(ts(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ET(e),s=new aT(e);return n.register("authEvent",r=>(te(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jc,{type:jc},r=>{var i;const o=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[jc];o!==void 0&&n(!!o),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hT(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ay()||vh()||ic()}}const MT=PT;var Bp="@firebase/auth",Fp="0.21.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function BT(t){cr(new Ts("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:o}=s.options;return((a,l)=>{te(i&&!i.includes(":"),"invalid-api-key",{appName:a.name}),te(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:i,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ly(t)},u=new sk(a,l,c);return US(u,n),u})(s,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),cr(new Ts("auth-internal",e=>{const n=Lo(e.getProvider("auth").getImmediate());return(s=>new UT(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(Bp,Fp,LT(t)),Dn(Bp,Fp,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=5*60,VT=wg("authIdTokenMaxAge")||FT;let Vp=null;const jT=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>VT)return;const r=n==null?void 0:n.token;Vp!==r&&(Vp=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Eh(t=hd()){const e=wl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MS(t,{popupRedirectResolver:MT,persistence:[Hk,Ok,Ay]}),s=wg("authTokenSyncURL");if(s){const i=jT(s);kk(n,i,()=>i(n.currentUser)),Sk(n,o=>i(o))}const r=yg("auth");return r&&rk(n,`http://${r}`),n}BT("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="firebasestorage.googleapis.com",Cy="storageBucket",$T=2*60*1e3,qT=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt extends Fn{constructor(e,n,s=0){super($c(e),`Firebase Storage: ${n} (${$c(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $c(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(et||(et={}));function $c(t){return"storage/"+t}function Ih(){const t="An unknown error occurred, please check the error payload for server response.";return new tt(et.UNKNOWN,t)}function HT(t){return new tt(et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function KT(t){return new tt(et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JT(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tt(et.UNAUTHENTICATED,t)}function QT(){return new tt(et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function WT(t){return new tt(et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function GT(){return new tt(et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zT(){return new tt(et.CANCELED,"User canceled the upload/download.")}function YT(t){return new tt(et.INVALID_URL,"Invalid URL '"+t+"'.")}function XT(t){return new tt(et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ZT(){return new tt(et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Cy+"' property when initializing the app?")}function eR(){return new tt(et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tR(){return new tt(et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nR(t){return new tt(et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vu(t){return new tt(et.INVALID_ARGUMENT,t)}function Sy(){return new tt(et.APP_DELETED,"The Firebase app was deleted.")}function sR(t){return new tt(et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fi(t,e){return new tt(et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function _i(t){throw new tt(et.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=nn.makeFromUrl(e,n)}catch{return new nn(e,"")}if(s.path==="")return s;throw XT(e)}static makeFromUrl(e,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${r}/o${f}`,"i"),m={bucket:1,path:3},A=n===Iy?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",w=new RegExp(`^https?://${A}/${r}/${v}`,"i"),E=[{regex:a,indices:l,postModify:i},{regex:p,indices:m,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<E.length;R++){const X=E[R],oe=X.regex.exec(e);if(oe){const ge=oe[X.indices.bucket];let K=oe[X.indices.path];K||(K=""),s=new nn(ge,K),X.postModify(s);break}}if(s==null)throw YT(e);return s}}class rR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t,e,n){let s=1,r=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function h(v){r=setTimeout(()=>{r=null,t(p,l())},v)}function f(){i&&clearTimeout(i)}function p(v,...w){if(c){f();return}if(v){f(),u.call(null,v,...w);return}if(l()||o){f(),u.call(null,v,...w);return}s<64&&(s*=2);let E;a===1?(a=2,E=0):E=(s+Math.random())*1e3,h(E)}let m=!1;function A(v){m||(m=!0,f(),!c&&(r!==null?(v||(a=2),clearTimeout(r),h(0)):v||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,A(!0)},n),A}function oR(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){return t!==void 0}function lR(t){return typeof t=="object"&&!Array.isArray(t)}function Ch(t){return typeof t=="string"||t instanceof String}function jp(t){return Sh()&&t instanceof Blob}function Sh(){return typeof Blob<"u"&&!g0()}function $p(t,e,n,s){if(s<e)throw Vu(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Vu(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function ky(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const r=e(s)+"="+e(t[s]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(or||(or={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||r||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,s,r,i,o,a,l,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new sa(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===or.NO_ERROR,l=i.getStatus();if(!a||cR(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===or.ABORT;s(!1,new sa(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;s(!0,new sa(c,i))})},n=(s,r)=>{const i=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());aR(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=Ih();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(r.canceled){const l=this.appDelete_?Sy():zT();o(l)}else{const l=GT();o(l)}};this.canceled_?n(!1,new sa(!1,null,!0)):this.backoffId_=iR(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sa{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function dR(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hR(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fR(t,e){e&&(t["X-Firebase-GMPID"]=e)}function pR(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mR(t,e,n,s,r,i,o=!0){const a=ky(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return fR(c,e),dR(c,n),hR(c,i),pR(c,s),new uR(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function AR(...t){const e=gR();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(Sh())return new Blob(t);throw new tt(et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vR(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){if(typeof atob>"u")throw nR("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qc{constructor(e,n){this.data=e,this.contentType=n||null}}function Ty(t,e){switch(t){case vn.RAW:return new qc(Ry(e));case vn.BASE64:case vn.BASE64URL:return new qc(xy(t,e));case vn.DATA_URL:return new qc(wR(e),bR(e))}throw Ih()}function Ry(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=s,o=t.charCodeAt(++n);s=65536|(i&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function _R(t){let e;try{e=decodeURIComponent(t)}catch{throw Fi(vn.DATA_URL,"Malformed data URL.")}return Ry(e)}function xy(t,e){switch(t){case vn.BASE64:{const r=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(r||i)throw Fi(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case vn.BASE64URL:{const r=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(r||i)throw Fi(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yR(e)}catch(r){throw r.message.includes("polyfill")?r:Fi(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}class Dy{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Fi(vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=ER(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function wR(t){const e=new Dy(t);return e.base64?xy(vn.BASE64,e.rest):_R(e.rest)}function bR(t){return new Dy(t).contentType}function ER(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n){let s=0,r="";jp(e)?(this.data_=e,s=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(jp(this.data_)){const s=this.data_,r=vR(s,e,n);return r===null?null:new vs(r)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new vs(s,!0)}}static getBlob(...e){if(Sh()){const n=e.map(s=>s instanceof vs?s.data_:s);return new vs(AR.apply(null,n))}else{const n=e.map(o=>Ch(o)?Ty(vn.RAW,o).data:o.data_);let s=0;n.forEach(o=>{s+=o.byteLength});const r=new Uint8Array(s);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[i++]=o[a]}),new vs(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t){let e;try{e=JSON.parse(t)}catch{return null}return lR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function CR(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function Ny(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t,e){return e}class $t{constructor(e,n,s,r){this.server=e,this.local=n||e,this.writable=!!s,this.xform=r||SR}}let ra=null;function kR(t){return!Ch(t)||t.length<2?t:Ny(t)}function Py(){if(ra)return ra;const t=[];t.push(new $t("bucket")),t.push(new $t("generation")),t.push(new $t("metageneration")),t.push(new $t("name","fullPath",!0));function e(i,o){return kR(o)}const n=new $t("name");n.xform=e,t.push(n);function s(i,o){return o!==void 0?Number(o):o}const r=new $t("size");return r.xform=s,t.push(r),t.push(new $t("timeCreated")),t.push(new $t("updated")),t.push(new $t("md5Hash",null,!0)),t.push(new $t("cacheControl",null,!0)),t.push(new $t("contentDisposition",null,!0)),t.push(new $t("contentEncoding",null,!0)),t.push(new $t("contentLanguage",null,!0)),t.push(new $t("contentType",null,!0)),t.push(new $t("metadata","customMetadata",!0)),ra=t,ra}function TR(t,e){function n(){const s=t.bucket,r=t.fullPath,i=new nn(s,r);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function RR(t,e,n){const s={};s.type="file";const r=n.length;for(let i=0;i<r;i++){const o=n[i];s[o.local]=o.xform(s,e[o.server])}return TR(s,t),s}function My(t,e,n){const s=Oy(e);return s===null?null:RR(t,s,n)}function xR(t,e,n,s){const r=Oy(e);if(r===null||!Ch(r.downloadTokens))return null;const i=r.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const u=t.bucket,h=t.fullPath,f="/b/"+o(u)+"/o/"+o(h),p=kh(f,n,s),m=ky({alt:"media",token:c});return p+m})[0]}function DR(t,e){const n={},s=e.length;for(let r=0;r<s;r++){const i=e[r];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Uy{constructor(e,n,s,r){this.url=e,this.method=n,this.handler=s,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t){if(!t)throw Ih()}function OR(t,e){function n(s,r){const i=My(t,r,e);return Ly(i!==null),i}return n}function NR(t,e){function n(s,r){const i=My(t,r,e);return Ly(i!==null),xR(i,r,t.host,t._protocol)}return n}function By(t){function e(n,s){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=QT():r=JT():n.getStatus()===402?r=KT(t.bucket):n.getStatus()===403?r=WT(t.path):r=s,r.status=n.getStatus(),r.serverResponse=s.serverResponse,r}return e}function PR(t){const e=By(t);function n(s,r){let i=e(s,r);return s.getStatus()===404&&(i=HT(t.path)),i.serverResponse=r.serverResponse,i}return n}function MR(t,e,n){const s=e.fullServerUrl(),r=kh(s,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Uy(r,i,NR(t,n),o);return a.errorHandler=PR(e),a}function UR(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function LR(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=UR(null,e)),s}function BR(t,e,n,s,r){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let E="";for(let R=0;R<2;R++)E=E+Math.random().toString().slice(2);return E}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=LR(e,s,r),u=DR(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=vs.getBlob(h,s,f);if(p===null)throw eR();const m={name:c.fullPath},A=kh(i,t.host,t._protocol),v="POST",w=t.maxUploadRetryTime,S=new Uy(A,v,OR(t,n),w);return S.urlParams=m,S.headers=o,S.body=p.uploadData(),S.errorHandler=By(e),S}class FR{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=or.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=or.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=or.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,r){if(this.sent_)throw _i("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _i("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _i("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _i("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _i("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class VR extends FR{initXhr(){this.xhr_.responseType="text"}}function Fy(){return new VR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){this._service=e,n instanceof nn?this._location=n:this._location=nn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pr(e,n)}get root(){const e=new nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ny(this._location.path)}get storage(){return this._service}get parent(){const e=IR(this._location.path);if(e===null)return null;const n=new nn(this._location.bucket,e);return new pr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sR(e)}}function jR(t,e,n){t._throwIfRoot("uploadBytes");const s=BR(t.storage,t._location,Py(),new vs(e,!0),n);return t.storage.makeRequestWithTokens(s,Fy).then(r=>({metadata:r,ref:t}))}function $R(t,e,n=vn.RAW,s){t._throwIfRoot("uploadString");const r=Ty(n,e),i=Object.assign({},s);return i.contentType==null&&r.contentType!=null&&(i.contentType=r.contentType),jR(t,r.data,i)}function qR(t){t._throwIfRoot("getDownloadURL");const e=MR(t.storage,t._location,Py());return t.storage.makeRequestWithTokens(e,Fy).then(n=>{if(n===null)throw tR();return n})}function HR(t,e){const n=CR(t._location.path,e),s=new nn(t._location.bucket,n);return new pr(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){return/^[A-Za-z]+:\/\//.test(t)}function JR(t,e){return new pr(t,e)}function Vy(t,e){if(t instanceof Th){const n=t;if(n._bucket==null)throw ZT();const s=new pr(n,n._bucket);return e!=null?Vy(s,e):s}else return e!==void 0?HR(t,e):t}function QR(t,e){if(e&&KR(e)){if(t instanceof Th)return JR(t,e);throw Vu("To use ref(service, url), the first argument must be a Storage instance.")}else return Vy(t,e)}function qp(t,e){const n=e==null?void 0:e[Cy];return n==null?null:nn.makeFromBucketSpec(n,t)}function WR(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=s;r&&(t._overrideAuthToken=typeof r=="string"?r:bg(r,t.app.options.projectId))}class Th{constructor(e,n,s,r,i){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Iy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$T,this._maxUploadRetryTime=qT,this._requests=new Set,r!=null?this._bucket=nn.makeFromBucketSpec(r,this._host):this._bucket=qp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nn.makeFromBucketSpec(this._url,e):this._bucket=qp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$p("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$p("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pr(this,e)}_makeRequest(e,n,s,r,i=!0){if(this._deleted)return new rR(Sy());{const o=mR(e,this._appId,s,r,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,r).getPromise()}}const Hp="@firebase/storage",Kp="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="storage";function GR(t,e,n,s){return t=qe(t),$R(t,e,n,s)}function zR(t){return t=qe(t),qR(t)}function $y(t,e){return t=qe(t),QR(t,e)}function YR(t=hd(),e){t=qe(t);const s=wl(t,jy).getImmediate({identifier:e}),r=_g("storage");return r&&XR(s,...r),s}function XR(t,e,n,s={}){WR(t,e,n,s)}function ZR(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Th(n,s,r,e,ri)}function ex(){cr(new Ts(jy,ZR,"PUBLIC").setMultipleInstances(!0)),Dn(Hp,Kp,""),Dn(Hp,Kp,"esm2017")}ex();const tx={apiKey:"AIzaSyAl5gyZFJjjtUe8Bp-DMT3d94fEaOVVIVs",authDomain:"doble-5-test.firebaseapp.com",projectId:"doble-5-test",storageBucket:"doble-5-test.appspot.com",messagingSenderId:"581763837770",appId:"1:581763837770:web:af5606b0c26f6a62681bb3"},Rh=Cg(tx),fe=Oo(Rh),mi=Eh(Rh),qy=YR(Rh);async function nx(t,e,n="data_url"){return GR($y(qy,t),e,n)}async function lc(t){return t==null?null:zR($y(qy,t))}function sx(t,{email:e,nombre:n,apellido:s,nacimiento:r,genero:i,barrio:o,telefono:a,terminos:l}){const c=De(fe,"users",t);return DS(c,{email:e,nombre:n,apellido:s,nacimiento:r,followers:[],following:[],genero:i,valoraciones:[],barrio:o,telefono:a,terminos:l})}async function rx(t,{displayName:e,nombre:n,apellido:s,email:r,nacimiento:i,followers:o,following:a,genero:l,barrio:c,telefono:u,photoURL:h}){return console.log("Valores recibidos en updateUser:",{displayName:e,nombre:n,apellido:s,email:r,nacimiento:i,followers:o,following:a,valoraciones,genero:l,barrio:c,telefono:u,photoURL:h}),Ft(De(fe,"users",t),{displayName:e,nombre:n,apellido:s,email:r,nacimiento:i,followers:o,following:a,genero:l,barrio:c,telefono:u,photoURL:h})}async function Bn(t){const e=De(fe,"users",t),n=await rn(e);if(!n.exists())throw new Error("[users.js getUserById] No existe el usuario con el id provisto");const s=n.data(),r=s!=null&&s.photoURL?await lc(s==null?void 0:s.photoURL):null;return{id:t,email:s.email,displayName:s.displayName,photoURL:r,nombre:s.nombre,apellido:s.apellido,nacimiento:s.nacimiento,genero:s.genero,valoraciones:s.valoraciones||[],barrio:s.barrio,telefono:s.telefono,followers:s.followers||[],following:s.following||[]}}async function ix(t,e){try{const n=De(fe,"users",t);await Ft(n,{valoraciones:Qa(e)}),console.log("Valoración agregada con éxito")}catch(n){throw console.error("Error al agregar la valoración:",n),n}}let Cs={id:null,email:null,displayName:null,photoURL:null,nombre:null,apellido:null,nacimiento:null,genero:null,valoraciones:null,comentario:null,barrio:null,telefono:null,terminos:!1,followers:[],following:[]},va=[];localStorage.getItem("user")&&(Cs=JSON.parse(localStorage.getItem("user")));fy(mi,async t=>{t?(Vi({id:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,nombre:t.nombre,apellido:t.apellido,nacimiento:t.nacimiento,genero:t.genero,valoraciones:t.valoraciones,barrio:t.barrio,telefono:t.telefono,followers:t.followers,following:t.following}),t.photoURL&&lc(t.photoURL).then(e=>{Vi({photoURL:e})}),Bn(t.uid).then(e=>{Vi({nombre:e.nombre,apellido:e.apellido,nacimiento:e.nacimiento,genero:e.genero,valoraciones:e.valoraciones,barrio:e.barrio,telefono:e.telefono,followers:e.followers,following:e.following})})):cx()});async function ox({email:t,password:e}){try{const s=(await Ek(mi,t,e)).user;return{id:s.uid,email:s.email}}catch(n){throw console.log("[auth.js login()] Error al autenticar el usuario",n),n}}async function ax({email:t,password:e,nombre:n,apellido:s,nacimiento:r,genero:i,valoraciones:o,barrio:a,telefono:l,terminos:c}){try{const h=(await bk(mi,t,e)).user;return await sx(h.uid,{email:h.email,nombre:n,apellido:s,nacimiento:r,genero:i,barrio:a,telefono:l,terminos:c,settings:{notifications:{chat:!0,comentario:!0,like:!0,seguir:!0}},email:h.email,nombre:n,apellido:s,nacimiento:r,genero:i,valoraciones:o,barrio:a,telefono:l,terminos:c}),{id:h.uid,email:h.email,nombre:n,apellido:s,nacimiento:r,genero:i,valoraciones:o,barrio:a,telefono:l,terminos:c}}catch(u){throw console.log("[auth.js register()] Error al registrar el usuario",u),u}}function lx(){return Tk(mi)}async function Hy(t,{displayName:e,nombre:n,apellido:s,email:r,nacimiento:i,followers:o,following:a,valoraciones:l,genero:c,barrio:u,telefono:h,photoURL:f}){const p=[];let m=Cs.photoURL;return f&&(m=Cs.id+"/avatar.jpg",p.push(nx(m,f))),p.push(Ck(mi.currentUser,{displayName:e,nombre:n,apellido:s,email:r,nacimiento:i,followers:o,following:a,valoraciones:l,genero:c,barrio:u,telefono:h,photoURL:m})),p.push(rx(t,{displayName:e,nombre:n,apellido:s,email:r,nacimiento:i,followers:o,following:a,valoraciones:l,genero:c,barrio:u,telefono:h,photoURL:m})),Promise.all(p).then(()=>{Vi({displayName:e,nombre:n,apellido:s,email:r,nacimiento:i,followers:o,following:a,valoraciones:l,genero:c,barrio:u,telefono:h,photoURL:m}),f&&lc(m).then(A=>Vi({photoURL:A}))})}function Vi(t){Cs={...Cs,...t},localStorage.setItem("user",JSON.stringify(Cs)),Jy()}function cx(){Cs={id:null,email:null,displayName:null,nombre:null,apellido:null,nacimiento:null,genero:null,valoraciones:null,barrio:null,telefono:null,followers:[],following:[]},localStorage.removeItem("user"),Jy()}function Ky(t){return va.push(t),Qy(t),()=>va=va.filter(e=>e!==t)}function Jy(){va.forEach(t=>Qy(t))}function Qy(t){t({...Cs})}async function ux(t){try{await wk(mi,t),console.log("Correo de restablecimiento enviado")}catch(e){return console.error("Error enviando el correo:",e.message),{success:!1,error:e.message}}}function ht(){const t=M({id:null,email:null,displayName:null,photoURL:null,nombre:null,apellido:null,nacimiento:null,genero:null,nivel:null,barrio:null,telefono:null,followers:null,following:null});let e=()=>{};return dt(()=>{e=Ky(n=>t.value=n)}),Un(()=>{e()}),{user:t}}const ho=M({message:"",type:"",title:"",closable:!0});function dx({message:t,type:e="success",title:n=""}){ho.value={...ho.value,message:t,type:e,title:n},setTimeout(()=>{Wy()},5e3)}function Wy(){ho.value={...ho.value,message:"",type:"",title:""}}function hx(){return{feedback:ho,setFeedbackMessage:dx,clearFeedbackMessage:Wy}}let cc;const Vo=M({title:"",bodyText:"",closeButtonText:"",saveButtonText:"",isVisible:!1});function fx(t){return Vo.value={...t,isVisible:!0},new Promise((e,n)=>{cc=e})}function px(){Vo.value.isVisible=!1,cc(!1)}function mx(){Vo.value.isVisible=!1,cc("closex")}function gx(){Vo.value.isVisible=!1,cc(!0)}function Ax(){return{modalData:Vo,showModal:fx,handleModalClose:px,handleModalCloseX:mx,handleModalSave:gx}}const me=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},vx={class:"d-flex justify-content-between align-items-center"},yx={class:"text-white"},_x={__name:"Notification",props:{data:{type:Object,required:!0,closable:!0}},emits:["close"],setup(t){const e=t,n=ue(()=>{switch(e.data.type){case"success":return"background-noti";case"error":return"bg-danger";default:return"bg-primary"}});return(s,r)=>t.data.message!==""?(C(),T("div",{key:0,class:Ue(["p-3 m-3 rounded",y(n)]),style:{"box-shadow":"0px 5px 10px rgba(0, 0, 0, 0.1)"}},[d("div",vx,[d("div",yx,F(t.data.message),1),t.data.closable?(C(),T("button",{key:0,type:"button",class:"px-3 btn text-white",onClick:r[0]||(r[0]=i=>s.$emit("close"))},"×")):xe("",!0)])],2)):xe("",!0)}},wx=me(_x,[["__scopeId","data-v-25b9a76b"]]),bx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAACXBIWXMAABcRAAAXEQHKJvM/AAACQElEQVR4nO3d0U0CQRRA0afxXzoQOrADtQM7EDvQCtQOpAPpwBKwA+0AO8AKMENmdIP44Yfuu+49ycbEaJS5gcyGfezeer0O5bZvn/yMBGAkACMBGAnASABGAjASgJEAjARgJAAjARgJwEgARgIwEoCRAA6++RfHEXEeEaM/eginmBX7XcvO8RgRq/LXtt8+L3FuI+Li/z1+nLeIuIqIhxZpVL9xM/SVSeisRSpPq8Ohr0ZS87ZxMFBeY3d3AC3S29AXIrFli1R2dXfGSulhewtednn3bsHTuNwVqSmxpj88mT3+w5Pf/+w5Pk9my9cvJ7NKyN0dgJEAjARgJAAjARgJwEgARgIwEoCRAIwEYCQAIwEYCcBIAEYCMBKAkQCMBGAkACMB7Io0rtfelcuJ1h69HM91ymWje0mX4y/5vJQBuxZpWp89Tlfkc90ieYVkXk9uHACMBNAiOfaS1+P27s6xl1xey7RK9+VuVXd5k4iY1R9QP8qr2ryOE61+Mvoyqr+k39U+cOOD80kA7u4AjARgJAAjARgJwEgARgIwEoCRAIwEYCQAIwEYCcBIAEYCMBKAkQCMBGAkACMBfHdrnqi3y/GWOf1Y1GNj19VCt3UExgmLfr3W6yAX3UjTGuhooIuS1aRFKk+tk6GvRlJz55Pycz6JwEj5rVqk2dBXIrH7FumqDpIpl9n2Fjw695c99TY7vVrUW/OUz3Nw9IXAjQOAkQCMBGAkACMBGAnASABGAjASgJEAjARgJAAjZRcR7ycO0On7Cw9lAAAAAElFTkSuQmCC",Ex="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAACXBIWXMAABcRAAAXEQHKJvM/AAAFZ0lEQVR4nO2d7XHaQBBAN5n8R6nApAJIBcYVhFRguYI4HZAKQiowrsC4gsgVBHWAO4AKlBHe8wgQ0u7pTtqT9s1o/AfJoKfT7X3tfciyDBTZfFQ/8lFJAaCSAkAlBcAnD18xAoBpCz99jAeHHQBsPH+vLR7OaCopFzIHgBmKmbj8coGT4gORAMAaHxArbEPwXEoMALdDN8HgGQBWKIwFV1JeWpYAcN3hjw2dV3zAE+rv4AQOCwD4p4IacwUAf7FERZSLUUpShBdUOe7ZY9VRGczUlaQIi6UK8sMI7++86upVJckI0oitHb5eKlFVJWmtgloludS+vNROWjR4xaXYmPPdaJSIaWDb3LsRhuhnosped1OM4ji8FNoA1o22njHHg9uW/IWF5J0ySZxAgR3zD5AxPsCc0vWl2LV0WifFjIulWOpUUDVbDLMfGedUlqQtNrbqSPEf66uNx4rx+vts7m+xJM2JgvYqyJoY+/AoxOYzRUn3xJOXKqgRS+LJZ5Jsw0bFHxPTt2ckVXZLnNDGgF6f4QxU5tWKlSRSz61yEY6kKVjOcbguvi8VFlNG3d9IUs6DimJj2pQjxolHdZINKoqOjSAwr8amU7pUVD0RNmK5gsC0W13Mu1tqxHcRJ2NyLiSNqsZCBoyzQVNXM1hV1DFOR7VdTjNWUW84n3bgei740EV5mRfiY8L+UEV5m7jDkcQZtBqaKBtBKfWDHEl5rH/H+PxQRNkIejSdpxS4rzsVdYytoJgzJmdTJ6moN5oIYmEbOAxdVGuCoGF0N1RRrQoCByH40ES1LggctZOGIqoTQeCwMdt3UZ0JAsc9Dn0V1akg8NAt1DdRnQsCT313fRElQhB4zIgSuigxgsBz2ppQRYkSBC3kFgpNlDhB0FICqFBEiRQELWbpki5KrCBoOZWaVFGiBUEH+e6kiRIvCDpKSihFVBCCoMPMkbaiOEt0qghGEHSc3tNG1JODGzXFRCBBCAIBOVi5ogAXCVDXnZ4yxxJEWcBt6FQQCEmUayPqB6YzoN68Gcp5Yq5u6FwQeEqUa8MKz3lgnHtVKFVrlHCaoHaGpcdmwqIIQSBIEliKAiwZt47zwYoRBALzgtu8+lwjShAITd6+wgR9+w7+90+JKxelZtjfYKhMni/dkPyBuGkQNXpF8jYIWxT1x/P/ecEFxGKzjYWwV8U9vv5eHF93j/Wf+GRWoWwossGbeYeJEJuwx+yM40JEKZrQdn1Z4c29wSiME1w8o+QIk/4Fk2lMUjuJQ1KoQ6ZYysxuMyb3UVL4G3R2y1AlFdn0PXOybnIVACopAFRSAKikAFBJAaCSAkAlBYBKCgCVFAAcSeQ0K4pbtCTJ5jA8o5K6g5zEXSV1B2Vu+2GKmpFEGVvROsktlHntB0lmk6sZ7iJcx2fdlscZO8Js2nxwMzElKSHOzOHss6BcJiZOdz4MVhbrJMp0pnvmriXKORHxXr/vWFaUtCbMGRhxNlZXSqFuifA+SaYoaYcC6phgMVRRfPIb/41w1mvRxWkIvjj/fCkTYRlMpBPhTacuKjieapZHdyfHIuOxyrJsXHIdPd6OOMuyHeOObk/vW9mOzRHOvuGshgOs6NZDmL1TwxjfMGZbbe6WPN9Pq50yScBoN7kiFdz+anPX0NJlN5ckAYbbv71/LcWQXqrjq/rulsytDxR70qput7oO1lhFead2H3lKL3gsYIlkX3mkLL2hDlWYJZJtrbzrO68YxZH2rOCMJ5klki7WCA0VszZqSuzdOVAV3dUxxyeB0s0xdEwb0mrRWhNJRWZ4jPGIfOzIFQCmvbfDN0+Cfxu1AV1JUjyicxwCQCUFgEoKAJUkHQD4Dz7PnMAwVrOgAAAAAElFTkSuQmCC",Ix="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAACXBIWXMAABcRAAAXEQHKJvM/AAADdklEQVR4nO3cv08TYQDG8acNqIQBuEQHEpWEVSIxbppY/gK6XdxY3RhucrGTickl4H8AE7lN/Qsw0UliSnRtBAcGTS5lIKgMNW+5a0p7P2os7ftwz2ci0IT33i/v3dsmvKVWq4U8XuAsA6gAmM19sQxqF0Ddd8Nm3utTI3mBY4KsA1gDcFdTf2m2AWz6blhP+wWJkbzAqQLYAjDDeNWkXgOoJa2svkhe4NQAvCj6jI3Jvnms9Ia6EMkLHHN72yjGfFirL1Q5/sILnIoCWeG+ue11D6SzkrzAOWDZIMzPLmH1wcu+75/9amHyRunC995+fo6j5pcRjm5oVnw3NDtATOA8ENUOburaDBZvPhr4taTWo21653ZXZb2SK2zVC5wFdEVaLfqMWMrsE1COPk0QO3VWkj7qsVd7AZVJB18U7QWkSAQUiYAiEVAkAopEQJEIKBIBRSKgSAQUiYAiEVAkAopEQJEIKBIBRSKgSAQUiYAiEVAkAopEQJEIKBIBRSKgSAQUiYAiEVAkAopEQJEIKBIBRSKgSAQUicBE1hCnJmcwP7c08FWc/jlmPdjCapmRTKBnK++oLzBr/EfNrzg9Ox7peLKknd6SGcmZvjOGoY7O/Ow9q8aTdnpL5jNpbvr2ZY1H/oE2DgQUiUBmpN8n+YfoyvCYo+CSZEa6Pl0a5hgkR+9ZfTHd7ggoEgFFIpD5Znbv2w4aPz4OfBXmze8o3luZ3/Nw4elAr9072EF48j3xZ4u3Hg95ZP/HfKyWJDOSubi0C0zSGNHFmMkdNNKn9h/ah5SfvhrquC6LbncEFImAIhFQJAKKRECRCCgSAUUioEgEFImAIhFQJAKKRECRCCgSAUUioEgEFImAIhFQJAKKRECRCCgSAUUioEgEFImAIhFQJAKKRECRCCgSAUUioEgEFMluu4gi1Ys+ExZrmqGVfTc0X+wXfTYs1VlJxlbRZ8NCh74btu9y8X+fm0g1AMkHrlnG/Ct942f/0QXmbJ7eo1/S/u2eQC0eYqnVOj90yAucdQAb5H99V8W+74bL8bV0dne+G24CeF/02bGAWfpr3cPo3YJXtYkYKxOoEj+LYhciRTu9CoDtIs2MJQ6TAqH7mdTLC5xK9PB6UrjpGi2zesyjZjNaJH1SI8W8wFmOboOVqzY7Y2ZWzK7vhm/yhpEbScYMwF86l8W7AmJg8gAAAABJRU5ErkJggg==",Cx="data:image/png;base64,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",Sx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAACXBIWXMAABcRAAAXEQHKJvM/AAAGr0lEQVR4nO1d3ZHjNgzGZfJupQIrFaxTwToVxFdBtBWcr4J4K4hTwckVbLaC2BVkVcHZFZxcATPaAWc4l70T+AeAsr4Zz77Ia4ofAQIgAL4zxkChWAPAFgAqwvDPALAHgJcSX7U0kmoA2CA5y4DvnwCgBYC/AaDPML4sKIUkKzW/JfyfBwDYoZSphnaSBnKGibzP+BvqyfpBwRjeQoV7yD+ZCRrwOwB8RqJUQqMkrXDPCNlzYtHhnqdKqrRJUgMA/woRNOAOLcC10O+/CU0kDermk4JxLFDNNgrG8oofFYwBcP/5oGAcLuyCaaUHomFPaiIl6IQqqnf+1s5nhWosFL8CwDHNq4ZBmqQ1qhZf+DqlMU7wFYkWMyYkSarwxRce3+lwomNWdoP7nw9ZHRIlAknDofUk6CNOVKzqafH/HDy+cyfpR0lJko+au+LzOYKjPvuhmNqTkqQ98bmcBAFK1QPx2YWUNElI0rCBPxGf5bKshn3uT+KzP3NLk4QkbYnPPTKavoNkPxOfZZcmbkmqMZg5BglrimptXokHjcnALUnUUAtV2lKiJ+6VC1TZbOAmifJynaCHv0dJGcNkSaqI4Rmq5ZcDPUYxxsAaJeckibrHUCYpJyi/v+TclzhJoqy+TkGCCHWRsBk22g79tKRcnQjP1AzjeIU2dac+c8fBJEli9S0iIXp+9DVmdVcAtJEkdmbzFVRJPSdJqlTICLQsllfMkvQ2KJLEtug4SaLsNxpIokZG2Pw5bSQtFRBFjcuxGTmcJA0+0IXwHGvwMvD3Kc5uMnDvSRQ9Lpk5WhPLa1jji9wkUYOXEudJ4HHqykqSRI5DTzz9rJmDrSssFhgD+6mxhAlOya1eMOdgVx6/x37eJSFJ1DwHwIRIjklpsZhsDBISLiJJZ4/s0SHNKrchQSUIcMGwn3dJZbD65oE/ZkilsiWfVIIunMcTLqTCQr3npP+B5nuqSbI55VSCQNQ1GCRJ8HM0fuiNMTtjTBU45toY03r+psHviM2TdH1SSPmLxQH9lePIPlFjfsUmsA9Eh98Xy73QUOlnVU8IURY2geWMnxUugDqySFq8gAwUtQiILcnMgdwVHWRoOU+yJSiU7FEOqCEIFDbbSKH6YtGhZKvJt9CYiFJzHwU4OGiSIAuNvYV6nKiPjOpvcFTfowSpa7GmvUvXYKHtMjbiuGLUQSTcQ0Up/e4qPGNqEvUd6pCYIpoTltjec4WO6dqjzdoV9xnr/BaVhFlyD1aL2onpuZUb9qj+XFiO+f8wBZImD62dI2c4mEkqADNJBWAmqQDMJBWAqZFUFVZRSMIUSFphNGJwVL8oyCVPjhL9pNqJOKyJ2bAvjlN7dHq1FoESSKqcHIV1wp7htj1Oqz1MpJmkJiJ5xBcXJKvVGELSRlLtRLulTmefMUKupsZXC0k1nhv5JCvmxgkXjLgq1JB3t8UMVa044BhvMu9uE9B2WgpXVMEiHcQk/KQKX/apEIIAx/mEi4rdWeaWpFx3I12+Y5WtEi8G9juWOElKlaV6QcvLOqXUjX3tfGJvN+NNnmSqDNgFVDK4OBtj9saYVaLxDFUZjTHmJWJMQ4XHhmP+OAgKKTWxGEpjck/EOqAEx0VTOkmhBB1x8jgWUSxZfUIJZyepCXzh7Ctz5LPFcaghKpfh4HMfhcWzojTfGq1QnxvMLmhJJh9/Dj+pDujB8IjEajk+OAfcsbTM1nsig3j66nVp9Tb28bVMt9rVnc8VN6oKtUYgehlWSpJqnHCqd/9eQTd9H/hcs3pKeVVCyj1p50HQQ2EEAWoJ6h51nzLXIpUk+fQL+kuwVVosKgxHUay+ZB1UUkkStbtJVzBBgNZnQ6xAXKbqopJCknyk6JeJNGinGkhJpCmFJPnc0TeVDvp71ApjSCJNKSTpTDgfEukTlxnUu3KjLb1YSdoQD/BUFw4H4khsZXAfq/JiSaKskKvwFXA5QTWYoszxFJI0hnaCUmRxJPY6j9qXYkiidsDibHgrAYqWuItJYIkhiaLqLjdwJxI1chJsPMSQROmNXVroJwRnojk+kyQMynsGN3yP8ZMoX/xpwkaDC4rPFHxnes4MVg13xnKB8p7BCZqhJFH0a9GtYjzhk6DpjZySNN90mQihJIl0mlcOyvFFkPGQk6RbkyTK+7IaDpT95pb2JCCSFGRIhZrgYwd9weZmwRi7JCs4eTJGkr6XlHErTqyLF8zf+BaCkz9jnNlv3TOh4uoAQbx1H9NDTKA59mR25ZTT244jRXUbyYTGOWvaxZ4EzO09tQMA/gM5wM2pzSFHSQAAAABJRU5ErkJggg==",Gy="data:image/png;base64,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",zy="data:image/png;base64,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",Yy="data:image/png;base64,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",Xy="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAACXBIWXMAABcRAAAXEQHKJvM/AAAIiElEQVR4nO1d7W0TSxS9IP4HKoipACPN/4QKCBWQVPBCBTgV4FSAUwFJBcT/RyKu4NkdsBXwNNFZ3mJs77kzd3Y9WR8pQkJrZzJn7p37vc9+/folB/wJ59yZiFwqt+VeRKbe+5/W23kgqQHn3EsRmYnI+8ivWAVyvfe3lus6kARAegJBRwZfdyci51ZSNXiSID0TEfnH+KsrETnz3t+nftGgSXLOjUQkqKY3GX/NJ+/9NOULBkuSc26My95CvbXhxnt/Hvvh5x0scO/QMUEBH51zs9gPD46khgXXFUE1AlGTmA8OUZKmme+gXfgMK1KFQZHknDsNJ1r5seD7XIvIOxF55b1/JiKvReQD/r9Sft8M0kxjUIaDc24pIsfk4xUc0513CTb8Ej+sCr323tMRjcGQ5JwL1tVX8vGFiJxqnFEYI7eKQ/Dae79kHhySumNN4Ln3fqyNFnjvH0RkrFB/tEk+CJLgtJ4Qj4b7R32x1wCx7OcPJK2B3rjUeBvCQDfEo8dQka0YCkmnxDNzizgbwPpDzLoGQ9KIeCYpvtYEDIIF8Shlir+wWpgGuCNGWGQt8kHNhMv3Jy5hSzDOq5UU1WACt5QkdUYSPO0zLGynmeqcC//M8YfesqZqAlYZMqpma85KUqSjV+MEP1+cc3dITVuf9ho5DoHZd2a7kyA5YaGfDYKZIZ39PUSStSGVHkFZbgzMSQqb6JwLaupbhkhziLstEYOzBONDaWF2mExJwim/TyjkYHAEqdIk0VqjAKzPogBzkCj1bUZSg6Cu0gBfFUQx1mJ05nQd2AtGOiljxYSkHgiqwRLFnNhzw/uOjXB0Kkl9JtKmhKpi6uCOkLFNQqP6qA0r1h9MJglWnDaRJvCDrvBzgX+vSU+9iaO2aAE2Y0V813vlXbcJUzJdQRdQWvhJmnBKhVM22+U8wnqbKKyuk7C5LQm6GdyBNgQVKm3Jvi3rnikOLL1vSUk/ZSJtjmJBTSItOMFfyMeD+tgao4MaWircghtkZlvXC3U7VRwqVYlXKklsOvrOex+Vp1EehItdEoBqHUaaalSQwNn6/QFixrAKtX4WnZWVFJKwyB/Eo+EuUGc6134XK1Gth8E595Bg5KzgpKY46Vfee1VpV4rhwIqrRSJtCnXZBsaJPo+o8KlxnEjQXEuQJJLEeOiLrhNpbSEjqC0zx1WBRWxqPoUkRg8n+x01QDZjnreGY9A/dGG1NgKrFI0SRZLCMzdtpiK/j1obDIwPCaqPxQJ3cnQiM1aSGFVXZUjWMaqTDpRCok4jHGgW19r6vU3ImfSzToFnQV0vB/M8Jjm5CQv4WCb38SBbXzYBVtcI4SkmhLQJc/hqY8ssck5JypFBZap+olUL1FIgawIr8Qzqc5uRtILGuM9Zi5HizDIffGVZ4EHGxtTOouL3j3H4HnKMAtiGFEmqCP19ZmmGk35GtsqiDKVmFFLuJCqRZrVQxPCYSz1XRVFvyE3SCeJuSVAm0nLX6HWOFJJYNTYxKPKYWSfSSkI0Sbg474hHg4q6jyUKxgJbfWRWz71PSPWT2E0JRP3QdF8HUpFWYDOdN09R1YlFOyYKITV1diuQu9GvaNSMa+smVIm0kmBB0ggOXUw4pWqEj14mJONMfaNGumO05kBvirAvG2Z/3RmytDwwJo3NyhS3NULOKskwadQojA1LoytYwMnRCLPuc2WljBXCRoxSvX9IzvfMa1006iVU6zULsKL6hekVtUJlkQboEG9QpxEaDiaaalnTKHiHRK1AUBHpkDUcoWLpge0OMU9VgKhP1t/bwDw107knOEZ3SKvBkyWfhOqet2SFD4sKA/5KUnEMPreNWcuW9AsnPWwo6ghSyKqQiBulTmDcgSXUdK40eht2zsPrbLYQzNxz+Bpt/lCFONx9TE12KnBX1D7SuNEln3tG3sZRoL0NgGpcmvUm1FF1U0fQGlh3TVpNpGU759v1+3bw04yt0KgNr8cgxErdX875gaRMaEzpj5GyPxoPDiRlRkSvlay38RxI6ggRbTcf6tcpHOruOgKi9Bon/3d9yEGSOoYy//ZYEneQpO6h6Y96dFPMK1gbBYTrCTNpJMWSkHEQVHYEyXDOTcn7KZB0m0wSTM1TMpJgAoxaE4SblnVyraD0OUvSo78UdSchZX4J0e36dQK7sMDItc5DSVqwd1MYFq8iCeRMesjAalGBrCw14RZQlBy8pklCJepkzySnDXUb5N7dYTjw/xKPvmslCWne20wz4bpCtk6LFJBzMC52muCN9wyVTJAwibWewFi6o60kNQjqa/qWNZJeNJUJ8VO6GvPrSrp/GOwbURRJf/lJBgTN16o6m9jk4O5CjmxoIKqXjO8GULUafxkO8IY1r/PcOiTJEo2B76NGco19Dc6mNY/3wfkl2lqv/pAk5D40BIU5BZMuqnewoc1NvUxwqo/gTvQxvmYdrW2tvyUJau6BPJ1mL7q1AMiaRVih7/r+G4LqbVn3VdNwuFSoj9N9chCDlKF8TFs9uw+S1KqFHklqvK6Awad9rR5F9aymdu7jHkzsb93LWpLYcS2LjAWKVjhTDnXqW5raJUkpRXvfkwoDQ7NO61cqaNEmSQ/PFb5IVUIKQP6vJ2ClKecrGxi0SZIqfV5aNpSWpgzvqaBB3O9PmiSN1GuiIDmw1dgJJGpIKqofSPFePbF811EkdkY+nixJQBF36I69fWwZogtRCm3cuiXnifftK013dZWwJFl27HWG8Mc651ZEJKVXdQcB2HrnD6E4svTeWpqkksfBFD//bggkDUaSikXJJck1hlKw31dXuQmGQlLRKo8lqXS9XvQcPJak0ieQFH0vHdRdARgESfDoY98/0TuG1I5ZrDQdSCoAQyKpWONhKCZ40ZEHiqQnNASwyJTLC/hARS5eC1S5FofDRJR9h4j8B4TYkc54Ghu6AAAAAElFTkSuQmCC",kx="data:image/png;base64,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",Tx="data:image/png;base64,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",Rx="data:image/png;base64,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",xx="data:image/png;base64,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",Dx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAACXBIWXMAABcRAAAXEQHKJvM/AAAExUlEQVR4nO2d7VEbMRCGl0z+kw5wKkgys/8hFcRUgF1BnApCKgipAOiAVBDzf2cCHUAHcQXOyLM2/jif7k4rnYzeZ4ZhYOCQ/aCvlbQ6ms/nBPLmrUXpmHlARAP98kFE/sG7Ha1rEjN/JKIREbnPpxHK9OxEE9GUiG4gvIUkZnZiLonoJHqpXpgR0UREbhL+zezwSmLmM/cfnVjONuOSRdVK0tpznbRE+3kvIk+ZlCUpb/b9scwEkfaDRVIpKUNBjrMMytALO5J0OH1Vxss/DKpqkuugjzMsfbFD8Q1JzDyMNPexYJppuaKzXZMuMy3nTGt4kawk6XzoQ6ZvwqjkyMN6Tcpx9PRIRJ9E5C6DsvSGSYBVm6OHiu9X9W8uNueblLr+505Eqp5ZHBaSig7ZpGBvxKEhtxAUn1BJRcbSUgNJB0CopEGDnwGBWI3uikFXpt+l3CYASQ1gZidloh+ruCYz3+vKcdSpQmhz9+pRQW7e9r0i8OzmgX91aScakFTDmiBfuOw6pihIqmfSIp4ZTRQk1dP2TY8iCpLq6bJDyokyXdmGpDh8ZWazcBkkxePCShQk1fM78PdNREFSPRZ9S7AoSKpBRNwc6ZfBo4JEQZIHEXFzpVuDR3UWBUkNEJFRn6IgqSF9ioKkFvQlCpJa0ocoSOqAsShvrA+SOmIoyhuUhaQAjEXt3UEMSYEYirrT/RM7QJIBRqLc0vxUV4M3gCQjDEXtHE6AJEOMRJ0y88Y5MUiyZ6JHdkKYrDd7kGSMbpgc6nGgrhyr7AVJN0du5SUi/ZzjIeocWKYJSiNJ5VxlfGg6R07c3MmtaUVv7jQvxBSCOrGY4Kboky7RpHVm0S1ElaQjlIuoL+N1sxjhxa5JlWEO0O79wxA8bxbdBCTljUunEF0S8jCEsTiTHFWSzr7v47+WV0t8ScokMERSMouWKLokPU96tmxfQSumSSQtRYmIizycaygfTaCf5+WB6aQBVs22VUTGLWZ2r/NLwCNW270wBI+A7v4JETRbP9EBScYYZYK+Wk/kAUmGGAl63j4XBUlGGOZS30llCkkGGAoa68G1DSApEE0HYCFob4JHJIAKQE9FWKyX3ep2sEpQkzqSShBBUjdSCiJIak9qQQRJ7TAU9Li++dEHJDXEWNBZm9SgkNSAPgURJPlh5kmfggiS6tHdtz8NHtVZEEGSF4v7pIIEESR5Cb2uKFgQISzkJeQC5MbzIB+oSXEwE0SQ5KVL5khTQQRJXtpumjEXRJBUj67vNK1NUQQRJDVi1GCf4K9YggiS/Ljhs4i4ofi44ui/q2WfNQVoNEKH4MXc/apNXy/3F4bWJBxtSUCopJ1kRcCeUEk4E5sAXLx4AIRKuqjLeAhssAiw/mHmR+OR3lRvnyz6YvolVlHwpleqNWWR4oaZ3eb1YekX1a83dzt7kDPALRVM9+UmLYWVJN0onuO51sqUlyWxPXCwWC6OgUsrNoSkl9BHroeOix1FVg3BR5nmXSi2X9qRJCJPbbbAgvhUTma12Rtn9v7nOPpMwt6IQ4aielkmyIHasJCKOs+gj/qmzXCReGN3GpoZGF2a0YUfImJ6TfWhcTSfzxsXWYOpo0R5VWd6XL74+F0rSaAfsBEld4joP9tBqM6eBfHaAAAAAElFTkSuQmCC",Zy="/assets/logo-original-7cf59a76.png",Ox="data:image/png;base64,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";const Nx={class:"image-wrapper"},Px=["src","alt"],Mx={__name:"Image",props:{src:{required:!0},alt:{type:String,default:""}},setup(t){const e=t,n=ue(()=>e.src!==null&&e.src!==""?e.src:Ox);return(s,r)=>(C(),T("div",Nx,[d("img",{class:"foto-perfil",src:y(n),alt:t.alt},null,8,Px)]))}},on=me(Mx,[["__scopeId","data-v-a57ced4c"]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const xr=typeof window<"u";function Ux(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Pe=Object.assign;function Hc(t,e){const n={};for(const s in e){const r=e[s];n[s]=bn(r)?r.map(t):t(r)}return n}const ji=()=>{},bn=Array.isArray,Lx=/\/$/,Bx=t=>t.replace(Lx,"");function Kc(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=$x(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function Fx(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Jp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Vx(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Zr(e.matched[s],n.matched[r])&&e_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Zr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function e_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!jx(t[n],e[n]))return!1;return!0}function jx(t,e){return bn(t)?Qp(t,e):bn(e)?Qp(e,t):t===e}function Qp(t,e){return bn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function $x(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let r=n.length-1,i,o;for(i=0;i<s.length;i++)if(o=s[i],o!==".")if(o==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var fo;(function(t){t.pop="pop",t.push="push"})(fo||(fo={}));var $i;(function(t){t.back="back",t.forward="forward",t.unknown=""})($i||($i={}));function qx(t){if(!t)if(xr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Bx(t)}const Hx=/^[^#]+#/;function Kx(t,e){return t.replace(Hx,"#")+e}function Jx(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const uc=()=>({left:window.pageXOffset,top:window.pageYOffset});function Qx(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=Jx(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Wp(t,e){return(history.state?history.state.position-e:-1)+t}const ju=new Map;function Wx(t,e){ju.set(t,e)}function Gx(t){const e=ju.get(t);return ju.delete(t),e}let zx=()=>location.protocol+"//"+location.host;function t_(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Jp(l,"")}return Jp(n,t)+s+r}function Yx(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const p=t_(t,location),m=n.value,A=e.value;let v=0;if(f){if(n.value=p,e.value=f,o&&o===m){o=null;return}v=A?f.position-A.position:0}else s(p);r.forEach(w=>{w(n.value,m,{delta:v,type:fo.pop,direction:v?v>0?$i.forward:$i.back:$i.unknown})})};function l(){o=n.value}function c(f){r.push(f);const p=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return i.push(p),p}function u(){const{history:f}=window;f.state&&f.replaceState(Pe({},f.state,{scroll:uc()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:h}}function Gp(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?uc():null}}function Xx(t){const{history:e,location:n}=window,s={value:t_(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:zx()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(p){console.error(p),n[u?"replace":"assign"](f)}}function o(l,c){const u=Pe({},e.state,Gp(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),s.value=l}function a(l,c){const u=Pe({},r.value,e.state,{forward:l,scroll:uc()});i(u.current,u,!0);const h=Pe({},Gp(s.value,l,null),{position:u.position+1},c);i(l,h,!1),s.value=l}return{location:s,state:r,push:a,replace:o}}function Zx(t){t=qx(t);const e=Xx(t),n=Yx(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Pe({location:"",base:t,go:s,createHref:Kx.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function eD(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Zx(t)}function tD(t){return typeof t=="string"||t&&typeof t=="object"}function n_(t){return typeof t=="string"||typeof t=="symbol"}const cs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},s_=Symbol("");var zp;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(zp||(zp={}));function ei(t,e){return Pe(new Error,{type:t,[s_]:!0},e)}function jn(t,e){return t instanceof Error&&s_ in t&&(e==null||!!(t.type&e))}const Yp="[^/]+?",nD={sensitive:!1,strict:!1,start:!0,end:!0},sD=/[.+*?^${}()[\]/\\]/g;function rD(t,e){const n=Pe({},nD,e),s=[];let r=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace(sD,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:A,optional:v,regexp:w}=f;i.push({name:m,repeatable:A,optional:v});const S=w||Yp;if(S!==Yp){p+=10;try{new RegExp(`(${S})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${m}" (${S}): `+R.message)}}let E=A?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;h||(E=v&&c.length<2?`(?:/${E})`:"/"+E),v&&(E+="?"),r+=E,p+=20,v&&(p+=-8),A&&(p+=-20),S===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",m=i[f-1];h[m.name]=p&&m.repeatable?p.split("/"):p}return h}function l(c){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:m,repeatable:A,optional:v}=p,w=m in c?c[m]:"";if(bn(w)&&!A)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const S=bn(w)?w.join("/"):w;if(!S)if(v)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=S}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function iD(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function oD(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=iD(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(Xp(s))return 1;if(Xp(r))return-1}return r.length-s.length}function Xp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const aD={type:0,value:""},lD=/[a-zA-Z0-9_]/;function cD(t){if(!t)return[[]];if(t==="/")return[[aD]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=s;break;case 1:l==="("?n=2:lD.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function uD(t,e,n){const s=rD(cD(t.path),n),r=Pe(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function dD(t,e){const n=[],s=new Map;e=tm({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,f){const p=!f,m=hD(u);m.aliasOf=f&&f.record;const A=tm(e,u),v=[m];if("alias"in u){const E=typeof u.alias=="string"?[u.alias]:u.alias;for(const R of E)v.push(Pe({},m,{components:f?f.record.components:m.components,path:R,aliasOf:f?f.record:m}))}let w,S;for(const E of v){const{path:R}=E;if(h&&R[0]!=="/"){const X=h.record.path,oe=X[X.length-1]==="/"?"":"/";E.path=h.record.path+(R&&oe+R)}if(w=uD(E,h,A),f?f.alias.push(w):(S=S||w,S!==w&&S.alias.push(w),p&&u.name&&!em(w)&&o(u.name)),m.children){const X=m.children;for(let oe=0;oe<X.length;oe++)i(X[oe],w,f&&f.children[oe])}f=f||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&l(w)}return S?()=>{o(S)}:ji}function o(u){if(n_(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&oD(u,n[h])>=0&&(u.record.path!==n[h].record.path||!r_(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!em(u)&&s.set(u.record.name,u)}function c(u,h){let f,p={},m,A;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw ei(1,{location:u});A=f.record.name,p=Pe(Zp(h.params,f.keys.filter(S=>!S.optional).map(S=>S.name)),u.params&&Zp(u.params,f.keys.map(S=>S.name))),m=f.stringify(p)}else if("path"in u)m=u.path,f=n.find(S=>S.re.test(m)),f&&(p=f.parse(m),A=f.record.name);else{if(f=h.name?s.get(h.name):n.find(S=>S.re.test(h.path)),!f)throw ei(1,{location:u,currentLocation:h});A=f.record.name,p=Pe({},h.params,u.params),m=f.stringify(p)}const v=[];let w=f;for(;w;)v.unshift(w.record),w=w.parent;return{name:A,path:m,params:p,matched:v,meta:pD(v)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function Zp(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function hD(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:fD(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function fD(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function em(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function pD(t){return t.reduce((e,n)=>Pe(e,n.meta),{})}function tm(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function r_(t,e){return e.children.some(n=>n===t||r_(t,n))}const i_=/#/g,mD=/&/g,gD=/\//g,AD=/=/g,vD=/\?/g,o_=/\+/g,yD=/%5B/g,_D=/%5D/g,a_=/%5E/g,wD=/%60/g,l_=/%7B/g,bD=/%7C/g,c_=/%7D/g,ED=/%20/g;function xh(t){return encodeURI(""+t).replace(bD,"|").replace(yD,"[").replace(_D,"]")}function ID(t){return xh(t).replace(l_,"{").replace(c_,"}").replace(a_,"^")}function $u(t){return xh(t).replace(o_,"%2B").replace(ED,"+").replace(i_,"%23").replace(mD,"%26").replace(wD,"`").replace(l_,"{").replace(c_,"}").replace(a_,"^")}function CD(t){return $u(t).replace(AD,"%3D")}function SD(t){return xh(t).replace(i_,"%23").replace(vD,"%3F")}function kD(t){return t==null?"":SD(t).replace(gD,"%2F")}function Xa(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function TD(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(o_," "),o=i.indexOf("="),a=Xa(o<0?i:i.slice(0,o)),l=o<0?null:Xa(i.slice(o+1));if(a in e){let c=e[a];bn(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function nm(t){let e="";for(let n in t){const s=t[n];if(n=CD(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(bn(s)?s.map(i=>i&&$u(i)):[s&&$u(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function RD(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=bn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const xD=Symbol(""),sm=Symbol(""),dc=Symbol(""),Dh=Symbol(""),qu=Symbol("");function wi(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function hs(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(ei(4,{from:n,to:e})):h instanceof Error?a(h):tD(h)?a(ei(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},c=t.call(s&&s.instances[r],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function Jc(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(DD(a)){const c=(a.__vccOpts||a)[e];c&&r.push(hs(c,n,s,i,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=Ux(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&hs(f,n,s,i,o)()}))}}return r}function DD(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function rm(t){const e=Xe(dc),n=Xe(Dh),s=ue(()=>e.resolve(y(t.to))),r=ue(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Zr.bind(null,u));if(f>-1)return f;const p=im(l[c-2]);return c>1&&im(u)===p&&h[h.length-1].path!==p?h.findIndex(Zr.bind(null,l[c-2])):f}),i=ue(()=>r.value>-1&&PD(n.params,s.value.params)),o=ue(()=>r.value>-1&&r.value===n.matched.length-1&&e_(n.params,s.value.params));function a(l={}){return ND(l)?e[y(t.replace)?"replace":"push"](y(t.to)).catch(ji):Promise.resolve()}return{route:s,href:ue(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const OD=Xm({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:rm,setup(t,{slots:e}){const n=Ns(rm(t)),{options:s}=Xe(dc),r=ue(()=>({[om(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[om(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:mg("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),u_=OD;function ND(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function PD(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!bn(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function im(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const om=(t,e,n)=>t??e??n,MD=Xm({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Xe(qu),r=ue(()=>t.route||s.value),i=Xe(sm,0),o=ue(()=>{let c=y(i);const{matched:u}=r.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=ue(()=>r.value.matched[o.value]);ws(sm,ue(()=>o.value+1)),ws(xD,a),ws(qu,r);const l=M();return ct(()=>[l.value,a.value,t.name],([c,u,h],[f,p,m])=>{u&&(u.instances[h]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Zr(u,p)||!f)&&(u.enterCallbacks[h]||[]).forEach(A=>A(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return am(n.default,{Component:f,route:c});const p=h.props[u],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,v=mg(f,Pe({},m,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return am(n.default,{Component:v,route:c})||v}}});function am(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const UD=MD;function LD(t){const e=dD(t.routes,t),n=t.parseQuery||TD,s=t.stringifyQuery||nm,r=t.history,i=wi(),o=wi(),a=wi(),l=Cw(cs);let c=cs;xr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Hc.bind(null,D=>""+D),h=Hc.bind(null,kD),f=Hc.bind(null,Xa);function p(D,q){let V,z;return n_(D)?(V=e.getRecordMatcher(D),z=q):z=D,e.addRoute(z,V)}function m(D){const q=e.getRecordMatcher(D);q&&e.removeRoute(q)}function A(){return e.getRoutes().map(D=>D.record)}function v(D){return!!e.getRecordMatcher(D)}function w(D,q){if(q=Pe({},q||l.value),typeof D=="string"){const g=Kc(n,D,q.path),_=e.resolve({path:g.path},q),I=r.createHref(g.fullPath);return Pe(g,_,{params:f(_.params),hash:Xa(g.hash),redirectedFrom:void 0,href:I})}let V;if("path"in D)V=Pe({},D,{path:Kc(n,D.path,q.path).path});else{const g=Pe({},D.params);for(const _ in g)g[_]==null&&delete g[_];V=Pe({},D,{params:h(D.params)}),q.params=h(q.params)}const z=e.resolve(V,q),Ee=D.hash||"";z.params=u(f(z.params));const We=Fx(s,Pe({},D,{hash:ID(Ee),path:z.path})),Ae=r.createHref(We);return Pe({fullPath:We,hash:Ee,query:s===nm?RD(D.query):D.query||{}},z,{redirectedFrom:void 0,href:Ae})}function S(D){return typeof D=="string"?Kc(n,D,l.value.path):Pe({},D)}function E(D,q){if(c!==D)return ei(8,{from:q,to:D})}function R(D){return ge(D)}function X(D){return R(Pe(S(D),{replace:!0}))}function oe(D){const q=D.matched[D.matched.length-1];if(q&&q.redirect){const{redirect:V}=q;let z=typeof V=="function"?V(D):V;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=S(z):{path:z},z.params={}),Pe({query:D.query,hash:D.hash,params:"path"in z?{}:D.params},z)}}function ge(D,q){const V=c=w(D),z=l.value,Ee=D.state,We=D.force,Ae=D.replace===!0,g=oe(V);if(g)return ge(Pe(S(g),{state:typeof g=="object"?Pe({},Ee,g.state):Ee,force:We,replace:Ae}),q||V);const _=V;_.redirectedFrom=q;let I;return!We&&Vx(s,z,V)&&(I=ei(16,{to:_,from:z}),Oe(z,z,!0,!1)),(I?Promise.resolve(I):ve(_,z)).catch(k=>jn(k)?jn(k,2)?k:Zt(k):be(k,_,z)).then(k=>{if(k){if(jn(k,2))return ge(Pe({replace:Ae},S(k.to),{state:typeof k.to=="object"?Pe({},Ee,k.to.state):Ee,force:We}),q||_)}else k=Le(_,z,!0,Ae,Ee);return ae(_,z,k),k})}function K(D,q){const V=E(D,q);return V?Promise.reject(V):Promise.resolve()}function ve(D,q){let V;const[z,Ee,We]=BD(D,q);V=Jc(z.reverse(),"beforeRouteLeave",D,q);for(const g of z)g.leaveGuards.forEach(_=>{V.push(hs(_,D,q))});const Ae=K.bind(null,D,q);return V.push(Ae),Sr(V).then(()=>{V=[];for(const g of i.list())V.push(hs(g,D,q));return V.push(Ae),Sr(V)}).then(()=>{V=Jc(Ee,"beforeRouteUpdate",D,q);for(const g of Ee)g.updateGuards.forEach(_=>{V.push(hs(_,D,q))});return V.push(Ae),Sr(V)}).then(()=>{V=[];for(const g of D.matched)if(g.beforeEnter&&!q.matched.includes(g))if(bn(g.beforeEnter))for(const _ of g.beforeEnter)V.push(hs(_,D,q));else V.push(hs(g.beforeEnter,D,q));return V.push(Ae),Sr(V)}).then(()=>(D.matched.forEach(g=>g.enterCallbacks={}),V=Jc(We,"beforeRouteEnter",D,q),V.push(Ae),Sr(V))).then(()=>{V=[];for(const g of o.list())V.push(hs(g,D,q));return V.push(Ae),Sr(V)}).catch(g=>jn(g,8)?g:Promise.reject(g))}function ae(D,q,V){for(const z of a.list())z(D,q,V)}function Le(D,q,V,z,Ee){const We=E(D,q);if(We)return We;const Ae=q===cs,g=xr?history.state:{};V&&(z||Ae?r.replace(D.fullPath,Pe({scroll:Ae&&g&&g.scroll},Ee)):r.push(D.fullPath,Ee)),l.value=D,Oe(D,q,V,Ae),Zt()}let He;function bt(){He||(He=r.listen((D,q,V)=>{if(!$o.listening)return;const z=w(D),Ee=oe(z);if(Ee){ge(Pe(Ee,{replace:!0}),z).catch(ji);return}c=z;const We=l.value;xr&&Wx(Wp(We.fullPath,V.delta),uc()),ve(z,We).catch(Ae=>jn(Ae,12)?Ae:jn(Ae,2)?(ge(Ae.to,z).then(g=>{jn(g,20)&&!V.delta&&V.type===fo.pop&&r.go(-1,!1)}).catch(ji),Promise.reject()):(V.delta&&r.go(-V.delta,!1),be(Ae,z,We))).then(Ae=>{Ae=Ae||Le(z,We,!1),Ae&&(V.delta&&!jn(Ae,8)?r.go(-V.delta,!1):V.type===fo.pop&&jn(Ae,20)&&r.go(-1,!1)),ae(z,We,Ae)}).catch(ji)}))}let kt=wi(),Ye=wi(),Se;function be(D,q,V){Zt(D);const z=Ye.list();return z.length?z.forEach(Ee=>Ee(D,q,V)):console.error(D),Promise.reject(D)}function Te(){return Se&&l.value!==cs?Promise.resolve():new Promise((D,q)=>{kt.add([D,q])})}function Zt(D){return Se||(Se=!D,bt(),kt.list().forEach(([q,V])=>D?V(D):q()),kt.reset()),D}function Oe(D,q,V,z){const{scrollBehavior:Ee}=t;if(!xr||!Ee)return Promise.resolve();const We=!V&&Gx(Wp(D.fullPath,0))||(z||!V)&&history.state&&history.state.scroll||null;return Wi().then(()=>Ee(D,q,We)).then(Ae=>Ae&&Qx(Ae)).catch(Ae=>be(Ae,D,q))}const pt=D=>r.go(D);let Qe;const Ir=new Set,$o={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,hasRoute:v,getRoutes:A,resolve:w,options:t,push:R,replace:X,go:pt,back:()=>pt(-1),forward:()=>pt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Ye.add,isReady:Te,install(D){const q=this;D.component("RouterLink",u_),D.component("RouterView",UD),D.config.globalProperties.$router=q,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>y(l)}),xr&&!Qe&&l.value===cs&&(Qe=!0,R(r.location).catch(Ee=>{}));const V={};for(const Ee in cs)V[Ee]=ue(()=>l.value[Ee]);D.provide(dc,q),D.provide(Dh,Ns(V)),D.provide(qu,l);const z=D.unmount;Ir.add(D),D.unmount=function(){Ir.delete(D),Ir.size<1&&(c=cs,He&&He(),He=null,l.value=cs,Qe=!1,Se=!1),z()}}};return $o}function Sr(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function BD(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Zr(c,a))?s.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Zr(c,l))||r.push(l))}return[n,s,r]}function In(){return Xe(dc)}function Ls(){return Xe(Dh)}const hc=async(t,e,n=null,s=null,r=null)=>{var i;try{const o=De(fe,"users",t),a=await rn(o);if(!a.exists())return;const l=((i=a.data().settings)==null?void 0:i.notifications)||{};if(n&&l[n]===!1)return;const c=jt(fe,"notificaciones");await No(c,{userId:t,mensaje:e,leida:!1,tipo:n,referenciaId:s,ruta:r,created_at:Po()})}catch(o){console.error("Error al crear la notificación:",o)}},FD=(t,e)=>{const n=rs(jt(fe,"notificaciones"),Os("userId","==",t),sc("created_at","desc"));return wr(n,s=>{if(s.empty)console.warn("No se encontraron notificaciones para el usuario:",t),e([]);else{const r=s.docs.map(i=>({id:i.id,...i.data()}));console.log("Notificaciones obtenidas desde Firebase:",r),e(r)}},s=>{console.error("Error al obtener las notificaciones:",s)})},VD=(t,e)=>{const n=rs(jt(fe,"notificaciones"),Os("userId","==",t),Os("leida","==",!1));return wr(n,s=>{console.log("Número de notificaciones no leídas:",s.size),e(s.size)})},jD=async t=>{try{const e=De(fe,"notificaciones",t);await Ft(e,{leida:!0})}catch(e){console.error("Error al marcar la notificación como leída:",e)}},$D=async t=>{try{const e=De(fe,"notificaciones",t);await OS(e)}catch(e){console.error("Error al eliminar la notificación:",e)}};const Je=t=>(Ge("data-v-bced84a6"),t=t(),ze(),t),qD={class:"navbar container-fluid d-flex flex-column justify-content-between fixed-bottom bg-dark"},HD={class:"w-100 align-items-center p-0"},KD={class:"row m-0 p-0 justify-content-between nav-bottom"},JD=Je(()=>d("li",{class:"col-2 p-0 mx-1"},[d("a",{class:"col-2 w-auto d-flex justify-content-center",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar","aria-label":"Toggle navigation"},[d("img",{src:bx,alt:"Sobre para mandar mensajes",class:"icono-nav"})])],-1)),QD={class:"col-2 p-0 mx-1"},WD=Je(()=>d("img",{src:Ex,alt:"Sobre para mandar mensajes",class:"icono-nav"},null,-1)),GD={class:"col-2 p-0 mx-1"},zD=Je(()=>d("img",{src:Ix,alt:"Icono de agregar partido",class:"icono-nav"},null,-1)),YD={class:"col-2 p-0 mx-1"},XD=Je(()=>d("img",{src:Cx,alt:"Campanas de notificaciones",class:"icono-nav"},null,-1)),ZD={key:0,class:"badge bg-danger position-absolute top-0 start-100 translate-middle"},eO={class:"col-2 p-0 mx-1"},tO=Je(()=>d("img",{src:Sx,alt:"Icono de usuario",class:"icono-nav"},null,-1)),nO={class:"offcanvas offcanvas-start ancho-offcanvas rounded-end",tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel"},sO={class:"offcanvas-body pt-5"},rO={class:"navbar-nav justify-content-start flex-grow-1 px-3 pt-4"},iO={class:"row d-flex align-items-center mb-3"},oO={class:"col-5"},aO={class:"col-7"},lO={class:"text-start h4 m-0"},cO={class:"text-start m-0"},uO=Je(()=>d("img",{src:Gy,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),dO=Je(()=>d("p",{class:"text-start col-8 m-0"},"Home",-1)),hO=Je(()=>d("img",{src:zy,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),fO=Je(()=>d("p",{class:"text-start col-8 m-0"},"Feed",-1)),pO=Je(()=>d("img",{src:Yy,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),mO=Je(()=>d("p",{class:"text-start col-8 m-0"},"Mis partidos",-1)),gO=Je(()=>d("img",{src:Xy,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),AO=Je(()=>d("p",{class:"text-start col-8 m-0"},"Red",-1)),vO=Je(()=>d("img",{src:kx,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),yO=Je(()=>d("p",{class:"text-start col-8 m-0"},"Mensajes",-1)),_O=Je(()=>d("img",{src:Tx,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),wO=Je(()=>d("p",{class:"text-start col-8 m-0"},"Notificaciones",-1)),bO=Je(()=>d("hr",null,null,-1)),EO=Je(()=>d("img",{src:Rx,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),IO=Je(()=>d("p",{class:"text-start col-8 m-0"},"Ajustes",-1)),CO=Je(()=>d("img",{src:xx,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),SO=Je(()=>d("p",{class:"text-start col-8 m-0"},"Ayuda",-1)),kO=Je(()=>d("button",{type:"submit",class:"btn row text-decoration-none d-flex mb-3 p-0"},[d("img",{src:Dx,alt:"Icono de logout",class:"col-4 icono-nav-offcanvas px-2"}),d("p",{class:"text-start col-8 m-0"},"Cerrar Sesión")],-1)),TO=[kO],RO=Je(()=>d("div",{class:"row d-flex justify-content-center pt-5"},[d("img",{src:Zy,alt:"Logo Doble-5",class:"ancho-logo"})],-1)),xO={__name:"Navbar",setup(t){const{user:e}=ht(),{handleLogout:n}=i(),s=M(0);let r=null;function i(){const o=In();return{handleLogout(){lx(),o.push({path:"/iniciar-sesion"})}}}return dt(()=>{e.value&&e.value.id&&(r=VD(e.value.id,o=>{console.log("Actualizando badge de notificaciones:",o),s.value=o}))}),Un(()=>{r&&r()}),(o,a)=>{const l=Jt("router-link");return C(),T("nav",qD,[d("div",HD,[d("ul",KD,[JD,d("li",QD,[b(l,{to:"/chat",class:"d-flex justify-content-center"},{default:j(()=>[WD]),_:1})]),d("li",GD,[b(l,{to:"/carga-partidos",class:"d-flex justify-content-center"},{default:j(()=>[zD]),_:1})]),d("li",YD,[b(l,{to:"/notificaciones",class:"d-flex justify-content-center position-relative"},{default:j(()=>[XD,s.value>0?(C(),T("span",ZD,F(s.value),1)):xe("",!0)]),_:1})]),d("li",eO,[b(l,{to:"/perfil",class:"d-flex justify-content-center"},{default:j(()=>[tO]),_:1})])]),d("div",nO,[d("div",sO,[d("ul",rO,[d("li",iO,[d("div",oO,[b(on,{src:y(e).photoURL},null,8,["src"])]),d("div",aO,[d("p",lO,F(y(e).displayName?y(e).displayName:y(e).nombre),1),d("p",cO,F(y(e).email),1)])]),d("li",null,[b(l,{to:"/home",class:"row text-decoration-none d-flex align-items-center my-3","data-bs-dismiss":"offcanvas"},{default:j(()=>[uO,dO]),_:1})]),d("li",null,[b(l,{to:"/feed",class:"row text-decoration-none d-flex mb-3","data-bs-dismiss":"offcanvas"},{default:j(()=>[hO,fO]),_:1})]),d("li",null,[b(l,{to:"/partidos",class:"row text-decoration-none d-flex mb-3","data-bs-dismiss":"offcanvas"},{default:j(()=>[pO,mO]),_:1})]),d("li",null,[b(l,{to:"/red",class:"row text-decoration-none d-flex mb-3","data-bs-dismiss":"offcanvas"},{default:j(()=>[gO,AO]),_:1})]),d("li",null,[b(l,{to:"/chat",class:"row text-decoration-none d-flex mb-3","data-bs-dismiss":"offcanvas"},{default:j(()=>[vO,yO]),_:1})]),d("li",null,[b(l,{to:"/notificaciones",class:"row text-decoration-none d-flex mb-3","data-bs-dismiss":"offcanvas"},{default:j(()=>[_O,wO]),_:1})]),bO,d("li",null,[b(l,{to:"/ajustes",class:"row text-decoration-none d-flex my-3","data-bs-dismiss":"offcanvas"},{default:j(()=>[EO,IO]),_:1})]),d("li",null,[b(l,{to:"/ayuda",class:"row text-decoration-none d-flex mb-3","data-bs-dismiss":"offcanvas"},{default:j(()=>[CO,SO]),_:1})]),d("li",null,[d("form",{action:"#",method:"post",onSubmit:a[0]||(a[0]=En((...c)=>y(n)&&y(n)(...c),["prevent"]))},TO,32)])]),RO])])])])}}},DO=me(xO,[["__scopeId","data-v-bced84a6"]]),OO="/assets/circulo-cruzado-1c7ce2c8.png";const NO=t=>(Ge("data-v-b329a5b3"),t=t(),ze(),t),PO=NO(()=>d("img",{src:OO,alt:"close icon"},null,-1)),MO=[PO],UO={__name:"Modal",props:{title:{type:String,required:!0},bodyText:{type:String,required:!1},closeButtonText:{type:String,required:!1},saveButtonText:{type:String,required:!1}},emits:["close","save","closex"],setup(t,{emit:e}){const n=i=>{e("close",i)},s=()=>{e("closex")},r=()=>{e("save")};return(i,o)=>(C(),T("div",{class:"overlay",onClick:o[4]||(o[4]=a=>e("close"))},[d("div",{class:"modals",onClick:o[3]||(o[3]=En(()=>{},["stop"]))},[d("header",null,[d("h3",null,F(t.title),1),d("button",{onClick:o[0]||(o[0]=a=>s())},MO)]),d("main",null,[d("p",null,F(t.bodyText),1)]),d("footer",null,[d("button",{class:"btn",onClick:o[1]||(o[1]=a=>n())},F(t.closeButtonText),1),d("button",{class:"btn",onClick:o[2]||(o[2]=a=>r())},F(t.saveButtonText),1)])])]))}},LO=me(UO,[["__scopeId","data-v-b329a5b3"]]),is=Symbol("notificationProvider"),d_=Symbol("modalProvider");const BO={class:"layout poppins-regular"},FO={style:{"padding-bottom":"51px"}},VO={__name:"App",setup(t){const e=Ls(),{user:n}=ht(),{feedback:s,setFeedbackMessage:r,clearFeedbackMessage:i}=hx(),{modalData:o,showModal:a,handleModalClose:l,handleModalCloseX:c,handleModalSave:u}=Ax(),h=M(!1);return dt(()=>{var p;e.fullPath.startsWith("/info-partido/")?h.value=!1:h.value=!!((p=n.value)!=null&&p.id)}),ct(()=>e.fullPath,f=>{var p;f.startsWith("/info-partido/")?h.value=!1:h.value=!!((p=n.value)!=null&&p.id)},{immediate:!0}),ws(is,{feedback:s,setFeedbackMessage:r,clearFeedbackMessage:i}),ws(d_,{modalData:o,showModal:a}),(f,p)=>{const m=Jt("router-view");return C(),T("div",BO,[d("header",null,[b(wx,{data:y(s),onClose:y(i)},null,8,["data","onClose"]),y(o).isVisible?(C(),Kt(LO,{key:0,title:y(o).title,bodyText:y(o).bodyText,closeButtonText:y(o).closeButtonText,saveButtonText:y(o).saveButtonText,onClose:y(l),onClosex:y(c),onSave:y(u)},null,8,["title","bodyText","closeButtonText","saveButtonText","onClose","onClosex","onSave"])):xe("",!0)]),d("main",FO,[b(m)]),at(d("footer",null,[b(DO)],512),[[ca,h.value]])])}}},jO=me(VO,[["__scopeId","data-v-bcc2324f"]]),$O="modulepreload",qO=function(t){return"/"+t},lm={},h_=function(e,n,s){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=qO(i),i in lm)return;lm[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!s)for(let u=r.length-1;u>=0;u--){const h=r[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":$O,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},HO="/assets/logo-blanco-fa932924.png";const KO={},JO=t=>(Ge("data-v-fbb5b1a4"),t=t(),ze(),t),QO={class:"row m-auto d-flex justify-content-center align-items-center vh-100 background-inicio"},WO=JO(()=>d("div",{class:"col-12 mt-5 d-flex justify-content-center"},[d("img",{src:HO,alt:"Logo Doble-5",class:"ancho-logo"})],-1)),GO={class:"row justify-content-evenly mt-5"},zO={class:"col-6 boton-inicio d-flex justify-content-center px-6"},YO={class:"col-6 boton-registro d-flex justify-content-center px-6"};function XO(t,e){const n=Jt("router-link");return C(),T("section",QO,[WO,d("div",GO,[d("div",zO,[b(n,{to:"/iniciar-sesion",class:"text-white text-decoration-none fw-semibold"},{default:j(()=>[ce("INICIAR SESIÓN")]),_:1})]),d("div",YO,[b(n,{to:"/registro",class:"text-white text-decoration-none fw-semibold"},{default:j(()=>[ce("REGISTRARME")]),_:1})])])])}const ZO=me(KO,[["render",XO],["__scopeId","data-v-fbb5b1a4"]]),Oh="data:image/png;base64,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",eN="data:image/png;base64,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",tN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAACXBIWXMAABcRAAAXEQHKJvM/AAAEtUlEQVR4nO2d7W3bMBCGeUX/2xskG9SdoNqgGcGdoOkG7gT1CO4G7gS1N3A2iDewJ2DB4oyoBGnJH7q7V70HEII4gUTqET9E8miKMQYkiOgxhPAUQmhCCLMQwkOP5L+EEDanI8Z4gMozgiQimoYQ5nx8uMMpf4YQVjHGzR3ONTimJbGcZz4mA1wilbBn67LMSiKiJGYxkJycbSqlMcZXgWtdjDlJ3Oase1Zrp7bmwD/bpPZq2mq7+sj+FmNc3paDAUiSrBzcIUg3PJ45Ntw2TS9JN5971eP860vPPfRhSdC84+alG/x4h+tMuRo9J2tnSRSCoHTDmgGumWQtEURZF7QQuH5qs14ti9IW1FRuzoF7W1LpmLKQYhv130riG1NqF9JnM6X0rCqinjUlqXXBiSj1oj4X/vQxxrhTSNJfiGhX6f6rpeudxkWJ6Kki6IumIKbh968cvfcnpaqu1FCvNKuULH2zSrUn1k62D/GSRETzwsj1kcfnTMCl+XshLQuN9Im3SUT0WpCUqrmVaEJ6YCWtoiWJiJpCpvcWBTGlkjOXToR0dVfKoEoV0gd+ePbZv37iQWAxpCU9Zb8fDZeiE6X05fkYFDFJRFSaLljLZfVqSpIayQRIlqRSxsxL4onA/L1ptJJmhc8g1hgU0jmRbJckJeWZ2gOt2ilNq49SUl6STK4nqFAaqirVDIMgKSnvNGiP0d3KVOpCKgOsDMwCRe0lX5qSYOD1f2poShJ9a78RsfanhKSkY/Y7kiRVJCXlHQX0kiTWO5WUlGfqQbuuv4D/RlKpyy06vHIDpXSKvUJISip1Y0VHk6+BB4bzObAXydESMUk8JZ3PzTwBVHmlOTDR9ybpLng+6j2xXJpawWs5450+r2TO7MxsJXhtL73sTFQSZ26bffzAAWOmaEUZ5og/VBqrhVJP6Xf28ZHDWsyM5xFRWgz5Nfs4lSLx9zvxYSEerMxL08TSLC2vsM0FBbW1gUorRGvRFIOHuvRI22MlkEAtukLzZtQCuFSW8sbzITAHzTglTUnTM8Fb4qI6BImH4piQFN8WxtdiV8WqPk6HmQfGlKTYHY45eCQ4X7/2oKgLMiGph6hBQjO5g7A5c827B1NDS4rdT3Tk6uhmWSynFnZ5CmZWbYPMSordbUP7KV9e8qSzmPmZknM6ltY22oiaMbM1eDhmVQnXLLFlsaVJuIYFdW23ZnojKMsbQDUsq89+dtdyZDmmIzvM73fH4ZuLO8va8wOwRFjqDLNzJJesOc8/Xbu92pYDqK3HRP0D3Pae4W0AtOGja8u1U6lZWd3PrgtISW1as6c/sj/94vYGUkwb+GXG3KaUZkp3YxAUfC04Bi4JAJcEgEsCwCUB4JIAcEkAuCQAXBIALgkAlwSASwLAJQHgkgBwSQC4JABcEgAuCQCXBIBLAsAlAeCSAHBJALgkAFwSAC4JAJcEgEsCwCUB4JIAcEkAuCQAXBIALgkAlwSASwLAJQEwFkmjiDKvMQpJY9kKoIZXdwC4JABcEgAuCQCXBIBLAsAlATAmSfn32I7m3WlMkvKv9jG5M/E1jFXSy5hGIUYjKca4blV5UBvhdvHedvIuJm2ce/qKnXEQQvgDSKYuXFt2tpkAAAAASUVORK5CYII=",nN="/assets/jugador-de-futbol-e59bd8cc.png";async function sN(t){try{const e=await rn(De(fe,"admin-canchas",t));return e.exists()?e.data():(console.log("No se encontró la cancha con el ID proporcionado."),null)}catch(e){throw console.error("Error al obtener la cancha:",e),e}}async function rN(t,e){try{let n=await sN(t);n!=null&&n.reservas[e.fecha]||(n.reservas[e.fecha]={});const s=n.reservas[e.fecha][e.hora];if(s&&s.disponible===!1)throw new Error("Fecha y hora ya reservadas anteriormente, intente otra fecha u hora");n.reservas[e.fecha][e.hora]={disponible:!1},await iN(t,n),console.log("cancha actualizada correctamente.")}catch(n){throw console.error("Error al actualizar la cancha:",n),n}}async function iN(t,e){try{const n=De(fe,"admin-canchas",t);await Ft(n,{reservas:e.reservas}),console.log("Contenido que se va a guardar:",{reservas:e.reservas,horarios:e.horarios}),console.log("cancha actualizada correctamente")}catch(n){throw console.error("Error al actualizar las reservas de la cancha:",n),n}}async function oN(t,e){try{const n=jt(fe,"partidos");return await rN(t.complejo.id,e),No(n,{...t,created_at:Po()})}catch(n){throw console.log(n),n}}async function aN(t){const e=rs(jt(fe,"partidos"),Os("estado","==",t||"activo")),n=await hi(e),s=[];return n.forEach(r=>{s.push({id:r.id,...r.data()})}),s}async function fc(t){try{const e=await rn(De(fe,"partidos",t));return e.exists()?e.data():(console.log("No se encontró el partido con el ID proporcionado."),null)}catch(e){throw console.error("Error al obtener el partido:",e),e}}async function Nh(t,e){console.log(t,e);try{let n=await fc(t),s={uid:e.value.id,nombre:e.value.displayName,image:e.value.photoURL};if(n.contadorInscriptos.some(i=>i.uid===s.uid)&&n.contadorInscriptos.length<10)throw new Error("El usuario ya está inscrito en este partido.");n.contadorInscriptos.push(s),await f_(t,n.contadorInscriptos),console.log("Usuario inscrito correctamente.")}catch(n){throw console.error("Error al inscribirse al partido:",n),n}}async function f_(t,e){try{const n=De(fe,"partidos",t);await Ft(n,{contadorInscriptos:e}),console.log("Lista actualizada correctamente")}catch(n){throw console.error("Error al actualizar contador de inscriptos:",n),n}}async function lN(t,e){try{let n=await fc(e),s={uid:t};const r=n.contadorInscriptos.filter(i=>i.uid!==s.uid);await f_(e,r),console.log("Usuario eliminado correctamente.")}catch(n){throw console.error("Error al eliminar al jugador del partido:",n),n}}async function cN(t,e){try{const n=De(fe,"partidos",t),s=await rn(n);if(!s.exists())throw new Error("El partido no existe.");if(s.data().userId!==e)throw new Error("No sos el creador de este partido.");return await Ft(n,{estado:"eliminado"}),console.log("Partido marcado como eliminado correctamente."),!0}catch(n){throw console.error("Error al eliminar el partido:",n.message),n}}function Hu(t){if(t==null)return"xxxx-xx-xx- xx:xx:xx";const e=new Intl.DateTimeFormat("es-AR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t),n=new Intl.DateTimeFormat("es-AR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(t);return`${e} ${n}`}function uN(t){const[e,n,s]=t.split("-");return`${s}-${n}-${e}`}const pc=t=>(Ge("data-v-5d433b7d"),t=t(),ze(),t),dN={class:"row px-3"},hN={class:"card p-3 mb-3"},fN={class:"card-body"},pN={class:"row mb-3"},mN={class:"col-10"},gN={class:"card-title h4 text-start"},AN={class:"col-2 d-flex justify-content-end"},vN=pc(()=>d("img",{src:Oh,alt:"Icono flechas dobles",class:"icono-h2"},null,-1)),yN={class:"row mb-3"},_N=pc(()=>d("div",{class:"col-2 d-flex justify-content-start"},[d("img",{src:eN,alt:"Icono flechas dobles",class:"icono-h2"})],-1)),wN={class:"col-10 d-flex align-items-end"},bN={class:"card-subtitle text-body-secondary text-start"},EN={class:"row mb-3"},IN=pc(()=>d("div",{class:"col-2 d-flex justify-content-start"},[d("img",{src:tN,alt:"Icono flechas dobles",class:"icono-h2"})],-1)),CN={class:"col-10 d-flex align-items-end"},SN={class:"card-subtitle text-body-secondary text-start"},kN={class:"row mb-3"},TN=pc(()=>d("div",{class:"col-2 d-flex justify-content-start"},[d("img",{src:nN,alt:"Icono flechas dobles",class:"icono-h2"})],-1)),RN={class:"col-10 d-flex align-items-end"},xN={class:"card-subtitle text-body-secondary text-start"},DN={class:"row justify-content-around"},ON={class:"col-6 fondo-boton-card-negro rounded d-flex justify-content-center"},NN={__name:"CardPartido",props:{partido:Object},setup(t){Oo();const{user:e}=ht(),{setFeedbackMessage:n,clearFeedbackMessage:s}=Xe(is);async function r(i){try{s(),i?(await Nh(i,e),n({type:"success",message:"usuario inscripto correctamente."}),console.log("Usuario inscrito correctamente.")):console.error("No se ha encontrado el partido para inscribirse.")}catch(o){console.error("Error al inscribirse al partido:",o),n({type:"error",message:o})}}return(i,o)=>{var l,c,u,h,f,p,m,A,v;const a=Jt("router-link");return C(),T("div",dN,[d("div",hN,[d("div",fN,[d("div",pN,[d("div",mN,[d("p",gN,F((l=t.partido)==null?void 0:l.nombre),1)]),d("div",AN,[b(a,{to:`/info-partido/${(c=t.partido)==null?void 0:c.id}`},{default:j(()=>[vN]),_:1},8,["to"])])]),d("div",yN,[_N,d("div",wN,[d("p",bN,[d("b",null,F(y(uN)((u=t.partido)==null?void 0:u.fecha))+" - "+F((h=t.partido)==null?void 0:h.hora)+"hs",1)])])]),d("div",EN,[IN,d("div",CN,[d("p",SN,[ce(" Complejo: "),d("b",null,F((p=(f=t.partido)==null?void 0:f.complejo)==null?void 0:p.name),1)])])]),d("div",kN,[TN,d("div",RN,[d("p",xN,[ce(" Vacantes: "),d("b",null,F(((m=t.partido)==null?void 0:m.cantidadJ)*2-((A=t.partido)==null?void 0:A.contadorInscriptos.length)),1)])])]),d("div",DN,[d("div",ON,[b(a,{to:`/info-partido/${(v=t.partido)==null?void 0:v.id}`,class:"text-white fw-light py-2"},{default:j(()=>[ce("Ver más")]),_:1},8,["to"])]),d("div",{onClick:o[0]||(o[0]=w=>{var S;return r((S=t.partido)==null?void 0:S.id)}),class:"col-6 fondo-boton-card rounded d-flex justify-content-center text-white align-items-center"}," Inscribirme ")])])])])}}},Za=me(NN,[["__scopeId","data-v-5d433b7d"]]);const an=t=>(Ge("data-v-76e9dc9b"),t=t(),ze(),t),PN={class:"p-3"},MN={class:"header row mb-3"},UN={class:"col-5"},LN={class:"col-5 d-flex align-items-center"},BN={class:"text-start h3"},FN=an(()=>d("br",null,null,-1)),VN=an(()=>d("span",{class:"h4 bienvenida"},"¡Bienvenido!",-1)),jN={class:"px-3 pb-3"},$N={class:"row d-flex justify-content-between mb-3"},qN=an(()=>d("img",{src:Gy,alt:"Icono home",class:"icono-card m-auto"},null,-1)),HN=an(()=>d("p",{class:"m-auto"},"Home",-1)),KN=an(()=>d("img",{src:zy,alt:"Icono feed",class:"icono-card m-auto"},null,-1)),JN=an(()=>d("p",{class:"m-auto"},"Feed",-1)),QN=an(()=>d("img",{src:Yy,alt:"Icono pelota",class:"icono-card m-auto"},null,-1)),WN=an(()=>d("p",{class:"m-auto"},"Partidos",-1)),GN=an(()=>d("img",{src:Xy,alt:"Icono red",class:"icono-card m-auto"},null,-1)),zN=an(()=>d("p",{class:"m-auto"},"Red",-1)),YN={class:"pb-3 px-3"},XN={class:"row mb-3"},ZN=an(()=>d("div",{class:"col-10"},[d("h2",{class:"text-start h3 mb-3"},[d("span",null,"Próximos"),ce(" partidos")])],-1)),eP={class:"col-2"},tP=an(()=>d("img",{src:Oh,alt:"Icono flechas dobles",class:"icono-h2"},null,-1)),nP={key:0,class:"row px-3"},sP={key:1,class:"row"},rP=an(()=>d("div",{class:"col-12"},[d("p",null,"No hay partidos para mostrar")],-1)),iP=[rP],oP={__name:"Home",setup(t){const e=Ls(),{user:n}=ht(),s=Oo(),r=M([]);let i=null;function o(l){return e.path===l?"active-button":""}function a(){const l=rs(jt(s,"partidos"),sc("fecha","asc"),Os("estado","==","activo"),jv(3));i=wr(l,c=>{const u=[];c.forEach(h=>{u.push({...h.data(),id:h.id})}),r.value=u})}return id(()=>{a()}),Un(()=>{i&&i()}),(l,c)=>{const u=Jt("router-link");return C(),T(se,null,[d("section",PN,[d("div",MN,[d("div",UN,[b(on,{src:y(n).photoURL},null,8,["src"])]),d("div",LN,[d("p",BN,[ce(F(y(n).displayName?y(n).displayName:y(n).nombre)+" ",1),FN,VN])])])]),d("section",jN,[d("div",$N,[d("div",{class:Ue(["col-3 m-auto justify-content-center botonera-home",["botonera-home",o("/home")]])},[b(u,{to:"/home",class:"d-flex flex-column"},{default:j(()=>[qN,HN]),_:1})],2),d("div",{class:Ue(["col-3 m-auto justify-content-center botonera-home",["botonera-home",o("/feed")]])},[b(u,{to:"/feed",class:"d-flex flex-column"},{default:j(()=>[KN,JN]),_:1})],2),d("div",{class:Ue(["col-3 m-auto justify-content-center botonera-home",["botonera-home",o("/partidos")]])},[b(u,{to:"/partidos",class:"d-flex flex-column"},{default:j(()=>[QN,WN]),_:1})],2),d("div",{class:Ue(["col-3 m-auto justify-content-center botonera-home",["botonera-home",o("/red")]])},[b(u,{to:"/red",class:"d-flex flex-column"},{default:j(()=>[GN,zN]),_:1})],2)])]),d("section",YN,[d("div",XN,[ZN,d("div",eP,[b(u,{to:"/partidos"},{default:j(()=>[tP]),_:1})])]),r.value.length>0?(C(),T("div",nP,[(C(!0),T(se,null,vt(r.value,h=>(C(),Kt(Za,{class:"m-auto",key:h.id,partido:h},null,8,["partido"]))),128))])):(C(),T("div",sP,iP))])],64)}}},aP=me(oP,[["__scopeId","data-v-76e9dc9b"]]);async function lP(t){const e=jt(fe,"private-chats",t,"messages"),n=await hi(e),s=[];return n.forEach(r=>{s.push({id:r.id,...r.data()})}),s}async function cP(t){const e=rs(jt(fe,"private-chats"),Os(`users.${t}`,"==",!0)),n=await hi(e),s=[];for(const r of n.docs){const i=r.data(),o={};await Promise.all(Object.keys(i.users).map(async l=>{const c=await Bn(l);o[l]=c}));const a=await lP(r.id);s.push({id:r.id,users:o,messages:a})}return s}const uP={},dP={class:"p-3",style:{margin:"85px 0 0px 0"}};function hP(t,e){return C(),T("section",dP,[gl(t.$slots,"default")])}const Vt=me(uP,[["render",hP]]),p_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJBRTc5NTA4MURGODExRUZCMUM0RTU1Qzc5QUNFRkQyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJBRTc5NTA5MURGODExRUZCMUM0RTU1Qzc5QUNFRkQyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkFFNzk1MDYxREY4MTFFRkIxQzRFNTVDNzlBQ0VGRDIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkFFNzk1MDcxREY4MTFFRkIxQzRFNTVDNzlBQ0VGRDIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4bhRvSAAAABlBMVEX///////9VfPVsAAAAAnRSTlP/AOW3MEoAAASNSURBVHja7N1LigJAFATBeve/tFthGMSdmpE30IpuBH87pZunAAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAAMBTAIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABMC/j/kpANLzI9ADsL8B0N6/LWDmbwuY/dsCZv+2gNm/LWD2B8D+YQGzPwD2B8D+VQGzPwD2B8D+ANT3ByC+PwDx/QGI7w+A/QEI7w9AfH8AXAAAhM8/APYHwAsAAOwPgPsfAOcfAPsD4P4HwPkHwP4AuP8BcP4BsD8A7n8AnH8A7A+A+x8A5x8A+wNgfwDsD4D9AbA/APYHwP4A2B8A+wNgfwDsD4D9AbA/APYHwP4A2B8A+wNgfwDsD4D9AbA/APYHwP4A2B8A+wNgfwDsD4D9AbA/APYHwP4A2B8A+wNgfwDsD4D9AbB/GcB+KgDa+38YAgDiBGb/NgEA4gIAiAuY/dsCAIgLmP0BACAsAAAAACgLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC8GQQAAAT4QAgAAADwc/v7WHh8fwDi+wMQ39+XQ9vzAxCf3w9EpMf/GgB+IgYAAtIACKgDIKAOgIA6AALqAAioAyCgDoCAOgAC6gAIqAMgoA6AgDoAAuoACKgDIKAOgIA6AALqAAioAyCgDoCAOgAC6gAIqAMgoA6AgDoAAuoACKgDIKAOgIA6AALqAAioAyCgDoCAOgAC6gAIqAMgoA6AgDoAAuoACKgDIKAOgIA6AALqAAioAyCgDoCAOgAC6gAIqAMgoA6AgDoAAuoA3v2TGQDcAQAQAAABABAAQFMAAAQAkBYAQFwAAAQAkBYAQFwAAHEBAMQFABAXAEBcAABxAQC0BRwAbQEAxAUA0BZwALQFANAWcACkBRwAaQEHQFrAAZAWcACUCdwBECZwB4AAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIBe9hBgAPUmyPTf3QHfAAAAAElFTkSuQmCC",mc="data:image/png;base64,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";const fP={class:"col-3"},pP=["src"],mP={class:"col-9"},gP={__name:"HeaderPage",props:{route:{type:String,required:!0},title:{type:String,required:!0},hasBackground:{type:Boolean,default:!0}},setup(t){const e=t;return(n,s)=>{const r=Jt("router-link");return C(),T("div",{class:Ue(["row sectionHeader",{"with-background":e.hasBackground,"no-background":!e.hasBackground}])},[d("div",fP,[b(r,{to:e.route},{default:j(()=>[d("img",{src:e.hasBackground?y(p_):y(mc),alt:"Volver"},null,8,pP)]),_:1},8,["to"])]),d("div",mP,[d("h1",null,F(e.title),1)])],2)}}},Xt=me(gP,[["__scopeId","data-v-799178b6"]]);const AP=t=>(Ge("data-v-29a5fa0e"),t=t(),ze(),t),vP={key:0,class:"loader-container"},yP=AP(()=>d("div",{class:"spinner-border",role:"status"},[d("span",{class:"sr-only"})],-1)),_P=[yP],wP={__name:"Loading",props:{loading:{type:Boolean,required:!0}},setup(t){return(e,n)=>t.loading?(C(),T("div",vP,_P)):xe("",!0)}},Bs=me(wP,[["__scopeId","data-v-29a5fa0e"]]);function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function mr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Qt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Vn(t){Qt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||el(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function bP(t,e){Qt(2,arguments);var n=Vn(t).getTime(),s=mr(e);return new Date(n+s)}var EP={};function gc(){return EP}function IP(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function CP(t){return Qt(1,arguments),t instanceof Date||el(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function SP(t){if(Qt(1,arguments),!CP(t)&&typeof t!="number")return!1;var e=Vn(t);return!isNaN(Number(e))}function kP(t,e){Qt(2,arguments);var n=mr(e);return bP(t,-n)}var TP=864e5;function RP(t){Qt(1,arguments);var e=Vn(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var s=e.getTime(),r=n-s;return Math.floor(r/TP)+1}function tl(t){Qt(1,arguments);var e=1,n=Vn(t),s=n.getUTCDay(),r=(s<e?7:0)+s-e;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}function m_(t){Qt(1,arguments);var e=Vn(t),n=e.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(n+1,0,4),s.setUTCHours(0,0,0,0);var r=tl(s),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=tl(i);return e.getTime()>=r.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function xP(t){Qt(1,arguments);var e=m_(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var s=tl(n);return s}var DP=6048e5;function OP(t){Qt(1,arguments);var e=Vn(t),n=tl(e).getTime()-xP(e).getTime();return Math.round(n/DP)+1}function nl(t,e){var n,s,r,i,o,a,l,c;Qt(1,arguments);var u=gc(),h=mr((n=(s=(r=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&s!==void 0?s:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=Vn(t),p=f.getUTCDay(),m=(p<h?7:0)+p-h;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function g_(t,e){var n,s,r,i,o,a,l,c;Qt(1,arguments);var u=Vn(t),h=u.getUTCFullYear(),f=gc(),p=mr((n=(s=(r=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:f.firstWeekContainsDate)!==null&&s!==void 0?s:(l=f.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(h+1,0,p),m.setUTCHours(0,0,0,0);var A=nl(m,e),v=new Date(0);v.setUTCFullYear(h,0,p),v.setUTCHours(0,0,0,0);var w=nl(v,e);return u.getTime()>=A.getTime()?h+1:u.getTime()>=w.getTime()?h:h-1}function NP(t,e){var n,s,r,i,o,a,l,c;Qt(1,arguments);var u=gc(),h=mr((n=(s=(r=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:u.firstWeekContainsDate)!==null&&s!==void 0?s:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=g_(t,e),p=new Date(0);p.setUTCFullYear(f,0,h),p.setUTCHours(0,0,0,0);var m=nl(p,e);return m}var PP=6048e5;function MP(t,e){Qt(1,arguments);var n=Vn(t),s=nl(n,e).getTime()-NP(n,e).getTime();return Math.round(s/PP)+1}function Ne(t,e){for(var n=t<0?"-":"",s=Math.abs(t).toString();s.length<e;)s="0"+s;return n+s}var UP={y:function(e,n){var s=e.getUTCFullYear(),r=s>0?s:1-s;return Ne(n==="yy"?r%100:r,n.length)},M:function(e,n){var s=e.getUTCMonth();return n==="M"?String(s+1):Ne(s+1,2)},d:function(e,n){return Ne(e.getUTCDate(),n.length)},a:function(e,n){var s=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(e,n){return Ne(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Ne(e.getUTCHours(),n.length)},m:function(e,n){return Ne(e.getUTCMinutes(),n.length)},s:function(e,n){return Ne(e.getUTCSeconds(),n.length)},S:function(e,n){var s=n.length,r=e.getUTCMilliseconds(),i=Math.floor(r*Math.pow(10,s-3));return Ne(i,n.length)}};const us=UP;var kr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},LP={G:function(e,n,s){var r=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(e,n,s){if(n==="yo"){var r=e.getUTCFullYear(),i=r>0?r:1-r;return s.ordinalNumber(i,{unit:"year"})}return us.y(e,n)},Y:function(e,n,s,r){var i=g_(e,r),o=i>0?i:1-i;if(n==="YY"){var a=o%100;return Ne(a,2)}return n==="Yo"?s.ordinalNumber(o,{unit:"year"}):Ne(o,n.length)},R:function(e,n){var s=m_(e);return Ne(s,n.length)},u:function(e,n){var s=e.getUTCFullYear();return Ne(s,n.length)},Q:function(e,n,s){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Ne(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,s){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Ne(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,s){var r=e.getUTCMonth();switch(n){case"M":case"MM":return us.M(e,n);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,s){var r=e.getUTCMonth();switch(n){case"L":return String(r+1);case"LL":return Ne(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,s,r){var i=MP(e,r);return n==="wo"?s.ordinalNumber(i,{unit:"week"}):Ne(i,n.length)},I:function(e,n,s){var r=OP(e);return n==="Io"?s.ordinalNumber(r,{unit:"week"}):Ne(r,n.length)},d:function(e,n,s){return n==="do"?s.ordinalNumber(e.getUTCDate(),{unit:"date"}):us.d(e,n)},D:function(e,n,s){var r=RP(e);return n==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):Ne(r,n.length)},E:function(e,n,s){var r=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,s,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ne(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,s,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ne(o,n.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,s){var r=e.getUTCDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return Ne(i,n.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,s){var r=e.getUTCHours(),i=r/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,s){var r=e.getUTCHours(),i;switch(r===12?i=kr.noon:r===0?i=kr.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,s){var r=e.getUTCHours(),i;switch(r>=17?i=kr.evening:r>=12?i=kr.afternoon:r>=4?i=kr.morning:i=kr.night,n){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,s){if(n==="ho"){var r=e.getUTCHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return us.h(e,n)},H:function(e,n,s){return n==="Ho"?s.ordinalNumber(e.getUTCHours(),{unit:"hour"}):us.H(e,n)},K:function(e,n,s){var r=e.getUTCHours()%12;return n==="Ko"?s.ordinalNumber(r,{unit:"hour"}):Ne(r,n.length)},k:function(e,n,s){var r=e.getUTCHours();return r===0&&(r=24),n==="ko"?s.ordinalNumber(r,{unit:"hour"}):Ne(r,n.length)},m:function(e,n,s){return n==="mo"?s.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):us.m(e,n)},s:function(e,n,s){return n==="so"?s.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):us.s(e,n)},S:function(e,n){return us.S(e,n)},X:function(e,n,s,r){var i=r._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return um(o);case"XXXX":case"XX":return Hs(o);case"XXXXX":case"XXX":default:return Hs(o,":")}},x:function(e,n,s,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"x":return um(o);case"xxxx":case"xx":return Hs(o);case"xxxxx":case"xxx":default:return Hs(o,":")}},O:function(e,n,s,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+cm(o,":");case"OOOO":default:return"GMT"+Hs(o,":")}},z:function(e,n,s,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+cm(o,":");case"zzzz":default:return"GMT"+Hs(o,":")}},t:function(e,n,s,r){var i=r._originalDate||e,o=Math.floor(i.getTime()/1e3);return Ne(o,n.length)},T:function(e,n,s,r){var i=r._originalDate||e,o=i.getTime();return Ne(o,n.length)}};function cm(t,e){var n=t>0?"-":"+",s=Math.abs(t),r=Math.floor(s/60),i=s%60;if(i===0)return n+String(r);var o=e||"";return n+String(r)+o+Ne(i,2)}function um(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Ne(Math.abs(t)/60,2)}return Hs(t,e)}function Hs(t,e){var n=e||"",s=t>0?"-":"+",r=Math.abs(t),i=Ne(Math.floor(r/60),2),o=Ne(r%60,2);return s+i+n+o}const BP=LP;var dm=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},A_=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},FP=function(e,n){var s=e.match(/(P+)(p+)?/)||[],r=s[1],i=s[2];if(!i)return dm(e,n);var o;switch(r){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",dm(r,n)).replace("{{time}}",A_(i,n))},VP={p:A_,P:FP};const jP=VP;var $P=["D","DD"],qP=["YY","YYYY"];function HP(t){return $P.indexOf(t)!==-1}function KP(t){return qP.indexOf(t)!==-1}function hm(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var JP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},QP=function(e,n,s){var r,i=JP[e];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};const WP=QP;function Qc(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,s=t.formats[n]||t.formats[t.defaultWidth];return s}}var GP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XP={date:Qc({formats:GP,defaultWidth:"full"}),time:Qc({formats:zP,defaultWidth:"full"}),dateTime:Qc({formats:YP,defaultWidth:"full"})};const ZP=XP;var eM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tM=function(e,n,s,r){return eM[e]};const nM=tM;function bi(t){return function(e,n){var s=n!=null&&n.context?String(n.context):"standalone",r;if(s==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):i;r=t.formattingValues[o]||t.formattingValues[i]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[l]||t.values[a]}var c=t.argumentCallback?t.argumentCallback(e):e;return r[c]}}var sM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},iM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cM=function(e,n){var s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},uM={ordinalNumber:cM,era:bi({values:sM,defaultWidth:"wide"}),quarter:bi({values:rM,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:bi({values:iM,defaultWidth:"wide"}),day:bi({values:oM,defaultWidth:"wide"}),dayPeriod:bi({values:aM,defaultWidth:"wide",formattingValues:lM,defaultFormattingWidth:"wide"})};const dM=uM;function Ei(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;var o=i[0],a=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?fM(a,function(h){return h.test(o)}):hM(a,function(h){return h.test(o)}),c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(o.length);return{value:c,rest:u}}}function hM(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function fM(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function pM(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.match(t.matchPattern);if(!s)return null;var r=s[0],i=e.match(t.parsePattern);if(!i)return null;var o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(r.length);return{value:o,rest:a}}}var mM=/^(\d+)(th|st|nd|rd)?/i,gM=/\d+/i,AM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vM={any:[/^b/i,/^(a|c)/i]},yM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_M={any:[/1/i,/2/i,/3/i,/4/i]},wM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},EM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},IM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},SM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kM={ordinalNumber:pM({matchPattern:mM,parsePattern:gM,valueCallback:function(e){return parseInt(e,10)}}),era:Ei({matchPatterns:AM,defaultMatchWidth:"wide",parsePatterns:vM,defaultParseWidth:"any"}),quarter:Ei({matchPatterns:yM,defaultMatchWidth:"wide",parsePatterns:_M,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ei({matchPatterns:wM,defaultMatchWidth:"wide",parsePatterns:bM,defaultParseWidth:"any"}),day:Ei({matchPatterns:EM,defaultMatchWidth:"wide",parsePatterns:IM,defaultParseWidth:"any"}),dayPeriod:Ei({matchPatterns:CM,defaultMatchWidth:"any",parsePatterns:SM,defaultParseWidth:"any"})};const TM=kM;var RM={code:"en-US",formatDistance:WP,formatLong:ZP,formatRelative:nM,localize:dM,match:TM,options:{weekStartsOn:0,firstWeekContainsDate:1}};const xM=RM;var DM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,NM=/^'([^]*?)'?$/,PM=/''/g,MM=/[a-zA-Z]/;function v_(t,e,n){var s,r,i,o,a,l,c,u,h,f,p,m,A,v,w,S,E,R;Qt(2,arguments);var X=String(e),oe=gc(),ge=(s=(r=n==null?void 0:n.locale)!==null&&r!==void 0?r:oe.locale)!==null&&s!==void 0?s:xM,K=mr((i=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(c=n.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:oe.firstWeekContainsDate)!==null&&o!==void 0?o:(h=oe.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(K>=1&&K<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var ve=mr((p=(m=(A=(v=n==null?void 0:n.weekStartsOn)!==null&&v!==void 0?v:n==null||(w=n.locale)===null||w===void 0||(S=w.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&A!==void 0?A:oe.weekStartsOn)!==null&&m!==void 0?m:(E=oe.locale)===null||E===void 0||(R=E.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&p!==void 0?p:0);if(!(ve>=0&&ve<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!ge.localize)throw new RangeError("locale must contain localize property");if(!ge.formatLong)throw new RangeError("locale must contain formatLong property");var ae=Vn(t);if(!SP(ae))throw new RangeError("Invalid time value");var Le=IP(ae),He=kP(ae,Le),bt={firstWeekContainsDate:K,weekStartsOn:ve,locale:ge,_originalDate:ae},kt=X.match(OM).map(function(Ye){var Se=Ye[0];if(Se==="p"||Se==="P"){var be=jP[Se];return be(Ye,ge.formatLong)}return Ye}).join("").match(DM).map(function(Ye){if(Ye==="''")return"'";var Se=Ye[0];if(Se==="'")return UM(Ye);var be=BP[Se];if(be)return!(n!=null&&n.useAdditionalWeekYearTokens)&&KP(Ye)&&hm(Ye,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&HP(Ye)&&hm(Ye,e,String(t)),be(He,Ye,ge.localize,bt);if(Se.match(MM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Se+"`");return Ye}).join("");return kt}function UM(t){var e=t.match(NM);return e?e[1].replace(PM,"'"):t}const LM={class:"card d-flex flex-row align-items-center p-2"},BM=["src"],FM={class:"flex-grow-1"},VM={class:"d-flex justify-content-between align-items-center"},jM={class:"mb-1"},$M={class:"text-muted"},qM={class:"card-text mb-0"},HM={__name:"cardChats",props:{chat:Object,userAuthenticatedID:String},setup(t){const e=t,n=M(null),s=M(null);dt(()=>{n.value=e.chat,s.value=e.userAuthenticatedID});const r=l=>{if(!l||!s.value)return"";const c=Object.keys(l).find(u=>u!==s.value);return c?l[c].displayName||l[c].nombre:""},i=l=>{if(!l||!s.value)return"";const c=Object.keys(l).find(u=>u!==s.value);return c&&l[c].photoURL||""},o=l=>{if(!l||l.length===0)return"No messages yet";const c=l.sort((u,h)=>{const f=new Date(u.created_at.seconds*1e3+u.created_at.nanoseconds/1e6),p=new Date(h.created_at.seconds*1e3+h.created_at.nanoseconds/1e6);return f-p});return c[c.length-1].message},a=l=>{if(!l||l.length===0)return"";const c=l[l.length-1].created_at,u=c.seconds*1e3+c.nanoseconds/1e6,h=new Date(u);return v_(h,"HH:mm")};return(l,c)=>{var u,h,f,p;return C(),T("div",LM,[d("img",{src:i((u=n.value)==null?void 0:u.users),alt:"User Photo",class:"user-photo me-3"},null,8,BM),d("div",FM,[d("div",VM,[d("h5",jM,F(r((h=n.value)==null?void 0:h.users)),1),d("p",$M,F(a((f=n.value)==null?void 0:f.messages)),1)]),d("p",qM,F(o((p=n.value)==null?void 0:p.messages)),1)])])}}},KM=me(HM,[["__scopeId","data-v-1fdd0751"]]);const JM={class:"mb-3"},QM=["onClick"],WM={key:0},GM={__name:"Chat",setup(t){const{user:e}=ht(),n=M([]),s=M(!0),r=In(),i=M("");dt(async()=>{try{e.value&&(n.value=await cP(e.value.id),console.log(n.value))}catch(l){console.error("Error getting chats: ",l)}finally{s.value=!1}});function o(l){const c=Object.keys(l.users).find(u=>u!==e.value.id);r.push(`/usuario/${c}/chat`)}const a=ue(()=>{if(!i.value)return n.value;const l=i.value.toLowerCase().trim();return n.value.filter(c=>{var p,m,A,v;const u=Object.entries(c.users).find(([w])=>w!==e.value.id),h=((m=(p=u==null?void 0:u[1])==null?void 0:p.nombre)==null?void 0:m.toLowerCase())||"",f=((v=(A=u==null?void 0:u[1])==null?void 0:A.displayName)==null?void 0:v.toLowerCase())||"";return h.includes(l)||f.includes(l)})});return(l,c)=>(C(),T(se,null,[b(Bs,{loading:s.value},null,8,["loading"]),b(Xt,{title:"Mensajes",route:"home",hasBackground:!1}),b(Vt,null,{default:j(()=>[d("div",JM,[at(d("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=u=>i.value=u),class:"form-control",placeholder:"Buscar chat por nombre"},null,512),[[Gn,i.value]])]),d("div",null,[d("ul",null,[(C(!0),T(se,null,vt(y(a),u=>{var h;return C(),T("li",{key:u.id,onClick:f=>o(u)},[b(KM,{chat:u,userAuthenticatedID:(h=y(e))==null?void 0:h.id},null,8,["chat","userAuthenticatedID"])],8,QM)}),128))]),!y(a).length&&i.value?(C(),T("p",WM," No se encontraron chats con ese nombre. ")):xe("",!0)])]),_:1})],64))}},zM=me(GM,[["__scopeId","data-v-98d4a212"]]);const YM={},XM=t=>(Ge("data-v-2abd6d44"),t=t(),ze(),t),ZM={class:"d-flex justify-content-center"},eU=XM(()=>d("div",{class:"spinner-border",role:"status"},[d("span",{class:"sr-only"})],-1)),tU=[eU];function nU(t,e){return C(),T("div",ZM,tU)}const Ph=me(YM,[["render",nU],["__scopeId","data-v-2abd6d44"]]),y_={__name:"LoadingContext",props:{loading:{type:Boolean,default:!1}},setup(t){return(e,n)=>t.loading?(C(),Kt(Ph,{key:1})):gl(e.$slots,"default",{key:0})}};const sU={__name:"Button",props:{full:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(t){return(e,n)=>(C(),T("button",{type:"submit",class:Ue(["btn",{"w-full":t.full}])},[b(y_,{loading:t.loading},{default:j(()=>[gl(e.$slots,"default",{},()=>[ce("Enviar")],!0)]),_:3},8,["loading"])],2))}},gr=me(sU,[["__scopeId","data-v-c4bd9491"]]);const rU={class:"input-wrapper"},iU=["type","value"],oU={__name:"Input",props:{modelValue:String,type:{type:String,default:"text"}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=M(!1),r=ue(()=>n.type==="password"?s.value?"text":"password":n.type);function i(){s.value=!s.value}return(o,a)=>(C(),T("div",rU,[d("input",{type:y(r),class:"w-100 p-2 border border-slate-400 rounded-xl",value:t.modelValue,onInput:a[0]||(a[0]=l=>o.$emit("update:modelValue",l.target.value))},null,40,iU),n.type==="password"?(C(),T("span",{key:0,class:"toggle-icon",onClick:i},[d("i",{class:Ue(s.value?"fa fa-eye-slash":"fa fa-eye")},null,2)])):xe("",!0)]))}},mt=me(oU,[["__scopeId","data-v-d792a06f"]]);const Mh=t=>(Ge("data-v-02716286"),t=t(),ze(),t),aU=Mh(()=>d("div",{class:"d-flex justify-content-center mb-4"},[d("img",{src:Zy,alt:"Logo Doble-5",class:"ancho-logo my-4"})],-1)),lU={class:"row mb-3"},cU=["onSubmit"],uU={class:"mb-4"},dU=Mh(()=>d("label",{for:"email",style:{"margin-left":"0.3rem","font-weight":"500","padding-bottom":"0.5rem"}},"Email",-1)),hU={class:"mb-2"},fU=Mh(()=>d("label",{for:"password",style:{"margin-left":"0.3rem","font-weight":"500","padding-bottom":"0.5rem"}},"Contraseña",-1)),pU={class:"row"},mU={class:"col-12 text-center mb-2"},gU={class:"col-12 mt-3 d-flex justify-content-center"},AU={__name:"Login",setup(t){const{setFeedbackMessage:e,clearFeedbackMessage:n}=Xe(is),s=In(),r=M({email:"",password:""}),i=M(!1);async function o(){i.value=!0,n();try{await ox({...r.value}),s.push("/home")}catch{e({type:"error",message:"Usuario y/o contraseña incorrectos."})}finally{i.value=!1}}return(a,l)=>{const c=Jt("router-link");return C(),T(se,null,[b(Bs,{loading:i.value},null,8,["loading"]),b(Vt,null,{default:j(()=>[aU,d("div",lU,[d("form",{onSubmit:En(o,["prevent"])},[d("div",uU,[dU,b(mt,{type:"email",name:"email",id:"email",placeholder:"E-mail",modelValue:r.value.email,"onUpdate:modelValue":l[0]||(l[0]=u=>r.value.email=u)},null,8,["modelValue"])]),d("div",hU,[fU,b(mt,{type:"password",name:"password",id:"password",placeholder:"Contraseña",class:"mb-4",modelValue:r.value.password,"onUpdate:modelValue":l[1]||(l[1]=u=>r.value.password=u)},null,8,["modelValue"])]),b(gr,{disabled:i.value,class:"fw-semibold text-white py-3 my-2"},{default:j(()=>[ce("INICIAR SESIÓN")]),_:1},8,["disabled"])],40,cU)]),d("div",pU,[d("div",mU,[b(c,{to:"/reset-user",class:"fw-semibold"},{default:j(()=>[ce("¿Olvidaste tu contraseña?")]),_:1})]),d("div",gU,[b(c,{to:"/registro"},{default:j(()=>[b(gr,{class:"fw-semibold text-white py-3 px-5 register-button"},{default:j(()=>[ce("CREAR UNA CUENTA")]),_:1})]),_:1})])])]),_:1})],64)}}},vU=me(AU,[["__scopeId","data-v-02716286"]]);function fm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function fs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fm(Object(n),!0).forEach(function(s){yU(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fm(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function yU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(t).reduce((n,s)=>(e.includes(s)||(n[s]=y(t[s])),n),{})}function sl(t){return typeof t=="function"}function _U(t){return tr(t)||ar(t)}function __(t,e,n){let s=t;const r=e.split(".");for(let i=0;i<r.length;i++){if(!s[r[i]])return n;s=s[r[i]]}return s}function Wc(t,e,n){return ue(()=>t.some(s=>__(e,s,{[n]:!1})[n]))}function mm(t,e,n){return ue(()=>t.reduce((s,r)=>{const i=__(e,r,{[n]:!1})[n]||[];return s.concat(i)},[]))}function w_(t,e,n,s){return t.call(s,y(e),y(n),s)}function b_(t){return t.$valid!==void 0?!t.$valid:!t}function wU(t,e,n,s,r,i,o){let{$lazy:a,$rewardEarly:l}=r,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8?arguments[8]:void 0,h=arguments.length>9?arguments[9]:void 0,f=arguments.length>10?arguments[10]:void 0;const p=M(!!s.value),m=M(0);n.value=!1;const A=ct([e,s].concat(c,f),()=>{if(a&&!s.value||l&&!h.value&&!n.value)return;let v;try{v=w_(t,e,u,o)}catch(w){v=Promise.reject(w)}m.value++,n.value=!!m.value,p.value=!1,Promise.resolve(v).then(w=>{m.value--,n.value=!!m.value,i.value=w,p.value=b_(w)}).catch(w=>{m.value--,n.value=!!m.value,i.value=w,p.value=!0})},{immediate:!0,deep:typeof e=="object"});return{$invalid:p,$unwatch:A}}function bU(t,e,n,s,r,i,o,a){let{$lazy:l,$rewardEarly:c}=s;const u=()=>({}),h=ue(()=>{if(l&&!n.value||c&&!a.value)return!1;let f=!0;try{const p=w_(t,e,o,i);r.value=p,f=b_(p)}catch(p){r.value=p}return f});return{$unwatch:u,$invalid:h}}function EU(t,e,n,s,r,i,o,a,l,c,u){const h=M(!1),f=t.$params||{},p=M(null);let m,A;t.$async?{$invalid:m,$unwatch:A}=wU(t.$validator,e,h,n,s,p,r,t.$watchTargets,l,c,u):{$invalid:m,$unwatch:A}=bU(t.$validator,e,n,s,p,r,l,c);const v=t.$message;return{$message:sl(v)?ue(()=>v(pm({$pending:h,$invalid:m,$params:pm(f),$model:e,$response:p,$validator:i,$propertyPath:a,$property:o}))):v||"",$params:f,$pending:h,$invalid:m,$response:p,$unwatch:A}}function IU(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=y(t),n=Object.keys(e),s={},r={},i={};let o=null;return n.forEach(a=>{const l=e[a];switch(!0){case sl(l.$validator):s[a]=l;break;case sl(l):s[a]={$validator:l};break;case a==="$validationGroups":o=l;break;case a.startsWith("$"):i[a]=l;break;default:r[a]=l}}),{rules:s,nestedValidators:r,config:i,validationGroups:o}}const CU="__root";function SU(t,e,n,s,r,i,o,a,l){const c=Object.keys(t),u=s.get(r,t),h=M(!1),f=M(!1),p=M(0);if(u){if(!u.$partial)return u;u.$unwatch(),h.value=u.$dirty.value}const m={$dirty:h,$path:r,$touch:()=>{h.value||(h.value=!0)},$reset:()=>{h.value&&(h.value=!1)},$commit:()=>{}};return c.length?(c.forEach(A=>{m[A]=EU(t[A],e,m.$dirty,i,o,A,n,r,l,f,p)}),m.$externalResults=ue(()=>a.value?[].concat(a.value).map((A,v)=>({$propertyPath:r,$property:n,$validator:"$externalResults",$uid:`${r}-externalResult-${v}`,$message:A,$params:{},$response:null,$pending:!1})):[]),m.$invalid=ue(()=>{const A=c.some(v=>y(m[v].$invalid));return f.value=A,!!m.$externalResults.value.length||A}),m.$pending=ue(()=>c.some(A=>y(m[A].$pending))),m.$error=ue(()=>m.$dirty.value?m.$pending.value||m.$invalid.value:!1),m.$silentErrors=ue(()=>c.filter(A=>y(m[A].$invalid)).map(A=>{const v=m[A];return Ns({$propertyPath:r,$property:n,$validator:A,$uid:`${r}-${A}`,$message:v.$message,$params:v.$params,$response:v.$response,$pending:v.$pending})}).concat(m.$externalResults.value)),m.$errors=ue(()=>m.$dirty.value?m.$silentErrors.value:[]),m.$unwatch=()=>c.forEach(A=>{m[A].$unwatch()}),m.$commit=()=>{f.value=!0,p.value=Date.now()},s.set(r,t,m),m):(u&&s.set(r,t,m),m)}function kU(t,e,n,s,r,i,o){const a=Object.keys(t);return a.length?a.reduce((l,c)=>(l[c]=Ku({validations:t[c],state:e,key:c,parentKey:n,resultsCache:s,globalConfig:r,instance:i,externalResults:o}),l),{}):{}}function TU(t,e,n){const s=ue(()=>[e,n].filter(m=>m).reduce((m,A)=>m.concat(Object.values(y(A))),[])),r=ue({get(){return t.$dirty.value||(s.value.length?s.value.every(m=>m.$dirty):!1)},set(m){t.$dirty.value=m}}),i=ue(()=>{const m=y(t.$silentErrors)||[],A=s.value.filter(v=>(y(v).$silentErrors||[]).length).reduce((v,w)=>v.concat(...w.$silentErrors),[]);return m.concat(A)}),o=ue(()=>{const m=y(t.$errors)||[],A=s.value.filter(v=>(y(v).$errors||[]).length).reduce((v,w)=>v.concat(...w.$errors),[]);return m.concat(A)}),a=ue(()=>s.value.some(m=>m.$invalid)||y(t.$invalid)||!1),l=ue(()=>s.value.some(m=>y(m.$pending))||y(t.$pending)||!1),c=ue(()=>s.value.some(m=>m.$dirty)||s.value.some(m=>m.$anyDirty)||r.value),u=ue(()=>r.value?l.value||a.value:!1),h=()=>{t.$touch(),s.value.forEach(m=>{m.$touch()})},f=()=>{t.$commit(),s.value.forEach(m=>{m.$commit()})},p=()=>{t.$reset(),s.value.forEach(m=>{m.$reset()})};return s.value.length&&s.value.every(m=>m.$dirty)&&h(),{$dirty:r,$errors:o,$invalid:a,$anyDirty:c,$error:u,$pending:l,$touch:h,$reset:p,$silentErrors:i,$commit:f}}function Ku(t){let{validations:e,state:n,key:s,parentKey:r,childResults:i,resultsCache:o,globalConfig:a={},instance:l,externalResults:c}=t;const u=r?`${r}.${s}`:s,{rules:h,nestedValidators:f,config:p,validationGroups:m}=IU(e),A=fs(fs({},a),p),v=s?ue(()=>{const Oe=y(n);return Oe?y(Oe[s]):void 0}):n,w=fs({},y(c)||{}),S=ue(()=>{const Oe=y(c);return s?Oe?y(Oe[s]):void 0:Oe}),E=SU(h,v,s,o,u,A,l,S,n),R=kU(f,v,u,o,A,l,S),X={};m&&Object.entries(m).forEach(Oe=>{let[pt,Qe]=Oe;X[pt]={$invalid:Wc(Qe,R,"$invalid"),$error:Wc(Qe,R,"$error"),$pending:Wc(Qe,R,"$pending"),$errors:mm(Qe,R,"$errors"),$silentErrors:mm(Qe,R,"$silentErrors")}});const{$dirty:oe,$errors:ge,$invalid:K,$anyDirty:ve,$error:ae,$pending:Le,$touch:He,$reset:bt,$silentErrors:kt,$commit:Ye}=TU(E,R,i),Se=s?ue({get:()=>y(v),set:Oe=>{oe.value=!0;const pt=y(n),Qe=y(c);Qe&&(Qe[s]=w[s]),st(pt[s])?pt[s].value=Oe:pt[s]=Oe}}):null;s&&A.$autoDirty&&ct(v,()=>{oe.value||He();const Oe=y(c);Oe&&(Oe[s]=w[s])},{flush:"sync"});async function be(){return He(),A.$rewardEarly&&(Ye(),await Wi()),await Wi(),new Promise(Oe=>{if(!Le.value)return Oe(!K.value);const pt=ct(Le,()=>{Oe(!K.value),pt()})})}function Te(Oe){return(i.value||{})[Oe]}function Zt(){st(c)?c.value=w:Object.keys(w).length===0?Object.keys(c).forEach(Oe=>{delete c[Oe]}):Object.assign(c,w)}return Ns(fs(fs(fs({},E),{},{$model:Se,$dirty:oe,$error:ae,$errors:ge,$invalid:K,$anyDirty:ve,$pending:Le,$touch:He,$reset:bt,$path:u||CU,$silentErrors:kt,$validate:be,$commit:Ye},i&&{$getResultsForChild:Te,$clearExternalResults:Zt,$validationGroups:X}),R))}class RU{constructor(){this.storage=new Map}set(e,n,s){this.storage.set(e,{rules:n,result:s})}checkRulesValidity(e,n,s){const r=Object.keys(s),i=Object.keys(n);return i.length!==r.length||!i.every(a=>r.includes(a))?!1:i.every(a=>n[a].$params?Object.keys(n[a].$params).every(l=>y(s[a].$params[l])===y(n[a].$params[l])):!0)}get(e,n){const s=this.storage.get(e);if(!s)return;const{rules:r,result:i}=s,o=this.checkRulesValidity(e,n,r),a=i.$unwatch?i.$unwatch:()=>({});return o?i:{$dirty:i.$dirty,$partial:!0,$unwatch:a}}}const ya={COLLECT_ALL:!0,COLLECT_NONE:!1},gm=Symbol("vuelidate#injectChildResults"),Am=Symbol("vuelidate#removeChildResults");function xU(t){let{$scope:e,instance:n}=t;const s={},r=M([]),i=ue(()=>r.value.reduce((u,h)=>(u[h]=y(s[h]),u),{}));function o(u,h){let{$registerAs:f,$scope:p,$stopPropagation:m}=h;m||e===ya.COLLECT_NONE||p===ya.COLLECT_NONE||e!==ya.COLLECT_ALL&&e!==p||(s[f]=u,r.value.push(f))}n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],o);function a(u){r.value=r.value.filter(h=>h!==u),delete s[u]}n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],a);const l=Xe(gm,[]);ws(gm,n.__vuelidateInjectInstances);const c=Xe(Am,[]);return ws(Am,n.__vuelidateRemoveInstances),{childResults:i,sendValidationResultsToParent:l,removeValidationResultsFromParent:c}}function E_(t){return new Proxy(t,{get(e,n){return typeof e[n]=="object"?E_(e[n]):ue(()=>e[n])}})}let vm=0;function DU(t,e){var n;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(s=t,t=void 0,e=void 0);let{$registerAs:r,$scope:i=ya.COLLECT_ALL,$stopPropagation:o,$externalResults:a,currentVueInstance:l}=s;const c=l||((n=hg())===null||n===void 0?void 0:n.proxy),u=c?c.$options:{};r||(vm+=1,r=`_vuelidate_${vm}`);const h=M({}),f=new RU,{childResults:p,sendValidationResultsToParent:m,removeValidationResultsFromParent:A}=c?xU({$scope:i,instance:c}):{childResults:M({})};if(!t&&u.validations){const v=u.validations;e=M({}),id(()=>{e.value=c,ct(()=>sl(v)?v.call(e.value,new E_(e.value)):v,w=>{h.value=Ku({validations:w,state:e,childResults:p,resultsCache:f,globalConfig:s,instance:c,externalResults:a||c.vuelidateExternalResults})},{immediate:!0})}),s=u.validationsConfig||s}else{const v=st(t)||_U(t)?t:Ns(t||{});ct(v,w=>{h.value=Ku({validations:w,state:e,childResults:p,resultsCache:f,globalConfig:s,instance:c??{},externalResults:a})},{immediate:!0})}return c&&(m.forEach(v=>v(h,{$registerAs:r,$scope:i,$stopPropagation:o})),od(()=>A.forEach(v=>v(r)))),ue(()=>fs(fs({},y(h.value)),p.value))}const Uh=t=>{if(t=y(t),Array.isArray(t))return!!t.length;if(t==null)return!1;if(t===!1)return!0;if(t instanceof Date)return!isNaN(t.getTime());if(typeof t=="object"){for(let e in t)return!0;return!1}return!!String(t).length},OU=t=>(t=y(t),Array.isArray(t)?t.length:typeof t=="object"?Object.keys(t).length:String(t).length);function Er(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return s=>(s=y(s),!Uh(s)||e.every(r=>(r.lastIndex=0,r.test(s))))}Er(/^[a-zA-Z]*$/);Er(/^[a-zA-Z0-9]*$/);Er(/^\d*(\.\d+)?$/);const NU=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var PU=Er(NU),MU={$validator:PU,$message:"Value is not a valid email address",$params:{type:"email"}};function UU(t){return e=>!Uh(e)||OU(e)>=y(t)}function LU(t){return{$validator:UU(t),$message:e=>{let{$params:n}=e;return`This field should be at least ${n.min} characters long`},$params:{min:t,type:"minLength"}}}function BU(t){return typeof t=="string"&&(t=t.trim()),Uh(t)}var $n={$validator:BU,$message:"Value is required",$params:{type:"required"}};const FU=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;Er(FU);Er(/(^[0-9]*$)|(^-[0-9]+$)/);Er(/^[-]?\d*(\.\d+)?$/);const W=t=>(Ge("data-v-5684514f"),t=t(),ze(),t),VU=W(()=>d("section",{class:"row"},[d("h2",{class:"ms-3"},"Tus Datos")],-1)),jU={class:"mb-3"},$U=W(()=>d("label",{for:"nombre"},"Nombre:",-1)),qU={key:0,class:"text-danger"},HU={class:"mb-3"},KU=W(()=>d("label",{for:"apellido"},"Apellido:",-1)),JU={key:0,class:"text-danger"},QU={class:"mb-3"},WU=W(()=>d("label",{for:"email"},"Email:",-1)),GU={key:0,class:"text-danger"},zU={class:"mb-3"},YU=W(()=>d("label",{for:"password"},"Contraseña:",-1)),XU={key:0,class:"text-danger"},ZU={class:"mb-3"},eL=W(()=>d("label",{for:"nacimiento"},"Fecha de nacimiento:",-1)),tL={key:0,class:"text-danger"},nL={class:"mb-3"},sL=W(()=>d("label",{for:"genero"},"Genero:",-1)),rL=W(()=>d("option",{value:"",disabled:""},"Género",-1)),iL=W(()=>d("option",{value:"Masculino"},"Masculino",-1)),oL=W(()=>d("option",{value:"Femenino"},"Femenino",-1)),aL=[rL,iL,oL],lL={key:0,class:"text-danger"},cL={class:"mb-3"},uL=W(()=>d("label",{for:"barrio"},"Barrio:",-1)),dL=W(()=>d("option",{value:"",disabled:""},"Barrio",-1)),hL=W(()=>d("option",{value:"Agronomia"},"Agronomia",-1)),fL=W(()=>d("option",{value:"Almagro"},"Almagro",-1)),pL=W(()=>d("option",{value:"Balvanera"},"Balvanera",-1)),mL=W(()=>d("option",{value:"Barracas"},"Barracas",-1)),gL=W(()=>d("option",{value:"Belgrano"},"Belgrano",-1)),AL=W(()=>d("option",{value:"Boedo"},"Boedo",-1)),vL=W(()=>d("option",{value:"Caballito"},"Caballito",-1)),yL=W(()=>d("option",{value:"Chacarita"},"Chacarita",-1)),_L=W(()=>d("option",{value:"Coghlan"},"Coghlan",-1)),wL=W(()=>d("option",{value:"Colegiales"},"Colegiales",-1)),bL=W(()=>d("option",{value:"Constitución"},"Constitución",-1)),EL=W(()=>d("option",{value:"Flores"},"Flores",-1)),IL=W(()=>d("option",{value:"Floresta"},"Floresta",-1)),CL=W(()=>d("option",{value:"La Boca"},"La Boca",-1)),SL=W(()=>d("option",{value:"La Paternal"},"La Paternal",-1)),kL=W(()=>d("option",{value:"Liniers"},"Liniers",-1)),TL=W(()=>d("option",{value:"Mataderos"},"Mataderos",-1)),RL=W(()=>d("option",{value:"Monte Castro"},"Monte Castro",-1)),xL=W(()=>d("option",{value:"Montserrat"},"Montserrat",-1)),DL=W(()=>d("option",{value:"Nueva Pompeya"},"Nueva Pompeya",-1)),OL=W(()=>d("option",{value:"Nuñez"},"Nuñez",-1)),NL=W(()=>d("option",{value:"Palermo"},"Palermo",-1)),PL=W(()=>d("option",{value:"Parque Avellaneda"},"Parque Avellaneda",-1)),ML=W(()=>d("option",{value:"Parque Chacabuco"},"Parque Chacabuco",-1)),UL=W(()=>d("option",{value:"Parque Chas"},"Parque Chas",-1)),LL=W(()=>d("option",{value:"Parque Patricios"},"Parque Patricios",-1)),BL=W(()=>d("option",{value:"Puerto Madero"},"Puerto Madero",-1)),FL=W(()=>d("option",{value:"Recoleta"},"Recoleta",-1)),VL=W(()=>d("option",{value:"Retiro"},"Retiro",-1)),jL=W(()=>d("option",{value:"Saavedra"},"Saavedra",-1)),$L=W(()=>d("option",{value:"San Cristóbal"},"San Cristóbal",-1)),qL=W(()=>d("option",{value:"San Nicolás"},"San Nicolás",-1)),HL=W(()=>d("option",{value:"San Telmo"},"San Telmo",-1)),KL=W(()=>d("option",{value:"Versalles"},"Versalles",-1)),JL=W(()=>d("option",{value:"Villa Crespo"},"Villa Crespo",-1)),QL=W(()=>d("option",{value:"Villa Devoto"},"Villa Devoto",-1)),WL=W(()=>d("option",{value:"Villa General Mitre"},"Villa General Mitre",-1)),GL=W(()=>d("option",{value:"Villa Lugano"},"Villa Lugano",-1)),zL=W(()=>d("option",{value:"Villa Luro"},"Villa Luro",-1)),YL=W(()=>d("option",{value:"Villa Ortúzar"},"Villa Ortúzar",-1)),XL=W(()=>d("option",{value:"Villa Pueyrredón"},"Villa Pueyrredón",-1)),ZL=W(()=>d("option",{value:"Villa Real"},"Villa Real",-1)),eB=W(()=>d("option",{value:"Villa Riachuelo"},"Villa Riachuelo",-1)),tB=W(()=>d("option",{value:"Villa Santa Rita"},"Villa Santa Rita",-1)),nB=W(()=>d("option",{value:"Villa Soldati"},"Villa Soldati",-1)),sB=W(()=>d("option",{value:"Villa Urquiza"},"Villa Urquiza",-1)),rB=W(()=>d("option",{value:"Vélez Sarsfield"},"Velez Sarsfield",-1)),iB=[dL,hL,fL,pL,mL,gL,AL,vL,yL,_L,wL,bL,EL,IL,CL,SL,kL,TL,RL,xL,DL,OL,NL,PL,ML,UL,LL,BL,FL,VL,jL,$L,qL,HL,KL,JL,QL,WL,GL,zL,YL,XL,ZL,eB,tB,nB,sB,rB],oB={key:0,class:"text-danger"},aB={class:"mb-3"},lB=W(()=>d("label",{for:"telefono"},"Telefono:",-1)),cB={key:0,class:"text-danger"},uB={class:"mb-3 row d-flex align-items-center"},dB={class:"col-2"},hB={class:"col-10"},fB={class:"m-0"},pB={key:0,class:"text-danger"},mB={__name:"Register",setup(t){function e(){const l=In(),c=M({email:"",password:"",nombre:"",apellido:"",nacimiento:"",genero:"",comentario:"",barrio:"",telefono:"",terminos:!1}),u=M(!1);async function h(){a.value=!0,o.value.$touch(),!o.value.$invalid&&(u.value=!0,await ax({...c.value}),l.push("/home"),u.value=!1)}return{fields:c,loading:u,handleSubmit:h}}const{fields:n,loading:s,handleSubmit:r}=e(),i={nombre:{required:$n},apellido:{required:$n},email:{required:$n,email:MU},password:{required:$n,minLength:LU(8)},nacimiento:{required:$n},genero:{required:$n},barrio:{required:$n},telefono:{required:$n},terminos:{required:$n}},o=DU(i,n),a=M(!1);return(l,c)=>(C(),T(se,null,[b(Xt,{route:"/iniciar-sesion",title:"Registrarme"}),b(Vt,null,{default:j(()=>[VU,d("form",{onSubmit:c[18]||(c[18]=En((...u)=>y(r)&&y(r)(...u),["prevent"]))},[d("div",jU,[$U,b(mt,{class:Ue(y(o).nombre.$error?"inputError":""),type:"text",name:"nombre",id:"nombre",placeholder:"Nombre",modelValue:y(n).nombre,"onUpdate:modelValue":c[0]||(c[0]=u=>y(n).nombre=u),onBlur:c[1]||(c[1]=u=>y(o).nombre.$touch())},null,8,["class","modelValue"]),y(o).nombre.$error?(C(),T("span",qU,"Por favor, ingrese un nombre.")):xe("",!0)]),d("div",HU,[KU,b(mt,{class:Ue(y(o).apellido.$error?"inputError":""),type:"text",name:"apellido",id:"apellido",placeholder:"Apellido",modelValue:y(n).apellido,"onUpdate:modelValue":c[2]||(c[2]=u=>y(n).apellido=u),onBlur:c[3]||(c[3]=u=>y(o).apellido.$touch())},null,8,["class","modelValue"]),y(o).apellido.$error?(C(),T("span",JU,"Por favor, ingrese un apellido.")):xe("",!0)]),d("div",QU,[WU,b(mt,{class:Ue((y(o).email.$error,"")),type:"email",name:"email",id:"email",placeholder:"E-mail",modelValue:y(n).email,"onUpdate:modelValue":c[4]||(c[4]=u=>y(n).email=u),onBlur:c[5]||(c[5]=u=>y(o).email.$touch())},null,8,["class","modelValue"]),y(o).email.$error?(C(),T("span",GU,"Por favor, ingrese un correo electrónico válido.")):xe("",!0)]),d("div",zU,[YU,b(mt,{class:Ue((y(o).password.$error,"")),type:"password",name:"password",id:"password",placeholder:"Contraseña",modelValue:y(n).password,"onUpdate:modelValue":c[6]||(c[6]=u=>y(n).password=u),onBlur:c[7]||(c[7]=u=>y(o).password.$touch())},null,8,["class","modelValue"]),y(o).password.$error?(C(),T("span",XU,"La contraseña es obligatoria y debe tener al menos 8 caracteres.")):xe("",!0)]),d("div",ZU,[eL,b(mt,{class:Ue((y(o).nacimiento.$error,"")),type:"date",name:"nacimiento",id:"nacimiento",placeholder:"Nacimiento",modelValue:y(n).nacimiento,"onUpdate:modelValue":c[8]||(c[8]=u=>y(n).nacimiento=u),onBlur:c[9]||(c[9]=u=>y(o).nacimiento.$touch())},null,8,["class","modelValue"]),y(o).nacimiento.$error?(C(),T("span",tL,"Por favor, ingrese una fecha de nacimiento.")):xe("",!0)]),d("div",nL,[sL,at(d("select",{name:"genero",id:"genero","onUpdate:modelValue":c[10]||(c[10]=u=>y(n).genero=u),onBlur:c[11]||(c[11]=u=>y(o).genero.$touch()),class:Ue((y(o).genero.$error,""))},aL,34),[[zs,y(n).genero]]),y(o).genero.$error?(C(),T("span",lL,"Por favor, seleccione una opción.")):xe("",!0)]),d("div",cL,[uL,at(d("select",{name:"barrio",id:"barrio","onUpdate:modelValue":c[12]||(c[12]=u=>y(n).barrio=u),onBlur:c[13]||(c[13]=u=>y(o).barrio.$touch()),class:Ue((y(o).barrio.$error,""))},iB,34),[[zs,y(n).barrio]]),y(o).barrio.$error?(C(),T("span",oB,"Por favor, seleccione un barrio.")):xe("",!0)]),d("div",aB,[lB,b(mt,{class:Ue((y(o).telefono.$error,"")),type:"text",name:"telefono",id:"telefono",placeholder:"Teléfono",modelValue:y(n).telefono,"onUpdate:modelValue":c[14]||(c[14]=u=>y(n).telefono=u),onBlur:c[15]||(c[15]=u=>y(o).telefono.$touch())},null,8,["class","modelValue"]),y(o).telefono.$error?(C(),T("span",cB,"Por favor, ingrese un número de teléfono.")):xe("",!0)]),d("div",uB,[d("div",dB,[b(mt,{type:"checkbox",name:"terminos",id:"terminos",modelValue:y(n).terminos,"onUpdate:modelValue":c[16]||(c[16]=u=>y(n).terminos=u),onBlur:c[17]||(c[17]=u=>y(o).terminos.$touch())},null,8,["modelValue"])]),d("div",hB,[d("p",fB,[ce(" Acepto los "),b(y(u_),{to:"/terminos"},{default:j(()=>[ce("términos y condiciones")]),_:1}),ce(" de uso. ")])]),y(o).terminos.$error?(C(),T("span",pB,"Por favor, acepte los términos y condiciones para continuar.")):xe("",!0)]),b(gr,{full:"",class:"mb-3 fw-semibold text-white"},{default:j(()=>[ce("REGISTRARME")]),_:1})],32)]),_:1})],64))}},gB=me(mB,[["__scopeId","data-v-5684514f"]]),AB={},vB={class:"d-block mb-2"};function yB(t,e){return C(),T("label",vB,[gl(t.$slots,"default")])}const un=me(AB,[["render",yB]]);const _B=t=>(Ge("data-v-d485e1fa"),t=t(),ze(),t),wB={class:"row d-flex"},bB={class:"col-12 mb-3 d-flex justify-content-center"},EB={class:"col-12"},IB={class:"mb-3"},CB={class:"mb-3"},SB={class:"mb-3"},kB={class:"mb-3"},TB={class:"mb-3"},RB={class:"mb-3"},xB={class:"estrellas-editables"},DB=["onClick"],OB={class:"mb-3"},NB={class:"mb-3"},PB={class:"mb-3"},MB={class:"mb-3"},UB={class:"mb-3"},LB={key:0,class:"mb-3"},BB=_B(()=>d("p",{class:"mb-3 fw-bold"},"Previsualización de la imagen:",-1)),FB=["src"],VB={__name:"UserProfileForm",setup(t){const{user:e}=ht(),{form:n,loading:s,handleSubmit:r,handleFile:i}=c(e),{feedback:o,setFeedbackMessage:a,clearFeedbackMessage:l}=Xe(is);function c(u){const h=M({displayName:"",nombre:"",apellido:"",email:"",nacimiento:"",followers:[],following:[],genero:"",barrio:"",telefono:"",photoURL:null,valoracion:0,comentario:""}),f=M(!1);M({message:"",type:"success",title:""}),ct(u,A=>{h.value.displayName=A.displayName,h.value.nombre=A.nombre,h.value.apellido=A.apellido,h.value.email=A.email,h.value.nacimiento=A.nacimiento,h.value.followers=A.followers,h.value.following=A.following,h.value.valoracion=A.valoracion,h.value.comentario=A.comentario,h.value.genero=A.genero,h.value.barrio=A.barrio,h.value.telefono=A.telefono});async function p(){f.value=!0;try{l(),console.log("Valores en form:",h.value),await Hy(u.value.id,{...h.value}),f.value=!1,h.value.photoURL=null,a({type:"success",message:"La información de tu perfil fue actualizada con éxito."});const A=new CustomEvent("profile-updated");window.dispatchEvent(A)}catch(A){console.error("[MyProfile handleSubmit]",A),a({type:"error",message:"Ocurrió un error inesperado al tratar de actualizar la información de tu perfil."})}}async function m(A){const v=A.target.files[0],w=new FileReader;w.addEventListener("load",()=>{h.value.photoURL=w.result}),w.readAsDataURL(v)}return{form:h,loading:f,handleSubmit:p,handleFile:m}}return(u,h)=>(C(),T("div",wB,[d("div",bB,[b(on,{src:y(e).photoURL},null,8,["src"])]),d("div",EB,[d("form",{action:"#",method:"POST",onSubmit:h[9]||(h[9]=En((...f)=>y(r)&&y(r)(...f),["prevent"]))},[d("div",IB,[b(un,{for:"displayName",class:"me-3 fw-bold"},{default:j(()=>[ce("Nombre de Usuario: ")]),_:1}),b(mt,{id:"displayName",modelValue:y(n).displayName,"onUpdate:modelValue":h[0]||(h[0]=f=>y(n).displayName=f)},null,8,["modelValue"])]),d("div",CB,[b(un,{for:"nombre",class:"me-3 fw-bold"},{default:j(()=>[ce("Nombre: ")]),_:1}),b(mt,{id:"nombre",modelValue:y(n).nombre,"onUpdate:modelValue":h[1]||(h[1]=f=>y(n).nombre=f)},null,8,["modelValue"])]),d("div",SB,[b(un,{for:"apellido",class:"me-3 fw-bold"},{default:j(()=>[ce("Apellido: ")]),_:1}),b(mt,{id:"apellido",modelValue:y(n).apellido,"onUpdate:modelValue":h[2]||(h[2]=f=>y(n).apellido=f)},null,8,["modelValue"])]),d("div",kB,[b(un,{for:"email",class:"me-3 fw-bold"},{default:j(()=>[ce("Email: ")]),_:1}),b(mt,{id:"Email",modelValue:y(n).email,"onUpdate:modelValue":h[3]||(h[3]=f=>y(n).email=f)},null,8,["modelValue"])]),d("div",TB,[b(un,{for:"nacimiento",class:"me-3 fw-bold"},{default:j(()=>[ce("Fecha de Nacimiento: ")]),_:1}),b(mt,{type:"date",id:"nacimiento",modelValue:y(n).nacimiento,"onUpdate:modelValue":h[4]||(h[4]=f=>y(n).nacimiento=f)},null,8,["modelValue"])]),d("div",RB,[b(un,{class:"me-3 fw-bold"},{default:j(()=>[ce("Valoración (1 a 5):")]),_:1}),d("div",xB,[(C(),T(se,null,vt(5,f=>d("span",{key:f,class:Ue(["estrella",{activa:f<=y(n).valoracion}]),onClick:p=>y(n).valoracion=f},"★",10,DB)),64))])]),d("div",OB,[b(un,{for:"comentario",class:"me-3 fw-bold"},{default:j(()=>[ce("Comentario:")]),_:1}),at(d("textarea",{id:"comentario","onUpdate:modelValue":h[5]||(h[5]=f=>y(n).comentario=f),rows:"3",class:"form-control",placeholder:"¿Qué tipo de jugador sos?"},null,512),[[Gn,y(n).comentario]])]),d("div",NB,[b(un,{for:"genero",class:"me-3 fw-bold"},{default:j(()=>[ce("Genero: ")]),_:1}),b(mt,{id:"genero",modelValue:y(n).genero,"onUpdate:modelValue":h[6]||(h[6]=f=>y(n).genero=f)},null,8,["modelValue"])]),d("div",PB,[b(un,{for:"barrio",class:"me-3 fw-bold"},{default:j(()=>[ce("Barrio: ")]),_:1}),b(mt,{id:"barrio",modelValue:y(n).barrio,"onUpdate:modelValue":h[7]||(h[7]=f=>y(n).barrio=f)},null,8,["modelValue"])]),d("div",MB,[b(un,{for:"telefono",class:"me-3 fw-bold"},{default:j(()=>[ce("Teléfono: ")]),_:1}),b(mt,{id:"telefono",modelValue:y(n).telefono,"onUpdate:modelValue":h[8]||(h[8]=f=>y(n).telefono=f)},null,8,["modelValue"])]),d("div",UB,[b(un,{for:"photoURL",class:"fw-bold"},{default:j(()=>[ce("Foto de Perfil: ")]),_:1}),b(mt,{type:"file",id:"photoURL",onChange:y(i)},null,8,["onChange"])]),y(n).photoURL!==null?(C(),T("div",LB,[BB,d("img",{src:y(n).photoURL,alt:"Previsualización foto de perfil",class:"w-100"},null,8,FB)])):xe("",!0),b(gr,{class:"btn btn-primary w-100"},{default:j(()=>[b(y_,{loading:y(s)},{default:j(()=>[ce(" Actualizar mis datos ")]),_:1},8,["loading"])]),_:1})],32)])]))}},jB=me(VB,[["__scopeId","data-v-d485e1fa"]]),$B="/assets/lapiz-c0a7bbac.png",qB={class:"row d-flex"},HB={class:"col-12"},KB=["onSubmit"],JB={class:"mb-3"},QB={key:0,class:"mb-3"},WB=d("p",{class:"mb-3 fw-bold"},"Previsualización de la imagen:",-1),GB={class:"d-grid gap-2 d-md-flex justify-content-md-center mt-3"},zB={__name:"changePhoto",emits:["photoUpdated"],setup(t,{emit:e}){const{user:n}=ht(),{setFeedbackMessage:s,clearFeedbackMessage:r}=Xe(is),i=M({displayName:"",nombre:"",apellido:"",email:"",nacimiento:"",followers:[],following:[],nivel:"",genero:"",barrio:"",telefono:"",photoURL:null});ct(n,u=>{i.value.displayName=u.displayName,i.value.nombre=u.nombre,i.value.apellido=u.apellido,i.value.email=u.email,i.value.nacimiento=u.nacimiento,i.value.followers=u.followers,i.value.following=u.following,i.value.valoracion=u.valoracion,i.value.comentario=u.comentario,i.value.genero=u.genero,i.value.barrio=u.barrio,i.value.telefono=u.telefono});const o=M(!1);async function a(){o.value=!0;try{r(),console.log("Valores en form:",i.value),await Hy(n.value.id,{...i.value}),s({type:"success",message:"La foto de perfil fue actualizada con éxito."}),i.value.photoURL=null,e("photoUpdated",!0)}catch(u){console.error("[handleSubmit] Error al actualizar la foto de perfil",u),s({type:"error",message:"Ocurrió un error inesperado al tratar de actualizar la foto de perfil."})}finally{o.value=!1}}async function l(u){const h=u.target.files[0],f=new FileReader;f.addEventListener("load",()=>{i.value.photoURL=f.result}),f.readAsDataURL(h)}function c(){}return(u,h)=>(C(),T("div",qB,[d("div",HB,[d("form",{onSubmit:En(a,["prevent"])},[d("div",JB,[b(un,{for:"photoURL",class:"fw-bold"},{default:j(()=>[ce("Foto de Perfil: ")]),_:1}),b(mt,{type:"file",id:"photoURL",onChange:l})]),i.value.photoURL!==null?(C(),T("div",QB,[WB,b(on,{src:i.value.photoURL,alt:"Previsualización foto de perfil",class:"w-100"},null,8,["src"])])):xe("",!0),d("div",GB,[b(gr,{class:"btn btn-primary w-100",onClick:c},{default:j(()=>[ce(" Actualizar mi foto ")]),_:1})])],40,KB)])]))}};const ln=t=>(Ge("data-v-4ff23401"),t=t(),ze(),t),YB={class:"row"},XB={class:"col-12 mb-3"},ZB={class:"d-flex justify-content-center mb-3"},eF=ln(()=>d("img",{src:$B,alt:"icono lapiz"},null,-1)),tF=ln(()=>d("button",null,"Editar foto.",-1)),nF=[eF,tF],sF={class:"h2 text-center m-0"},rF={class:"col-12 mb-3"},iF={class:"row"},oF={class:"col-6 mt-3"},aF={class:"text-center fw-bold"},lF=ln(()=>d("p",{class:"text-center fw-bold"},"Seguidores",-1)),cF={class:"col-6 mt-3"},uF={class:"text-center fw-bold"},dF=ln(()=>d("p",{class:"text-center fw-bold"},"Siguiendo",-1)),hF={class:"row"},fF={key:0,class:"d-grid gap-2 col-6"},pF={class:"d-grid gap-2 col-6"},mF={class:"col-12 mt-3"},gF={class:"d-flex flex-column justify-content-center ps-3"},AF=ln(()=>d("dt",{class:"fw-light"},"NOMBRE DE USUARIO",-1)),vF={class:"mb-3 fw-bold"},yF=ln(()=>d("dt",{class:"fw-light"},"NOMBRE",-1)),_F={class:"mb-3 fw-bold"},wF=ln(()=>d("dt",{class:"fw-light"},"APELLIDO",-1)),bF={class:"mb-3 fw-bold"},EF=ln(()=>d("dt",{class:"fw-light"},"EMAIL",-1)),IF={class:"mb-3 fw-bold"},CF=ln(()=>d("dt",{class:"fw-light"},"FECHA DE NACIMIENTO",-1)),SF={class:"mb-3 fw-bold"},kF=ln(()=>d("b",{style:{color:"var(--primary-color)"}},">>",-1)),TF={class:"estrellas"},RF={class:"promedio"},xF={class:"mb-1 text-muted"},DF={class:"comentario"},OF=ln(()=>d("dt",{class:"fw-light"},"GÉNERO",-1)),NF={class:"mb-3 fw-bold"},PF=ln(()=>d("dt",{class:"fw-light"},"BARRIO",-1)),MF={class:"mb-3 fw-bold"},UF=ln(()=>d("dt",{class:"fw-light"},"TELÉFONO",-1)),LF={class:"mb-3 fw-bold"},BF={__name:"UserProfileData",props:{user:{type:Object,required:!0},totalSeguidores:{type:Number,default:0},totalSiguiendo:{type:Number,default:0},seguirDejarSeguir:{type:Function},userFollowing:{type:Boolean},mostrarBoton:{type:Boolean,default:!0},loading:{type:Boolean},isMyProfile:{type:Boolean}},setup(t){const e=t,n=In(),s=M(!1);M([]);function r(){s.value=!s.value,console.log("cambiar foto")}dt(()=>{console.log(e)});function i(){Vh.push("/usuario/"+e.user.id+"/valorationList")}function o(u){console.log(u?"Foto de perfil actualizada con éxito":"Error al actualizar la foto de perfil"),s.value=!1}const a=ue(()=>{const u=e.user.valoraciones||[];return u.length===0?0:u.reduce((f,p)=>f+p.estrellas,0)/u.length}),l=ue(()=>{const u=e.user.valoraciones||[];return u.length===0?null:[...u].sort((f,p)=>new Date(p.fecha)-new Date(f.fecha))[0]});function c(){n.push(`/usuario/${e.user.id}/chat`)}return(u,h)=>{var p;const f=Jt("router-link");return C(),T("div",YB,[d("div",XB,[d("div",ZB,[b(on,{src:t.user.photoURL},null,8,["src"])]),e.isMyProfile?(C(),T("div",{key:0,class:"change_photo d-flex justify-content-center mb-3",onClick:r},nF)):xe("",!0),s.value?(C(),Kt(zB,{key:1,class:"mb-3",onPhotoUpdated:o})):xe("",!0),d("p",sF,F(t.user.nombre)+" "+F(t.user.apellido),1)]),d("div",rF,[d("div",iF,[d("div",oF,[b(f,{to:"/red/",class:"text-decoration-none text-dark"},{default:j(()=>[d("p",aF,F(t.totalSeguidores),1),lF]),_:1})]),d("div",cF,[b(f,{to:"/red/",class:"text-decoration-none text-dark"},{default:j(()=>[d("p",uF,F(t.totalSiguiendo),1),dF]),_:1})])]),d("div",hF,[e.isMyProfile?xe("",!0):(C(),T("div",fF,[t.mostrarBoton?(C(),T("button",{key:0,onClick:h[0]||(h[0]=(...m)=>t.seguirDejarSeguir&&t.seguirDejarSeguir(...m)),class:"button_top"},F(t.userFollowing?"Dejar de seguir":"Seguir"),1)):xe("",!0)])),d("div",pF,[d("button",{class:"button_top",onClick:h[1]||(h[1]=m=>c())},"Mensaje")])])]),d("div",mF,[d("dl",gF,[AF,d("dd",vF,F(t.user.displayName||"No especificado"),1),yF,d("dd",_F,F(t.user.nombre||"No especificado"),1),wF,d("dd",bF,F(t.user.apellido||"No especificado"),1),EF,d("dd",IF,F(t.user.email),1),CF,d("dd",SF,F(t.user.nacimiento),1),d("dt",{class:"fw-bold",onClick:h[2]||(h[2]=m=>i())},[ce(" VALORACIONES "),kF]),d("div",{class:"valoracion-general",onClick:h[3]||(h[3]=m=>i())},[d("div",TF,[(C(),T(se,null,vt(5,m=>d("span",{key:m,class:Ue(["estrella",{activa:m<=Math.round(y(a))}])},"★",2)),64)),d("span",RF,"("+F(y(a))+"/5)",1)]),d("div",xF,[d("p",DF,F(((p=y(l))==null?void 0:p.comentario)||"No especificado"),1)])]),OF,d("dd",NF,F(t.user.genero||"No especificado"),1),PF,d("dd",MF,F(t.user.barrio||"No especificado"),1),UF,d("dd",LF,F(t.user.telefono||"No especificado"),1)])])])}}},FF=me(BF,[["__scopeId","data-v-4ff23401"]]);async function I_(t){try{const e=De(fe,"users",t),n=await rn(e);if(n.exists()){const s=n.data().followers||[],r=[];for(const i of s){const o=await Bn(i);o&&r.push(o)}return r}else return console.error("[red.js obtenerSeguidores] El usuario no existe:",t),[]}catch(e){return console.error("[red.js obtenerSeguidores] Error:",e),[]}}async function C_(t){try{const e=De(fe,"users",t),n=await rn(e);if(n.exists()){const s=n.data().following||[],r=[];for(const i of s){const o=await Bn(i);o&&r.push(o)}return r}else return console.error("[red.js obtenerSiguiendo] El usuario no existe:",t),[]}catch(e){return console.error("[red.js obtenerSiguiendo] Error:",e),[]}}async function VF(t,e){try{const n=De(fe,"users",t),s=De(fe,"users",e);await Ft(n,{following:Qa(e)}),await Ft(s,{followers:Qa(t)});const r=await Bn(t);if(r){const i=`${r.displayName||r.name} te ha empezado a seguir`;await hc(e,i,"seguir",t,`/usuario/${t}`)}return console.log("[red.js seguirUsuario] Usuario seguido con éxito:",e),await Bn(e)}catch(n){console.error("[red.js seguirUsuario] Error al seguir usuario:",n)}}async function jF(t,e){try{const n=De(fe,"users",t),s=De(fe,"users",e);return await Ft(n,{following:Lu(e)}),await Ft(s,{followers:Lu(t)}),console.log("[red.js dejarDeSeguirUsuario] Usuario dejado de seguir con éxito:",e),await Bn(e)}catch(n){console.error("[red.js dejarDeSeguirUsuario] Error al dejar de seguir usuario:",n)}}function S_(t){const e=M({id:null,email:null,displayName:null,photoURL:null,nombre:null,apellido:null,nacimiento:null,genero:null,nivel:null,barrio:null,telefono:null,terminos:!1,followers:[],following:[]}),n=M(!0);s();async function s(){const r=await Bn(t);e.value=r,e.value.photoURL=await lc(r.photoURL),n.value=!1}return{user:e,loading:n}}const $F={key:0,class:"my-3"},qF={class:"col-12"},HF={key:0,class:"my-3"},KF={__name:"UserProfile",setup(t){const e=Ls(),{user:n,loading:s}=S_(e.params.id),{user:r}=ht(),i=M(0),o=M(0),a=M(!1),l=M(!1),c=M(!1),u=async()=>{c.value=!c.value,c.value||await h()},h=async()=>{try{n.value.id===r.value.id?l.value=!0:l.value=!1;const p=await I_(n.value.id),m=await C_(n.value.id);i.value=p.length,o.value=m.length,a.value=p.some(A=>A.id===r.value.id)}catch(p){console.error("Error al obtener seguidores y siguiendo:",p)}};dt(async()=>{n.value.id&&r.value&&await h()}),ct([n,r],async()=>{n.value.id&&r.value&&await h()},{immediate:!0,flush:"post"}),ct(c,async()=>{},{flush:"post"}),ct(a,async()=>{n.value.id&&r.value&&await h()},{flush:"post"});const f=async()=>{try{a.value?(await jF(r.value.id,n.value.id),a.value=!1):(await VF(r.value.id,n.value.id),a.value=!0),await h()}catch(p){console.error("Error al seguir/dejar de seguir usuario:",p)}};return(p,m)=>{var A,v;return C(),T(se,null,[y(s)?xe("",!0):(C(),Kt(Xt,{key:0,route:"/home",title:y(n)?((A=y(n))==null?void 0:A.displayName)||((v=y(n))==null?void 0:v.nombre):"perfil"},null,8,["title"])),b(Bs,{loading:y(s)},null,8,["loading"]),c.value?(C(),Kt(Vt,{key:1},{default:j(()=>[b(jB,{onProfileUpdated:h}),l.value?(C(),T("div",$F,[b(gr,{class:"btn btn-primary w-100",onClick:u},{default:j(()=>[ce(F(c.value?"Dejar de Editar":"Editar mi Perfil"),1)]),_:1})])):xe("",!0)]),_:1})):(C(),Kt(Vt,{key:2},{default:j(()=>[d("div",qF,[b(FF,{user:y(n),totalSeguidores:i.value,totalSiguiendo:o.value,seguirDejarSeguir:f,userFollowing:a.value,isMyProfile:l.value},null,8,["user","totalSeguidores","totalSiguiendo","userFollowing","isMyProfile"])]),l.value?(C(),T("div",HF,[b(gr,{class:"btn btn-primary w-100",onClick:u},{default:j(()=>[ce(F(c.value?"Dejar de Editar":"Editar mi Perfil"),1)]),_:1})])):xe("",!0)]),_:1}))],64)}}},JF=me(KF,[["__scopeId","data-v-00d50576"]]),k_={};async function QF(t,e,n){const s=await qi(t,e),r=jt(fe,"private-chats",s.id,"messages"),i=rs(r,sc("created_at"));return wr(i,o=>{const a=o.docs.map(l=>{var c;return{userId:l.data().userId,message:l.data().message,created_at:(c=l.data().created_at)==null?void 0:c.toDate()}});n(a)})}async function WF(t,e,n){var i,o;const s=await qi(t,e),r=jt(fe,"private-chats",s.id,"messages");await No(r,{userId:t,message:n,created_at:Po()});try{const l=(await rn(s)).data();if(!((i=l==null?void 0:l.presence)==null?void 0:i[e])){const h=((o=(await rn(De(fe,"users",t))).data())==null?void 0:o.displayName)||"Alguien";await hc(e,`${h} te ha enviado un mensaje`,"chat",t,`usuario/${t}/chat`)}}catch(a){console.error("Error al verificar la presencia o crear la notificación:",a)}return!0}async function qi(t,e){const n=YF(t,e);if(n)return n;const s=await GF(t,e)||await zF(t,e);return XF(t,e,s),s}async function GF(t,e){const n={[t]:!0,[e]:!0},s=rs(jt(fe,"private-chats"),Os("users","==",n),jv(1)),r=await hi(s);return r.empty?null:r.docs[0].ref}async function zF(t,e){return await No(jt(fe,"private-chats"),{users:{[t]:!0,[e]:!0},presence:{[t]:!1,[e]:!1}})}function T_(t,e){return t<e?t+e:e+t}function YF(t,e){return k_[T_(t,e)]||null}function XF(t,e,n){k_[T_(t,e)]=n}const ZF=["src"],eV={class:"col-10 d-flex justify-content-start title_chat"},tV={class:"image-container"},nV={class:"truncate-title"},sV={__name:"HeaderChat",props:{otherUser:{type:Object,required:!0},isOnline:Boolean,hasBackground:{type:Boolean,default:!0}},setup(t){const e=t,n=In();function s(){n.push("/chat")}return(r,i)=>(C(),T("div",{class:Ue(["row sectionHeader",{"with-background":e.hasBackground,"no-background":!e.hasBackground}])},[d("div",{class:"col-2",onClick:s},[d("img",{src:e.hasBackground?y(p_):y(mc),alt:"Volver"},null,8,ZF)]),d("div",eV,[d("div",tV,[b(on,{src:t.otherUser.photoURL},null,8,["src"])]),d("div",null,[d("h1",nV,F(t.otherUser.displayName||t.otherUser.nombre),1),d("span",{style:rl({color:e.hasBackground?"white":"black",fontSize:"0.8rem"})}," ● "+F(t.isOnline?"En línea":"Desconectado"),5)])])],2))}},rV=me(sV,[["__scopeId","data-v-df9c2fed"]]);const iV={class:"card-content"},oV={class:"m-0"},aV={key:0,class:"font-date"},lV={__name:"cardMessage",props:{message:Object,userName:String,messageClass:String},setup(t){function e(n){const s={hour:"2-digit",minute:"2-digit",hour12:!1};return new Intl.DateTimeFormat("es-AR",s).format(new Date(n))}return(n,s)=>(C(),T("div",{class:Ue(["card-message",t.messageClass])},[d("div",iV,[d("p",oV,F(t.message.message),1),t.message.created_at?(C(),T("div",aV,F(e(t.message.created_at)),1)):xe("",!0)])],2))}},cV=me(lV,[["__scopeId","data-v-85115c94"]]);const uV=t=>(Ge("data-v-beb1348c"),t=t(),ze(),t),dV={class:"mb-0"},hV={class:"chat-input bg-light p-2 border-top"},fV={class:"flex-grow-1 me-2"},pV=["disabled"],mV={key:0,class:"spinner-border spinner-border-sm text-light",role:"status"},gV=uV(()=>d("span",{class:"visually-hidden"},"Enviando…",-1)),AV=[gV],vV={key:1,class:"bi bi-send-fill"},yV={__name:"PrivateChat",setup(t){const e=Ls(),{user:n,loading:s}=S_(e.params.id),{user:r}=ht(),i=M(null),o=M(!1),{handleSubmit:a,fields:l,formLoading:c}=m(r,n),{messages:u,loading:h,chatId:f}=p(r,n);function p(v,w){const S=M(!0),E=M([]),R=M(null);let X=()=>{};ct(w,async ae=>{if(ae.id!=null){const Le=await qi(v.value.id,ae.id);R.value=Le.id,oe(),ve()}});async function oe(){X=await QF(v.value.id,w.value.id,ae=>{E.value=ae,S.value=!1,ge()})}function ge(){Wi(()=>{i.value.scrollTop=i.value.scrollHeight})}let K=()=>{};async function ve(){const ae=await qi(v.value.id,w.value.id),Le=De(fe,"private-chats",ae.id);K=wr(Le,He=>{var kt;const bt=((kt=He.data())==null?void 0:kt.presence)||{};o.value=bt[w.value.id]||!1})}return Un(()=>{X(),K()}),{loading:S,messages:E,chatId:R}}function m(v,w){const S=M(!1),E=M({message:""});async function R(){S.value=!0;try{await WF(v.value.id,w.value.id,E.value.message),S.value=!1,E.value.message=""}catch(X){console.error("[PrivateChat]",X)}}return{formLoading:S,fields:E,handleSubmit:R}}async function A(v){if(!r.value||!n.value)return;const w=await qi(r.value.id,n.value.id),S=De(fe,"private-chats",w.id);await Ft(S,{[`presence.${r.value.id}`]:v,[`users.${r.value.id}`]:!0,[`lastSeen.${r.value.id}`]:Po()})}return ct([r,n],async([v,w])=>{v!=null&&v.id&&(w!=null&&w.id)&&await A(!0)}),Un(async()=>{await A(!1)}),(v,w)=>(C(),T(se,null,[b(rV,{otherUser:y(n),isOnline:o.value},null,8,["otherUser","isOnline"]),b(Vt,null,{default:j(()=>[b(Bs,{loading:y(s)},null,8,["loading"]),d("div",{class:"messages-wrapper",ref_key:"messagesContainerRef",ref:i},[d("ul",dV,[(C(!0),T(se,null,vt(y(u),S=>(C(),T("li",{key:S.id,class:Ue(["mb-1",{"text-end":S.userId==y(r).id}])},[b(cV,{message:S,userName:S.userId===y(r).id?y(r).displayName||y(r).nombre:y(n).displayName||y(n).nombre,messageClass:S.userId===y(r).id?"message-sent":"message-received"},null,8,["message","userName","messageClass"])],2))),128))])],512),d("div",hV,[d("form",{onSubmit:w[1]||(w[1]=En((...S)=>y(a)&&y(a)(...S),["prevent"])),class:"d-flex align-items-end"},[d("div",fV,[at(d("textarea",{"onUpdate:modelValue":w[0]||(w[0]=S=>y(l).message=S),rows:"1",class:"form-control chat-textarea",placeholder:"Escribe un mensaje..."},null,512),[[Gn,y(l).message]])]),d("button",{type:"submit",class:"btn btn-primary d-flex align-items-center justify-content-center position-relative",disabled:!y(l).message||y(c)},[y(c)?(C(),T("span",mV,AV)):(C(),T("i",vV))],8,pV)],32)])]),_:1})],64))}},_V=me(yV,[["__scopeId","data-v-beb1348c"]]);async function wV(){const t=jt(fe,"admin-canchas"),e=await hi(t),n=[];return e.forEach(s=>{n.push({id:s.id,...s.data()})}),n}const ft=t=>(Ge("data-v-bfc537a7"),t=t(),ze(),t),bV={class:"col-12"},EV=ft(()=>d("h3",{class:"mb-3"},"Datos del encuentro",-1)),IV={class:"mb-3"},CV=ft(()=>d("label",{for:"nombre"},"Nombre del partido:",-1)),SV={class:"mb-3"},kV=ft(()=>d("label",{for:"complejo"},"Complejo:",-1)),TV=["disabled"],RV=ft(()=>d("option",{disabled:"",value:""},"Complejo",-1)),xV=["value"],DV={class:"mb-3"},OV=ft(()=>d("label",{for:"fecha"},"Fecha:",-1)),NV=["min","disabled"],PV={class:"mb-3"},MV=ft(()=>d("label",{for:"hora"},"Hora:",-1)),UV=["disabled"],LV=ft(()=>d("option",{disabled:"",value:""},"Hora",-1)),BV=["value","disabled"],FV={class:"mb-3"},VV=ft(()=>d("label",{for:"cantidadJ"},"Cantidad de jugadores:",-1)),jV=["disabled"],$V=ft(()=>d("option",{disabled:"",value:""},"Cantidad de jugadores",-1)),qV=ft(()=>d("option",{value:"5"},"5 vs 5",-1)),HV=ft(()=>d("option",{value:"6"},"6 vs 6",-1)),KV=ft(()=>d("option",{value:"7"},"7 vs 7",-1)),JV=ft(()=>d("option",{value:"8"},"8 vs 8",-1)),QV=ft(()=>d("option",{value:"9"},"9 vs 9",-1)),WV=ft(()=>d("option",{value:"10"},"10 vs 10",-1)),GV=[$V,qV,HV,KV,JV,QV,WV],zV={class:"mb-3"},YV=ft(()=>d("label",{for:"tipo"},"Tipo:",-1)),XV=["disabled"],ZV=ft(()=>d("option",{disabled:"",value:""},"Tipo de partido",-1)),e2=ft(()=>d("option",null,"Femenino",-1)),t2=ft(()=>d("option",null,"Masculino",-1)),n2=ft(()=>d("option",null,"Mixto",-1)),s2=[ZV,e2,t2,n2],r2={class:"mb-3"},i2={for:"valorCancha"},o2=["disabled"],a2={__name:"CargaPartido",setup(t){const{feedback:e,setFeedbackMessage:n,clearFeedbackMessage:s}=Xe(is),{showModal:r}=Xe(d_),{fields:i,user:o,loading:a,handleSubmit:l}=p(),c=M([]),u=M(""),h=M([]),f=M(null);function p(){const{user:S}=ht(),E=In(),R=M({nombre:"",complejo:"",fecha:"",hora:"",cantidadJ:0,contadorInscriptos:[],totalJ:0,tipo:"",usuarioCreador:"",estado:"activo"}),X=M(!1);async function oe(){try{s(),X.value=!0;let ge={fecha:u.value,hora:R.value.hora};const K=await oN({...R.value,userId:S.value.id,usuarioCreador:S.value.displayName,complejo:f.value,fecha:u.value},ge);X.value=!1,n({type:"success",message:"Partido creado correctamente"});const ve=await r({title:"Partido creado",bodyText:"¿Desea sumarse como jugador a este partido?",closeButtonText:"Si",saveButtonText:"No"});if(ve)try{s(),K.id?(await Nh(K.id,S),n({type:"success",message:"usuario inscripto correctamente."}),E.push(`/info-partido/${K.id}`)):console.error("No se ha encontrado el partido para inscribirse.")}catch(ae){console.error("Error al inscribirse al partido:",ae),n({type:"error",message:ae})}else if(!ve)console.log("no sumarme al partido"),E.push("/home");else if(ve==="closex"){console.log("no hacer nada"),E.push("/home");return}}catch(ge){n({type:"error",message:ge.message||"Error al crear el partido"})}}return{fields:R,user:S,loading:X,handleSubmit:oe}}dt(async()=>{try{const S=await wV();c.value=S,console.log(c.value)}catch(S){console.error(S.message)}});const m=ue(()=>new Date().toISOString().split("T")[0]);function A(){if(f.value&&u.value){const S=Object.keys(f.value.horarios||{});h.value=S.map(E=>({horario:E,disponible:w(u.value,E,f.value)}))}else h.value=[];console.log("availableHorarios",h)}const v=ue(()=>i.value.nombre&&f.value&&u.value&&i.value.hora&&i.value.cantidadJ&&i.value.tipo&&i.value.valorCancha);ct([()=>i.value.cantidadJ,f],([S,E])=>{if(E&&E.prices&&S){const R=E.prices[S];R?i.value.valorCancha=R:i.value.valorCancha=""}});function w(S,E,R){var ge;const oe=(((ge=R.reservas)==null?void 0:ge[S])||{})[E];return oe?oe.disponible!==!1:!0}return ct([f,u],A),(S,E)=>(C(),T(se,null,[b(Xt,{route:"/home",title:"Crear partido",hasBackground:!1}),b(Vt,null,{default:j(()=>[d("div",bV,[d("form",{action:"#",method:"POST",onSubmit:E[6]||(E[6]=En((...R)=>y(l)&&y(l)(...R),["prevent"]))},[EV,d("div",IV,[CV,at(d("input",{type:"text",class:"form-control",id:"nombre",placeholder:"Nombre","onUpdate:modelValue":E[0]||(E[0]=R=>y(i).nombre=R)},null,512),[[Gn,y(i).nombre]])]),d("div",SV,[kV,at(d("select",{id:"complejo",class:"form-select","onUpdate:modelValue":E[1]||(E[1]=R=>f.value=R),disabled:!y(i).nombre},[RV,(C(!0),T(se,null,vt(c.value,R=>(C(),T("option",{value:R,key:R.id},F(R.name),9,xV))),128))],8,TV),[[zs,f.value]])]),d("div",DV,[OV,at(d("input",{type:"date",id:"fecha","onUpdate:modelValue":E[2]||(E[2]=R=>u.value=R),min:y(m),disabled:!f.value},null,8,NV),[[Gn,u.value]])]),d("div",PV,[MV,at(d("select",{id:"hora",class:"form-select","onUpdate:modelValue":E[3]||(E[3]=R=>y(i).hora=R),disabled:!u.value},[LV,(C(!0),T(se,null,vt(h.value,R=>(C(),T("option",{value:R.horario,key:R.horario,disabled:!R.disponible},F(R.horario)+" ("+F(R.disponible?"Disponible":"No Disponible")+") ",9,BV))),128))],8,UV),[[zs,y(i).hora]])]),d("div",FV,[VV,at(d("select",{id:"cantidadJ",class:"form-select","onUpdate:modelValue":E[4]||(E[4]=R=>y(i).cantidadJ=R),disabled:!y(i).hora},GV,8,jV),[[zs,y(i).cantidadJ]])]),d("div",zV,[YV,at(d("select",{id:"tipo",class:"form-select","onUpdate:modelValue":E[5]||(E[5]=R=>y(i).tipo=R),disabled:!y(i).cantidadJ},s2,8,XV),[[zs,y(i).tipo]])]),d("div",r2,[d("label",i2,"Valor total de la cancha: $"+F(y(i).valorCancha),1)]),d("button",{type:"submit",class:"btn cargar-button fw-semibold text-white py-2",disabled:!y(v)}," CREAR PARTIDO ",8,o2)],32)])]),_:1})],64))}},l2=me(a2,[["__scopeId","data-v-bfc537a7"]]);const Lh=t=>(Ge("data-v-cce2f963"),t=t(),ze(),t),c2={class:"px-3 pb-3 my-5"},u2={class:"row mb-3"},d2=Lh(()=>d("div",{class:"col-10"},[d("h2",{class:"text-start h3"},[d("span",{class:"text-decoration-underline"},"Mis"),ce(" partidos ")])],-1)),h2={class:"col-2"},f2=Lh(()=>d("img",{src:Oh,alt:"Icono flechas dobles",class:"icono-h2"},null,-1)),p2={key:1,class:"row px-3"},m2=Lh(()=>d("div",{class:"col-12"},[d("p",null,"No hay partidos para mostrar")],-1)),g2=[m2],A2={__name:"MisPartidos",setup(t){const e=Eh(),n=M([]);fy(e,r=>{if(r){const i=r.uid;console.log(i),s(i)}else console.log("Usuario no autenticado")});async function s(r){const i=await aN();console.log(i);const o=i.filter(a=>a.userId===r);n.value=o}return dt(async()=>{const r=e.currentUser;if(r){const i=r.uid;await s(i)}}),(r,i)=>{const o=Jt("router-link");return C(),T("section",c2,[d("div",u2,[d2,d("div",h2,[b(o,{to:"/partidos"},{default:j(()=>[f2]),_:1})])]),n.value.length>0?(C(!0),T(se,{key:0},vt(n.value,a=>(C(),Kt(Za,{key:a.id,partido:a},null,8,["partido"]))),128)):(C(),T("div",p2,g2))])}}},v2=me(A2,[["__scopeId","data-v-cce2f963"]]);const Bh=t=>(Ge("data-v-df4fdd5c"),t=t(),ze(),t),y2={class:"row py-3 m-0"},_2={class:"col-3 d-flex justify-content-center align-items-center"},w2=Bh(()=>d("img",{src:mc},null,-1)),b2=Bh(()=>d("i",{class:"fi fi-sr-angle-left"},null,-1)),E2=Bh(()=>d("div",{class:"col-9 d-flex align-items-center"},[d("h1",{class:"text-center"},"En construcción ")],-1)),I2={__name:"ListaChatsPrivados",setup(t){return M([]),In(),ht(),(e,n)=>{const s=Jt("router-link");return C(),T("section",y2,[d("div",_2,[b(s,{to:"/home"},{default:j(()=>[w2,b2]),_:1})]),E2])}}},C2=me(I2,[["__scopeId","data-v-df4fdd5c"]]),S2="/assets/cancha-af0cca62.jpg";function k2(t){const e=M({id:null,nombre:null,complejo:null,fecha:null,hora:null,cantidadJ:null,tipo:null,userId:null,usuarioCreador:null,valorCancha:null,contadorInscriptos:[]}),n=M(!0);s();async function s(){try{const r=await fc(t);e.value=r,n.value=!1}catch(r){console.error(r),n.value=!1}}return{partido:e,loading:n}}const Fs=t=>(Ge("data-v-3831b43c"),t=t(),ze(),t),T2=Fs(()=>d("div",{class:"col-12 fotoCancha mb-3"},[d("img",{src:S2})],-1)),R2={class:"row infoPartido"},x2={class:"col-6 fw-bold nombreComplejo"},D2={class:"col-3"},O2={class:"col-3"},N2={class:"row mx-auto mt-2 infoPartido"},P2={class:"col-12"},M2=Fs(()=>d("span",{class:"fw-bold text-black"},"Direccion:",-1)),U2={class:"col-12"},L2=Fs(()=>d("span",{class:"fw-bold"}," Dia:",-1)),B2={class:"col-12"},F2=Fs(()=>d("span",{class:"fw-bold"}," Horario:",-1)),V2={class:"row mx-auto mt-2 infoPartido"},j2={class:"col-12"},$2=Fs(()=>d("br",null,null,-1)),q2=Fs(()=>d("div",{class:"row"},[d("div",{class:"col-12"},[d("p",{class:"text-center fs-2 fw-bold"},"Jugadores")])],-1)),H2={class:"col-3"},K2={class:"col-6 pt-3 jugadores"},J2={class:"fw-bold"},Q2=Fs(()=>d("br",null,null,-1)),W2={class:"col-3 pt-3"},G2=["onClick"],z2=Fs(()=>d("i",{class:"fa-solid fa-trash-can"},null,-1)),Y2=[z2],X2={class:"botones_inferiores"},Z2={__name:"InfoPartidos",setup(t){const e=Oo(),{user:n}=ht(),s=Ls(),{loading:r}=k2(s.params.id),{setFeedbackMessage:i,clearFeedbackMessage:o}=Xe(is),a=De(e,"partidos",s.params.id),l=M(null),c=M(!1),u=M(!1);dt(async()=>{try{const v=await fc(s.params.id);l.value=v,console.log(l.value),c.value=A(),h(),n.value.id===l.value.userId?u.value=!0:u.value=!1}catch(v){console.error(v.message)}}),ct(l,(v,w)=>{v&&(c.value=A())});function h(){const v=wr(a,w=>{w.exists()?l.value={...w.data(),id:w.id}:l.value=null});Un(v)}async function f(){try{o(),l.value&&(await Nh(s.params.id,n),c.value=A(),i({type:"success",message:"Usuario inscripto correctamente"}))}catch(v){i({type:"error",message:v})}}async function p(v){try{o(),l.value&&(await lN(v,s.params.id),c.value=A(),i({type:"success",message:"Usuario eliminado correctamente"}))}catch(w){i({type:"error",message:w.message})}}async function m(v){try{o(),l.value&&(await cN(s.params.id,v),i({type:"success",message:"se cambio el estado a eliminado"}))}catch(w){i({type:"error",message:w.message})}}function A(){return!l.value||!l.value.contadorInscriptos?!1:l.value.contadorInscriptos.some(v=>v.uid===n.value.id)}return(v,w)=>{const S=Jt("router-link");return C(),T(se,null,[b(Bs,{loading:y(r)},null,8,["loading"]),b(Xt,{title:"Informacion",route:"/home"}),b(Vt,{class:"row p-1",style:{margin:"75px 0 120px 0"}},{default:j(()=>[T2,d("div",R2,[d("div",x2,F(l.value?l.value.complejo.name:"-"),1),d("div",D2,F(l.value?l.value.tipo:"-"),1),d("div",O2,F(l.value?l.value.cantidadJ+" vs "+l.value.cantidadJ:"-"),1)]),d("div",N2,[d("div",P2,[d("p",null,[M2,ce(" "+F(l.value?l.value.complejo.direction:"-"),1)])]),d("div",U2,[d("p",null,[L2,ce(" "+F(l.value?l.value.fecha:"-"),1)])]),d("div",B2,[d("p",null,[F2,ce(" "+F(l.value?l.value.hora:"-"),1)])])]),d("div",V2,[d("div",j2,[d("p",null,[ce(" Organizado por: "),$2,ce(F(l.value?l.value.usuarioCreador:"-"),1)])])]),q2,(C(!0),T(se,null,vt(l.value?l.value.contadorInscriptos:[],E=>(C(),T("div",{class:"row d-flex align-items-center border-bottom mb-2 pb-2 mx-auto",key:E},[d("div",H2,[b(on,{src:E.image},null,8,["src"])]),d("div",K2,[d("p",null,[d("span",J2,F(E.nombre),1),Q2,b(S,{to:`/usuario/${E.uid}`},{default:j(()=>[ce(" ver perfil ")]),_:2},1032,["to"])])]),d("div",W2,[at(d("button",{class:"button__delete",onClick:R=>p(E.uid)},Y2,8,G2),[[ca,u.value]])])]))),128)),d("div",X2,[at(d("button",{onClick:f}," UNIRME AL PARTIDO ",512),[[ca,!c.value]]),at(d("button",{onClick:w[0]||(w[0]=E=>m(y(n).id))}," ELIMINAR PARTIDO ",512),[[ca,u.value]])])]),_:1})],64)}}},ej=me(Z2,[["__scopeId","data-v-3831b43c"]]);const os=t=>(Ge("data-v-536d4fd4"),t=t(),ze(),t),tj={class:"row mb-3"},nj=os(()=>d("ul",{class:"nav nav-tabs mb-3",role:"tablist"},[d("li",{class:"nav-item",role:"presentation"},[d("button",{class:"nav-link active",id:"mis-partidos-tab","data-bs-toggle":"tab","data-bs-target":"#mis-partidos-tab-pane",type:"button",role:"tab","aria-controls":"mis-partidos-tab-pane","aria-selected":"true"}," Mis Partidos ")]),d("li",{class:"nav-item",role:"presentation"},[d("button",{class:"nav-link",id:"proximos-partidos-tab","data-bs-toggle":"tab","data-bs-target":"#proximos-partidos-tab-pane",type:"button",role:"tab","aria-controls":"proximos-partidos-tab-pane","aria-selected":"false"}," Próximos partidos ")])],-1)),sj={class:"tab-content",id:"myTabContent"},rj={class:"tab-pane fade show active",id:"mis-partidos-tab-pane",role:"tabpanel","aria-labelledby":"mis-partidos-tab",tabindex:"0"},ij={key:1,class:"row px-3"},oj=os(()=>d("div",{class:"col-12"},[d("p",null,"No hay partidos para mostrar")],-1)),aj=[oj],lj={class:"tab-pane fade",id:"proximos-partidos-tab-pane",role:"tabpanel","aria-labelledby":"proximos-partidos-tab",tabindex:"0"},cj={class:"row mb-3 align-items-end"},uj={class:"col-8"},dj=os(()=>d("label",{for:"barrioSelect",class:"form-label fw-bold"},"Filtrar por barrio",-1)),hj=os(()=>d("option",{disabled:"",value:""},"Selecciona un barrio",-1)),fj=os(()=>d("option",{value:"caballito"},"Caballito",-1)),pj=os(()=>d("option",{value:"palermo"},"Palermo",-1)),mj=os(()=>d("option",{value:"flores"},"Flores",-1)),gj=os(()=>d("option",{value:"belgrano"},"Belgrano",-1)),Aj=[hj,fj,pj,mj,gj],vj={key:1,class:"row px-3"},yj=os(()=>d("div",{class:"col-12"},[d("p",null,"No hay partidos para mostrar")],-1)),_j=[yj],wj={__name:"Partidos",setup(t){e();function e(){const{user:h}=ht();return{user:h}}const n=Oo(),s=M([]),r=M([]),i=Eh(),o=M("");let a=null;function l(h){const f=rs(jt(n,"partidos"),Os("estado","==","activo"));a=wr(f,p=>{const m=[],A=[];p.forEach(v=>{const w={...v.data(),id:v.id};(!o.value||w.localidad===o.value)&&m.push(w),w.userId===h&&A.push(w)}),s.value=m,r.value=A})}function c(h){o.value=h;const f=i.currentUser;f&&l(f.uid)}function u(){o.value=null;const h=i.currentUser;h&&l(h.uid)}return dt(()=>{const h=i.currentUser;h&&l(h.uid)}),Un(()=>{a&&a()}),(h,f)=>(C(),T(se,null,[b(Xt,{route:"/home",title:"Partidos"}),b(Vt,null,{default:j(()=>[d("div",tj,[nj,d("div",sj,[d("div",rj,[r.value.length>0?(C(!0),T(se,{key:0},vt(r.value,p=>(C(),Kt(Za,{key:p.id,partido:p},null,8,["partido"]))),128)):(C(),T("div",ij,aj))]),d("div",lj,[d("div",cj,[d("div",uj,[dj,at(d("select",{id:"barrioSelect",class:"form-select","onUpdate:modelValue":f[0]||(f[0]=p=>o.value=p),onChange:f[1]||(f[1]=p=>c(o.value))},Aj,544),[[zs,o.value]])]),d("div",{class:"col-4"},[d("button",{class:"btn btn-outline-secondary w-100",onClick:u}," Quitar filtro ")])]),s.value.length>0?(C(!0),T(se,{key:0},vt(s.value,p=>(C(),Kt(Za,{key:p.id,partido:p},null,8,["partido"]))),128)):(C(),T("div",vj,_j))])])])]),_:1})],64))}},bj=me(wj,[["__scopeId","data-v-536d4fd4"]]),Ej={};function Ij(t,e){return null}const Cj=me(Ej,[["render",Ij]]),R_="data:image/png;base64,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",x_="/assets/comment-43a9a0da.png";async function Sj(t,e){try{const n=jt(fe,"publicaciones");await No(n,{...t,likes:t.likes||[],comments:t.comments||[],created_at:Po()})}catch(n){throw console.error("Error al publicar la publicación:",n),n}}async function ym(){try{const t=jt(fe,"publicaciones"),e=rs(t,sc("created_at","desc"));return await hi(e)}catch(t){throw console.error("Error al obtener las publicaciones:",t),t}}async function kj(t){try{const e=De(fe,"publicaciones",t),n=await rn(e);if(n.exists())return{id:n.id,...n.data()};throw new Error("La publicación no existe.")}catch(e){throw console.error("Error al obtener la publicación por ID:",e),e}}async function Tj(t,e,n){try{const s=De(fe,"publicaciones",t),r=await rn(s);if(r.exists()){const i={id:r.id,...r.data()},o={userId:e.id,userDisplayName:e.displayName,content:n,created_at:ut.now()};return i.comments.push(o),await Ft(s,{comments:i.comments}),i.userId!==e.id&&await hc(i.userId,`${e.displayName} comentó tu publicación: "${n}"`,"comentario",i.id,`/comments/${i.id}`),o.formattedDate=v_(o.created_at.toDate(),"dd/MM/yyyy HH:mm"),i}else throw new Error("La publicación no existe.")}catch(s){throw console.error("Error al agregar el comentario:",s),s}}async function D_(t,e){try{const n=De(fe,"publicaciones",t),s=await rn(n);if(s.exists()){const r={id:s.id,...s.data()},i=r.likes.includes(e.id);return i?(r.likes=r.likes.filter(o=>o!==e.id),await xj(t,e.id)):(r.likes.push(e.id),await Rj(t,e.id)),r.liked=!i,await Ft(n,{likes:r.likes}),!i&&r.userId!==e.id&&await hc(r.userId,`A ${e.displayName} le gustó tu publicación.`,"like",r.id,`/comments/${r.id}`),r}else throw new Error("La publicación no existe.")}catch(n){throw console.error("Error al manejar el 'Me gusta':",n),n}}async function Rj(t,e){try{const n=De(fe,"publicaciones",t);await Ft(n,{likes:Qa(e)})}catch(n){throw console.error("Error al agregar el 'Me gusta':",n),n}}async function xj(t,e){try{const n=De(fe,"publicaciones",t);await Ft(n,{likes:Lu(e)})}catch(n){throw console.error("Error al quitar el 'Me gusta':",n),n}}const Fh=t=>(Ge("data-v-437adcb9"),t=t(),ze(),t),Dj={class:"feed-wrapper"},Oj={class:"container-fluid p-3 mt-6"},Nj={class:"row mb-3"},Pj={class:"col-2"},Mj={class:"col-10 d-flex align-items-center"},Uj=Fh(()=>d("button",{type:"submit",class:"icono-publicar"},[d("img",{src:R_,alt:"Icono Publicar",class:"publicar"})],-1)),Lj=Fh(()=>d("hr",null,null,-1)),Bj={key:1,class:"p-3"},Fj={class:"card-body"},Vj={class:"row mb-3"},jj={class:"col-2"},$j={class:"col-10"},qj={class:"m-0"},Hj={class:"font-date"},Kj={class:"row"},Jj={class:"col-12"},Qj={class:"font-content"},Wj={class:"row mt-3"},Gj={class:"col-6"},zj=["onClick"],Yj={class:"d-flex align-items-center"},Xj=["src"],Zj={class:"m-0 ps-2 fw-bold"},e$={class:"col-6"},t$={class:"icono-publicar"},n$={class:"d-flex align-items-center"},s$=Fh(()=>d("img",{src:x_,alt:"Icono Comentarios",class:"publicar"},null,-1)),r$={class:"m-0 ps-2 fw-bold"},i$={__name:"Feed",setup(t){const{user:e,newPostContent:n,loading:s,posts:r,handleSubmit:i,toggleLikeView:o}=a();function a(){const{user:l}=ht(),c=M(""),u=M(!1),h=M([]);return dt(async()=>{u.value=!0;try{const m=await ym();h.value=m.docs.map(A=>{const v=A.data();return v.likes=v.likes||[],v.liked=v.likes.includes(l.value.id),{id:A.id,...v}}),console.log(h.value)}catch(m){console.error("Error al obtener las publicaciones:",m)}u.value=!1}),{user:l,newPostContent:c,loading:u,posts:h,handleSubmit:async()=>{u.value=!0;try{if(c.value.trim()!==""&&l.value.id){await Sj({content:c.value,userId:l.value.id,userDisplayName:l.value.displayName,photoURL:l.value.photoURL,likes:[],comments:[]}),c.value="";const m=await ym();h.value=m.docs.map(A=>{const v=A.data();return v.likes=v.likes||[],v.liked=v.likes.includes(l.value.id),{id:A.id,...v}})}else console.error("El ID del usuario no está definido o es inválido.")}catch(m){console.error("Error al publicar la publicación:",m)}u.value=!1},toggleLikeView:async m=>{try{const A=await D_(m.id,l.value),v=h.value.findIndex(w=>w.id===A.id);v!==-1&&(h.value[v]=A)}catch(A){console.error("Error al manejar el 'Me gusta':",A)}}}}return(l,c)=>{const u=Jt("router-link");return C(),T("div",Dj,[b(Xt,{route:"/home",title:"Feed"}),d("section",Oj,[d("div",Nj,[d("div",Pj,[b(on,{src:y(e).photoURL},null,8,["src"])]),d("div",Mj,[d("form",{action:"",method:"post",onSubmit:c[1]||(c[1]=En((...h)=>y(i)&&y(i)(...h),["prevent"])),class:"w-100"},[at(d("textarea",{name:"post",id:"post",rows:"1",placeholder:"¿Qué estas pensado?","onUpdate:modelValue":c[0]||(c[0]=h=>st(n)?n.value=h:null),class:"form-control"},`\r
                        `,512),[[Gn,y(n)]]),Uj],32)])])]),Lj,y(s)?(C(),Kt(Ph,{key:0})):(C(),T("section",Bj,[(C(!0),T(se,null,vt(y(r),h=>(C(),T("div",{class:"card p-3 mb-3",key:h.id},[d("div",Fj,[d("div",Vj,[d("div",jj,[b(on,{src:h.photoURL},null,8,["src"])]),d("div",$j,[d("p",qj,[d("strong",null,F(h.userDisplayName),1)]),d("p",Hj,F(y(Hu)(h.created_at)),1)])]),d("div",Kj,[d("div",Jj,[d("p",Qj,F(h.content),1)])]),d("div",Wj,[d("div",Gj,[d("button",{onClick:f=>y(o)(h),class:"icono-publicar"},[d("div",Yj,[d("img",{src:h.liked?"../src/assets/img/like-filled.png":"../src/assets/img/like.png",alt:"Icono Me Gusta",class:"publicar"},null,8,Xj),d("p",Zj,F(h.likes?h.likes.length:0),1)])],8,zj)]),d("div",e$,[b(u,{to:`/comments/${h.id}`},{default:j(()=>[d("button",t$,[d("div",n$,[s$,d("p",r$,F(h.comments.length)+" Comentarios",1)])])]),_:2},1032,["to"])])])])]))),128))]))])}}},o$=me(i$,[["__scopeId","data-v-437adcb9"]]);const gi=t=>(Ge("data-v-727338cc"),t=t(),ze(),t),a$={class:"p-3 m-0"},l$={class:"row"},c$={class:"col-3 d-flex justify-content-center"},u$=gi(()=>d("img",{src:mc,style:{width:"80%"}},null,-1)),d$=gi(()=>d("i",{class:"fi fi-sr-angle-left"},null,-1)),h$=gi(()=>d("div",{class:"col-9 d-flex align-items-center"},[d("h1",{class:"text-center m-0 ps-4"},"Publicación")],-1)),f$={key:1,class:"p-3"},p$={key:0},m$={class:"row mb-3"},g$={class:"col-2"},A$={class:"col-10"},v$={class:"m-0"},y$={class:"font-date"},_$={class:"row mb-3"},w$={class:"col-12"},b$={class:"row mb-3"},E$={class:"col-12"},I$={class:"row"},C$={class:"col-6"},S$={class:"d-flex align-items-center"},k$=["src"],T$={class:"m-0 ps-2 fw-bold"},R$={class:"col-6"},x$={class:"icono-publicar"},D$={class:"d-flex align-items-center"},O$=gi(()=>d("img",{src:x_,alt:"Icono Comentarios",class:"publicar"},null,-1)),N$={key:0,class:"m-0 ps-2 fw-bold"},P$={class:"row mb-3"},M$={class:"col-2"},U$={class:"col-10"},L$={class:"row"},B$={class:"col-10"},F$=gi(()=>d("div",{class:"col-2"},[d("button",{type:"submit",class:"icono-publicar"},[d("img",{src:R_,alt:"Icono Publicar",class:"publicar"})])],-1)),V$={class:"row"},j$={class:"col-12"},$$={key:0,class:"row mt-3"},q$={class:"font-date"},H$={key:1},K$=gi(()=>d("p",null,"La publicación no se ha encontrado o ha sido eliminada.",-1)),J$=[K$],Q$={__name:"Comments",setup(t){const{post:e,user:n,newComment:s,loading:r,addCommentView:i,toggleLikeView:o}=a();function a(){const l=Ls(),{user:c}=ht(),u=M(l.params.postId),h=M(null),f=M(""),p=M(!1);return dt(async()=>{try{p.value=!0;const v=await kj(u.value);v?(h.value=v,console.log("Post onMounted:",h),c.value.id&&(h.value.liked=h.value.likes.includes(c.value.id),console.log("Liked status:",h.value.liked)),p.value=!1):console.error("La publicación no se ha encontrado o ha sido eliminada.")}catch(v){console.error("Error al recuperar la publicación:",v)}}),{post:h,user:c,newComment:f,loading:p,addCommentView:async()=>{if(!h||!h.value||!h.value.comments||!f||f.value.trim()===""){console.error("No se puede agregar el comentario. Datos insuficientes.");return}try{h.value=await Tj(h.value.id,c.value,f.value),f.value=""}catch(v){console.error("Error al agregar el comentario:",v)}},toggleLikeView:async()=>{try{const v=await D_(h.value.id,c.value);h.value=v}catch(v){console.error("Error al manejar el 'Me gusta':",v)}}}}return(l,c)=>{const u=Jt("router-link");return C(),T(se,null,[d("section",a$,[d("div",l$,[d("div",c$,[b(u,{to:"/feed"},{default:j(()=>[u$,d$]),_:1})]),h$])]),y(r)?(C(),Kt(Ph,{key:0})):(C(),T("section",f$,[y(e)?(C(),T("div",p$,[d("div",m$,[d("div",g$,[b(on,{src:y(e).photoURL},null,8,["src"])]),d("div",A$,[d("p",v$,[d("strong",null,F(y(e).userDisplayName),1)]),d("p",y$,F(y(Hu)(y(e).created_at)),1)])]),d("div",_$,[d("div",w$,[d("p",null,F(y(e).content),1)])]),d("div",b$,[d("div",E$,[d("div",I$,[d("div",C$,[d("button",{onClick:c[0]||(c[0]=h=>y(o)(y(e))),class:"icono-publicar"},[d("div",S$,[d("img",{src:y(e).liked?"../src/assets/img/like-filled.png":"../src/assets/img/like.png",alt:"Icono Me Gusta",class:"publicar"},null,8,k$),d("p",T$,F(y(e).likes?y(e).likes.length:0)+" Me gusta",1)])])]),d("div",R$,[d("button",x$,[d("div",D$,[O$,y(e).comments?(C(),T("p",N$,F(y(e).comments.length)+" Comentarios",1)):xe("",!0)])])])])])]),d("div",P$,[d("div",M$,[b(on,{src:y(n).photoURL},null,8,["src"])]),d("div",U$,[d("form",{action:"",method:"post",onSubmit:c[2]||(c[2]=En((...h)=>y(i)&&y(i)(...h),["prevent"]))},[d("div",L$,[d("div",B$,[at(d("textarea",{name:"post",id:"post",cols:"41",rows:"1",placeholder:"Deja un comentario","onUpdate:modelValue":c[1]||(c[1]=h=>st(s)?s.value=h:null)},`\r
                                `,512),[[Gn,y(s)]])]),F$])],32)])]),d("div",V$,[d("div",j$,[y(e).comments&&y(e).comments.length>0?(C(),T("div",$$,[(C(!0),T(se,null,vt(y(e).comments,h=>(C(),T("div",{key:h.created_at,class:"col-12"},[d("p",null,[d("strong",null,F(h.userDisplayName),1),ce(": "+F(h.content),1)]),d("p",q$,F(y(Hu)(h.created_at)),1)]))),128))])):xe("",!0)])])])):(C(),T("div",H$,J$))]))],64)}}},W$=me(Q$,[["__scopeId","data-v-727338cc"]]),G$={class:"row"},z$=d("ul",{class:"nav nav-tabs nav-fill mb-3",role:"tablist"},[d("li",{class:"nav-item",role:"presentation"},[d("button",{class:"nav-link active",id:"seguidores-tab","data-bs-toggle":"tab","data-bs-target":"#seguidores-tab-pane",type:"button",role:"tab","aria-controls":"seguidores-tab-pane","aria-selected":"true"},"Seguidores")]),d("li",{class:"nav-item",role:"presentation"},[d("button",{class:"nav-link",id:"siguiendo-tab","data-bs-toggle":"tab","data-bs-target":"#siguiendo-tab-pane",type:"button",role:"tab","aria-controls":"siguiendo-tab-pane","aria-selected":"false"},"Siguiendo")])],-1),Y$={class:"tab-content"},X$={class:"tab-pane fade show active",id:"seguidores-tab-pane",role:"tabpanel","aria-labelledby":"seguidores-tab",tabindex:"0"},Z$={class:"list-unstyled"},e3={class:"row"},t3={class:"col-3"},n3={class:"col-9 d-flex align-items-center"},s3={class:"m-0"},r3={class:"tab-pane fade show",id:"siguiendo-tab-pane",role:"tabpanel","aria-labelledby":"siguiendo-tab",tabindex:"0"},i3={class:"list-unstyled"},o3={class:"col-3"},a3={class:"col-9 d-flex align-items-center"},l3={class:"m-0"},c3={__name:"Red",setup(t){const{user:e,seguidores:n,siguiendo:s,loading:r}=i();function i(){const{user:o}=ht(),a=M(null),l=M([]),c=M([]),u=M(!1);return dt(async()=>{if(a.value=o.value?o.value.id:null,a.value)try{u.value=!0,l.value=await I_(a.value),c.value=await C_(a.value),u.value=!1,console.log("Seguidores:",l),console.log("Siguiendo:",c),console.log("Usuario:",o)}catch(h){console.error("Error al obtener seguidores y siguiendo:",h)}else console.warn("ID de usuario no disponible.")}),{user:o,seguidores:l,siguiendo:c,loading:u}}return(o,a)=>{const l=Jt("router-link");return C(),T(se,null,[b(Xt,{route:"/home",title:"Red"}),b(Bs,{loading:y(r)},null,8,["loading"]),b(Vt,null,{default:j(()=>[d("div",G$,[z$,d("div",Y$,[d("div",X$,[d("ul",Z$,[(C(!0),T(se,null,vt(y(n),c=>(C(),T("li",{key:c,class:"row"},[b(l,{to:"/usuario/"+c.id,class:"col-12 text-decoration-none text-dark"},{default:j(()=>[d("div",e3,[d("div",t3,[b(on,{src:c.photoURL},null,8,["src"])]),d("div",n3,[d("p",s3,F(c.nombre)+" "+F(c.apellido),1)])])]),_:2},1032,["to"])]))),128))])]),d("div",r3,[d("ul",i3,[(C(!0),T(se,null,vt(y(s),c=>(C(),T("li",{key:c,class:"row"},[d("div",o3,[b(on,{src:c.photoURL},null,8,["src"])]),d("div",a3,[d("p",l3,F(c.nombre)+" "+F(c.apellido),1)])]))),128))])])])])]),_:1})],64)}}},u3={class:"form-check form-switch d-flex justify-content-between align-items-center mb-3 p-0"},d3={class:"form-check-label"},h3=["checked"],ia={__name:"Switch",props:{label:{type:String,required:!0},modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(t,{emit:e}){function n(s){e("update:modelValue",s.target.checked)}return(s,r)=>(C(),T("div",u3,[d("label",d3,F(t.label),1),d("input",{class:"form-check-input",type:"checkbox",role:"switch",checked:t.modelValue,onChange:n},null,40,h3)]))}};async function f3(t){var e;try{const n=De(fe,"users",t),s=await rn(n);if(s.exists())return((e=s.data().settings)==null?void 0:e.notifications)||null}catch(n){return console.error("Error al obtener configuración de usuario",n),null}}async function p3(t,e){try{const n=De(fe,"users",t);await Ft(n,{"settings.notifications":e})}catch(n){console.error("Error actualizando ajustes de usuario",n)}}const O_=t=>(Ge("data-v-1f7beb27"),t=t(),ze(),t),m3={class:"accordion",id:"settingsAccordion"},g3={class:"accordion-item"},A3=O_(()=>d("h2",{class:"accordion-header",id:"headingNotifications"},[d("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseNotifications","aria-expanded":"true","aria-controls":"collapseNotifications"},[d("i",{class:"bi bi-bell me-1"}),ce(" Notificaciones ")])],-1)),v3={id:"collapseNotifications",class:"accordion-collapse collapse show","aria-labelledby":"headingNotifications","data-bs-parent":"#settingsAccordion"},y3={class:"accordion-body"},_3=O_(()=>d("div",{class:"accordion-item"},[d("h2",{class:"accordion-header",id:"headingPrivacy"},[d("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapsePrivacy","aria-expanded":"false","aria-controls":"collapsePrivacy"},[d("i",{class:"bi bi-lock me-1"}),ce(" Privacidad ")])]),d("div",{id:"collapsePrivacy",class:"accordion-collapse collapse","aria-labelledby":"headingPrivacy","data-bs-parent":"#settingsAccordion"},[d("div",{class:"accordion-body"},[d("p",{class:"text-muted mb-0"},"Próximamente…")])])],-1)),w3={__name:"Ajustes",setup(t){const{user:e}=ht(),n=M({seguir:!0,like:!0,comentario:!0,chat:!0});dt(async()=>{if(e.value){const r=await f3(e.value.id);r&&(n.value=r)}});function s(r){n.value[r]=!n.value[r],p3(e.value.id,n.value)}return(r,i)=>(C(),T(se,null,[b(Xt,{route:"/home",title:"Ajustes"}),b(Vt,null,{default:j(()=>[d("div",m3,[d("div",g3,[A3,d("div",v3,[d("div",y3,[b(ia,{label:"Notificaciones por Seguidores","model-value":n.value.seguir,"onUpdate:modelValue":i[0]||(i[0]=()=>s("seguir"))},null,8,["model-value"]),b(ia,{label:"Likes en tus publicaciones","model-value":n.value.like,"onUpdate:modelValue":i[1]||(i[1]=()=>s("like"))},null,8,["model-value"]),b(ia,{label:"Comentarios en tus publicaciones","model-value":n.value.comentario,"onUpdate:modelValue":i[2]||(i[2]=()=>s("comentario"))},null,8,["model-value"]),b(ia,{label:"Mensajes privados","model-value":n.value.chat,"onUpdate:modelValue":i[3]||(i[3]=()=>s("chat"))},null,8,["model-value"])])])]),_3])]),_:1})],64))}},b3=me(w3,[["__scopeId","data-v-1f7beb27"]]),E3={};function I3(t,e){return null}const C3=me(E3,[["render",I3]]);const jo=t=>(Ge("data-v-ca0ddc96"),t=t(),ze(),t),S3=jo(()=>d("h3",{class:"mb-3"},"Notificaciones",-1)),k3={key:0,class:"notificaciones-list"},T3=["onClick"],R3={class:"icono"},x3={key:0},D3=jo(()=>d("i",{class:"bi bi-hand-thumbs-up"},null,-1)),O3=[D3],N3={key:1},P3=jo(()=>d("i",{class:"bi bi-chat-left-dots"},null,-1)),M3=[P3],U3={key:2},L3=jo(()=>d("i",{class:"bi bi-bell"},null,-1)),B3=[L3],F3={class:"contenido"},V3={class:"mensaje"},j3={class:"fecha"},$3={class:"acciones"},q3=["onClick"],H3=jo(()=>d("i",{class:"bi bi-trash"},null,-1)),K3=[H3],J3={key:1},Q3={__name:"notificaciones",setup(t){const{user:e}=ht(),n=M([]),s=In();let r=null;dt(()=>{e.value&&e.value.id&&(r=FD(e.value.id,a=>{n.value=a}))});const i=async a=>{a.leida||(await jD(a.id),a.leida=!0),a.ruta&&s.push(a.ruta)},o=async a=>{try{await $D(a),n.value=n.value.filter(l=>l.id!==a)}catch(l){console.error("Error al eliminar la notificación:",l)}};return Un(()=>{r&&r()}),(a,l)=>(C(),T("div",null,[b(Xt,{route:"/home",title:"Notificaciones"}),b(Vt,null,{default:j(()=>[S3,n.value.length>0?(C(),T("div",k3,[(C(!0),T(se,null,vt(n.value,c=>{var u;return C(),T("div",{key:c.id,class:Ue(["notificacion-card",{leida:c.leida}]),onClick:h=>i(c)},[d("div",R3,[c.tipo==="like"?(C(),T("span",x3,O3)):c.tipo==="comentario"?(C(),T("span",N3,M3)):(C(),T("span",U3,B3))]),d("div",F3,[d("p",V3,F(c.mensaje),1),d("small",j3,F((u=c.created_at)==null?void 0:u.toDate().toLocaleString()),1)]),d("div",$3,[d("button",{class:"btn btn-link eliminar",onClick:En(h=>o(c.id),["stop"]),title:"Eliminar notificación"},K3,8,q3)])],10,T3)}),128))])):(C(),T("p",J3,"No tienes notificaciones"))]),_:1})]))}},W3=me(Q3,[["__scopeId","data-v-ca0ddc96"]]);const G3={class:"estrellas mb-3"},z3=["onClick"],Y3={__name:"addValoration",setup(t){const{setFeedbackMessage:e}=Xe(is),n=Ls(),s=In(),r=n.params.id,{user:i}=ht(),o=M(null),a=M(0),l=M(""),c=M(!1);function u(f){a.value=f}dt(async()=>{try{c.value=!0,o.value=await Bn(r),console.log(i.id),c.value=!1}catch{c.value=!1}});async function h(){if(a.value===0||l.value.trim()===""){alert("Debes elegir una cantidad de estrellas y escribir un comentario.");return}const f={estrellas:a.value,comentario:l.value.trim(),fecha:new Date().toISOString(),autorId:i.value.id,autorName:i.value.displayName||i.value.nombre};try{await ix(r,f),a.value=0,l.value="",e({type:"success",message:"Valoracion enviada correctamente."}),s.back()}catch{alert("Ocurrió un error al enviar la valoración.")}}return(f,p)=>{var m,A;return C(),T(se,null,[c.value?xe("",!0):(C(),Kt(Xt,{key:0,route:"/home",title:y(i)?"Valorá a "+((m=o.value)==null?void 0:m.displayName)||((A=o.value)==null?void 0:A.nombre):"perfil"},null,8,["title"])),b(Bs,{loading:c.value},null,8,["loading"]),b(Vt,null,{default:j(()=>[d("div",G3,[(C(),T(se,null,vt(5,v=>d("span",{key:v,class:Ue({activa:v<=a.value}),onClick:w=>u(v)},"★",10,z3)),64))]),at(d("textarea",{"onUpdate:modelValue":p[0]||(p[0]=v=>l.value=v),rows:"4",class:"form-control mb-3",placeholder:"Escribí un comentario sobre el jugador..."},null,512),[[Gn,l.value]]),d("button",{class:"button_send",onClick:h}," Enviar valoración ")]),_:1})],64)}}},X3=me(Y3,[["__scopeId","data-v-1851f5e1"]]);const Z3={key:0,class:"col-12 go_valoration"},eq={class:"estrellas mb-2"},tq={class:"promedio"},nq={class:"comentario mb-0"},sq={key:2},rq={__name:"ValorationList",setup(t){const{user:e}=ht(),n=M(null),s=M(""),r=Ls(),i=M(!1);dt(async()=>{i.value=!0;const a=r.params.id;if(console.log("profileID:",a),!a){console.warn("No se encontró un ID de perfil en la ruta.");return}s.value=o(a),n.value=await Bn(a),i.value=!1});function o(a){return e.value?a==e.value.id?"/perfil":`/usuario/${a}`:"/home"}return(a,l)=>{const c=Jt("router-link");return C(),T(se,null,[b(Bs,{loading:i.value},null,8,["loading"]),b(Xt,{route:s.value,title:"Valoraciones"},null,8,["route"]),b(Vt,null,{default:j(()=>{var u;return[n.value?(C(),T("div",Z3,[b(c,{to:`/usuario/${n.value.id}/valoration`,class:"text-blue-400 underline"},{default:j(()=>[ce("¿Queres dejar una valoracion a "+F(n.value.displayName?n.value.displayName:n.value.nombre)+" ?",1)]),_:1},8,["to"])])):xe("",!0),n.value&&((u=n.value.valoraciones)==null?void 0:u.length)>0?(C(!0),T(se,{key:1},vt(n.value.valoraciones,(h,f)=>(C(),T("div",{key:f,class:"card mb-3 p-3"},[d("div",eq,[(C(),T(se,null,vt(5,p=>d("span",{key:p,class:Ue(["estrella",{activa:p<=h.estrellas}])},"★",2)),64)),d("span",tq,"("+F(h.estrellas)+"/5)",1)]),d("p",null,F(h.autorName),1),d("p",nq,F(h.comentario||"Sin comentario"),1)]))),128)):(C(),T("p",sq,"No hay valoraciones para mostrar."))]}),_:1})],64)}}},iq=me(rq,[["__scopeId","data-v-403c6fa1"]]);const Cn=t=>(Ge("data-v-a79295c8"),t=t(),ze(),t),oq=Cn(()=>d("p",null," Esta aplicación móvil es propiedad y está operada por [Nombre o Razón Social titular de Doble 5]. ",-1)),aq=Cn(()=>d("div",null,[d("h3",null,"INFORMACIÓN RELEVANTE"),d("p",null," Para utilizar algunas funciones, es necesario registrarse con datos reales y crear una contraseña. El usuario es responsable de mantener la confidencialidad de su cuenta. Doble 5 no se responsabiliza por el uso indebido de la cuenta por terceros. Toda acción en la app está sujeta a validaciones internas (verificación de identidad, correo electrónico, comportamiento de uso, etc.). ")],-1)),lq=Cn(()=>d("div",null,[d("h3",null,"LICENCIA"),d("p",null," Doble 5 concede al usuario una licencia limitada, no exclusiva e intransferible para utilizar los servicios de la app conforme a estos Términos. Esta licencia no permite la reventa ni el uso indebido de la plataforma. ")],-1)),cq=Cn(()=>d("div",null,[d("h3",null,"USO NO AUTORIZADO"),d("p",null," Queda prohibido: - Copiar, distribuir, modificar o vender los contenidos de la App. - Usar la app con fines fraudulentos, maliciosos o para generar spam o acoso. - Compartir contenido ofensivo, ilegal o que infrinja derechos de terceros. ")],-1)),uq=Cn(()=>d("div",null,[d("h3",null,"PROPIEDAD INTELECTUAL"),d("p",null," Todos los elementos visuales, logotipo, nombre, diseño, funcionalidades, base de datos y software de la App son propiedad exclusiva de [nombre del titular]. Está prohibido su uso sin autorización expresa. ")],-1)),dq=Cn(()=>d("div",null,[d("h3",null,"POLÍTICA DE REEMBOLSO"),d("p",null," La App ofrece servicios intangibles en modalidad de suscripción gratuita. En caso de introducir futuras funciones de pago, los servicios contratados no serán reembolsables una vez activados, salvo error técnico o incumplimiento. "),d("p",null," El usuario podrá ejercer su derecho de desistimiento en un plazo de 14 días naturales desde la contratación del servicio, conforme a la legislación vigente. ")],-1)),hq=Cn(()=>d("div",null,[d("h3",null,"SUSPENSIÓN O CANCELACIÓN DE CUENTA"),d("p",null," Doble 5 podrá suspender temporal o definitivamente la cuenta de un usuario si detecta incumplimiento de estos Términos o cualquier ley aplicable. El usuario puede solicitar la baja de su cuenta en cualquier momento. ")],-1)),fq=Cn(()=>d("div",null,[d("h3",null,"LIMITACIÓN DE RESPONSABILIDAD"),d("p",null," LIMITACIÓN DE RESPONSABILIDAD Doble 5 no se responsabiliza por: - Daños, lesiones o pérdidas derivados de encuentros deportivos organizados a través de la App. - Uso indebido o negligente por parte de otros usuarios. - Errores técnicos o interrupciones en el servicio. El usuario acepta que el uso de la App es bajo su propia responsabilidad. ")],-1)),pq=Cn(()=>d("div",null,[d("h3",null,"DERECHO A MODIFICAR LOS TÉRMINOS"),d("p",null," Nos reservamos el derecho de modificar estos Términos en cualquier momento. Se notificará cualquier cambio sustancial con al menos 30 días de anticipación a través de la app y/o correo electrónico. El uso continuado implicará la aceptación de los nuevos términos. ")],-1)),mq=Cn(()=>d("div",null,[d("h3",null,"LEGISLACIÓN APLICABLE Y JURISDICCIÓN"),d("p",null," Estos Términos se rigen por las leyes del [país, ej. República Oriental del Uruguay]. Toda disputa será resuelta por los tribunales competentes de [Ciudad, ej. Montevideo], salvo que una normativa imperativa indique lo contrario. ")],-1)),gq=Cn(()=>d("div",null,[d("h3",null,"PRIVACIDAD"),d("p",null," Doble 5 protege los datos personales conforme a la Ley de Protección de Datos Personales. La información recopilada se utilizará únicamente con fines operativos del servicio y no se compartirá con terceros sin consentimiento, salvo requerimiento legal. "),d("p",null,"Más información disponible en nuestra Política de Privacidad.")],-1)),Aq={__name:"Terminos",setup(t){return(e,n)=>(C(),T(se,null,[b(Xt,{route:"/registro",title:"TÉRMINOS Y CONDICIONES"}),b(Vt,null,{default:j(()=>[oq,aq,lq,cq,uq,dq,hq,fq,pq,mq,gq]),_:1})],64))}},vq=me(Aq,[["__scopeId","data-v-a79295c8"]]);const yq=t=>(Ge("data-v-4f666c64"),t=t(),ze(),t),_q=yq(()=>d("h2",null,"Restablecer contraseña",-1)),wq={__name:"ResetUser",setup(t){const{setFeedbackMessage:e}=Xe(is),n=M(""),s=M(""),r=In(),i=async()=>{try{const o=await ux(n.value);s.value="Revisá tu correo para cambiar la contraseña.",e({type:"success",message:"Solicitud de cambio de contraseña enviada correctamente."}),r.push("/iniciar-sesion")}catch{e({type:"error",message:"Algo salio mal, intenta nuevamente."})}};return(o,a)=>(C(),T(se,null,[b(Xt,{route:"/iniciar-sesion",title:"Olvide mi contraseña"}),b(Vt,null,{default:j(()=>[_q,at(d("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>n.value=l),placeholder:"Tu correo",type:"email"},null,512),[[Gn,n.value]]),d("button",{onClick:i},"Enviar enlace"),d("p",null,F(s.value),1)]),_:1})],64))}},bq=me(wq,[["__scopeId","data-v-4f666c64"]]),Eq=[{path:"/",beforeEnter:(t,e,n)=>{jh.id?n("/home"):n()},component:ZO},{path:"/iniciar-sesion",component:vU},{path:"/reset-user",component:bq},{path:"/registro",component:gB},{path:"/terminos",component:vq},{path:"/home",component:aP,meta:{requiresAuth:!0}},{path:"/chat",component:zM,meta:{requiresAuth:!0}},{path:"/partidos",component:bj,meta:{requiresAuth:!0}},{path:"/list-private-chats",component:C2,meta:{requiresAuth:!0}},{path:"/notificaciones",component:W3,meta:{requiresAuth:!0}},{path:"/perfil",component:()=>h_(()=>import("./MyProfile-efd68c74.js"),[]),meta:{requiresAuth:!0}},{path:"/usuario/:id",component:JF,meta:{requiresAuth:!0}},{path:"/usuario/:id/valoration",component:X3,meta:{requiresAuth:!0}},{path:"/usuario/:id/valorationList",component:iq,meta:{requiresAuth:!0}},{path:"/usuario/:id/chat",component:_V,meta:{requiresAuth:!0}},{path:"/carga-partidos",component:l2,meta:{requiresAuth:!0}},{path:"/mis-partidos",component:v2,meta:{requiresAuth:!0}},{path:"/info-partido/:id",component:ej,meta:{requiresAuth:!0}},{path:"/inscription/:id",component:Cj,meta:{requiresAuth:!0}},{path:"/feed",component:o$,meta:{requiresAuth:!0}},{path:"/comments/:postId",component:W$,meta:{requiresAuth:!0}},{path:"/red",component:c3,meta:{requiresAuth:!0}},{path:"/ajustes",component:b3,meta:{requiresAuth:!0}},{path:"/ayuda",component:C3,meta:{requiresAuth:!0}}],Vh=LD({routes:Eq,history:eD()});let jh={id:null,email:null};Ky(t=>jh=t);Vh.beforeEach((t,e)=>{if(t.meta.requiresAuth&&jh.id===null)return{path:"/iniciar-sesion"}});function Iq(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:s,onRegistered:r,onRegisteredSW:i,onRegisterError:o}=t;let a,l;const c=async(h=!0)=>{await l};async function u(){if("serviceWorker"in navigator){if(a=await h_(()=>import("./workbox-window.prod.es5-5ffdab76.js"),[]).then(({Workbox:h})=>new h("/sw.js",{scope:"/",type:"classic"})).catch(h=>{o==null||o(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||s==null||s()}),a.register({immediate:e}).then(h=>{i?i("/sw.js",h):r==null||r(h)}).catch(h=>{o==null||o(h)})}}return l=u(),c}const N_=r0(jO),Cq=Iq({onNeedRefresh(){Cq(!0)},onOfflineReady(){console.log("App lista para funcionar offline")}});N_.use(Vh);N_.mount("#app");export{gr as B,se as F,Xt as H,Bs as L,Vt as S,FF as U,I_ as a,C_ as b,T as c,b as d,C as e,Kt as f,y as g,d as h,ce as i,jB as j,dt as o,M as r,F as t,ht as u,j as w};
