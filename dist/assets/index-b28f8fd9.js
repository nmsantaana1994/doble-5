(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Yu(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function cc(t){if(se(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=mt(s)?J_(s):cc(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(mt(t))return t;if(Fe(t))return t}}const q_=/;(?![^(]*\))/g,H_=/:([^]+)/,K_=/\/\*.*?\*\//gs;function J_(t){const e={};return t.replace(K_,"").split(q_).forEach(n=>{if(n){const s=n.split(H_);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Le(t){let e="";if(mt(t))e=t;else if(se(t))for(let n=0;n<t.length;n++){const s=Le(t[n]);s&&(e+=s+" ")}else if(Fe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Q_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",W_=Yu(Q_);function Tm(t){return!!t||t===""}function G_(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=vo(t[s],e[s]);return n}function vo(t,e){if(t===e)return!0;let n=Yh(t),s=Yh(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=Ji(t),s=Ji(e),n||s)return t===e;if(n=se(t),s=se(e),n||s)return n&&s?G_(t,e):!1;if(n=Fe(t),s=Fe(e),n||s){if(!n||!s)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!vo(t[o],e[o]))return!1}}return String(t)===String(e)}function Xu(t,e){return t.findIndex(n=>vo(n,e))}const F=t=>mt(t)?t:t==null?"":se(t)||Fe(t)&&(t.toString===Om||!fe(t.toString))?JSON.stringify(t,Rm,2):String(t),Rm=(t,e)=>e&&e.__v_isRef?Rm(t,e.value):Nr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:ti(e)?{[`Set(${e.size})`]:[...e.values()]}:Fe(e)&&!se(e)&&!Dm(e)?String(e):e,Ve={},Dr=[],yn=()=>{},z_=()=>!1,Y_=/^on[^a-z]/,lc=t=>Y_.test(t),Zu=t=>t.startsWith("onUpdate:"),Lt=Object.assign,ed=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},X_=Object.prototype.hasOwnProperty,Ie=(t,e)=>X_.call(t,e),se=Array.isArray,Nr=t=>yo(t)==="[object Map]",ti=t=>yo(t)==="[object Set]",Yh=t=>yo(t)==="[object Date]",fe=t=>typeof t=="function",mt=t=>typeof t=="string",Ji=t=>typeof t=="symbol",Fe=t=>t!==null&&typeof t=="object",xm=t=>Fe(t)&&fe(t.then)&&fe(t.catch),Om=Object.prototype.toString,yo=t=>Om.call(t),Z_=t=>yo(t).slice(8,-1),Dm=t=>yo(t)==="[object Object]",td=t=>mt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,da=Yu(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),uc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ew=/-(\w)/g,Mn=uc(t=>t.replace(ew,(e,n)=>n?n.toUpperCase():"")),tw=/\B([A-Z])/g,ni=uc(t=>t.replace(tw,"-$1").toLowerCase()),dc=uc(t=>t.charAt(0).toUpperCase()+t.slice(1)),wl=uc(t=>t?`on${dc(t)}`:""),Qi=(t,e)=>!Object.is(t,e),ha=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Sa=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Ca=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Xh;const nw=()=>Xh||(Xh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let mn;class sw{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=mn,!e&&mn&&(this.index=(mn.scopes||(mn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=mn;try{return mn=this,e()}finally{mn=n}}}on(){mn=this}off(){mn=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function rw(t,e=mn){e&&e.active&&e.effects.push(t)}function iw(){return mn}const nd=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Nm=t=>(t.w&ks)>0,Pm=t=>(t.n&ks)>0,ow=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=ks},aw=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];Nm(r)&&!Pm(r)?r.delete(t):e[n++]=r,r.w&=~ks,r.n&=~ks}e.length=n}},Zl=new WeakMap;let Ci=0,ks=1;const eu=30;let gn;const er=Symbol(""),tu=Symbol("");class sd{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,rw(this,s)}run(){if(!this.active)return this.fn();let e=gn,n=_s;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=gn,gn=this,_s=!0,ks=1<<++Ci,Ci<=eu?ow(this):Zh(this),this.fn()}finally{Ci<=eu&&aw(this),ks=1<<--Ci,gn=this.parent,_s=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){gn===this?this.deferStop=!0:this.active&&(Zh(this),this.onStop&&this.onStop(),this.active=!1)}}function Zh(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let _s=!0;const Mm=[];function si(){Mm.push(_s),_s=!1}function ri(){const t=Mm.pop();_s=t===void 0?!0:t}function Yt(t,e,n){if(_s&&gn){let s=Zl.get(t);s||Zl.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=nd()),Um(r)}}function Um(t,e){let n=!1;Ci<=eu?Pm(t)||(t.n|=ks,n=!Nm(t)):n=!t.has(gn),n&&(t.add(gn),gn.deps.push(t))}function zn(t,e,n,s,r,i){const o=Zl.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&se(t)){const c=Number(s);o.forEach((l,u)=>{(u==="length"||u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":se(t)?td(n)&&a.push(o.get("length")):(a.push(o.get(er)),Nr(t)&&a.push(o.get(tu)));break;case"delete":se(t)||(a.push(o.get(er)),Nr(t)&&a.push(o.get(tu)));break;case"set":Nr(t)&&a.push(o.get(er));break}if(a.length===1)a[0]&&nu(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);nu(nd(c))}}function nu(t,e){const n=se(t)?t:[...t];for(const s of n)s.computed&&ef(s);for(const s of n)s.computed||ef(s)}function ef(t,e){(t!==gn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const cw=Yu("__proto__,__v_isRef,__isVue"),Lm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ji)),lw=rd(),uw=rd(!1,!0),dw=rd(!0),tf=hw();function hw(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=Se(this);for(let i=0,o=this.length;i<o;i++)Yt(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(Se)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){si();const s=Se(this)[e].apply(this,n);return ri(),s}}),t}function fw(t){const e=Se(this);return Yt(e,"has",t),e.hasOwnProperty(t)}function rd(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?Rw:jm:e?$m:Vm).get(s))return s;const o=se(s);if(!t){if(o&&Ie(tf,r))return Reflect.get(tf,r,i);if(r==="hasOwnProperty")return fw}const a=Reflect.get(s,r,i);return(Ji(r)?Lm.has(r):cw(r))||(t||Yt(s,"get",r),e)?a:rt(a)?o&&td(r)?a:a.value:Fe(a)?t?qm(a):Ps(a):a}}const pw=Bm(),mw=Bm(!0);function Bm(t=!1){return function(n,s,r,i){let o=n[s];if(ar(o)&&rt(o)&&!rt(r))return!1;if(!t&&(!ka(r)&&!ar(r)&&(o=Se(o),r=Se(r)),!se(n)&&rt(o)&&!rt(r)))return o.value=r,!0;const a=se(n)&&td(s)?Number(s)<n.length:Ie(n,s),c=Reflect.set(n,s,r,i);return n===Se(i)&&(a?Qi(r,o)&&zn(n,"set",s,r):zn(n,"add",s,r)),c}}function gw(t,e){const n=Ie(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&zn(t,"delete",e,void 0),s}function Aw(t,e){const n=Reflect.has(t,e);return(!Ji(e)||!Lm.has(e))&&Yt(t,"has",e),n}function vw(t){return Yt(t,"iterate",se(t)?"length":er),Reflect.ownKeys(t)}const Fm={get:lw,set:pw,deleteProperty:gw,has:Aw,ownKeys:vw},yw={get:dw,set(t,e){return!0},deleteProperty(t,e){return!0}},_w=Lt({},Fm,{get:uw,set:mw}),id=t=>t,hc=t=>Reflect.getPrototypeOf(t);function Wo(t,e,n=!1,s=!1){t=t.__v_raw;const r=Se(t),i=Se(e);n||(e!==i&&Yt(r,"get",e),Yt(r,"get",i));const{has:o}=hc(r),a=s?id:n?cd:Wi;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function Go(t,e=!1){const n=this.__v_raw,s=Se(n),r=Se(t);return e||(t!==r&&Yt(s,"has",t),Yt(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function zo(t,e=!1){return t=t.__v_raw,!e&&Yt(Se(t),"iterate",er),Reflect.get(t,"size",t)}function nf(t){t=Se(t);const e=Se(this);return hc(e).has.call(e,t)||(e.add(t),zn(e,"add",t,t)),this}function sf(t,e){e=Se(e);const n=Se(this),{has:s,get:r}=hc(n);let i=s.call(n,t);i||(t=Se(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?Qi(e,o)&&zn(n,"set",t,e):zn(n,"add",t,e),this}function rf(t){const e=Se(this),{has:n,get:s}=hc(e);let r=n.call(e,t);r||(t=Se(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&zn(e,"delete",t,void 0),i}function of(){const t=Se(this),e=t.size!==0,n=t.clear();return e&&zn(t,"clear",void 0,void 0),n}function Yo(t,e){return function(s,r){const i=this,o=i.__v_raw,a=Se(o),c=e?id:t?cd:Wi;return!t&&Yt(a,"iterate",er),o.forEach((l,u)=>s.call(r,c(l),c(u),i))}}function Xo(t,e,n){return function(...s){const r=this.__v_raw,i=Se(r),o=Nr(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=r[t](...s),u=n?id:e?cd:Wi;return!e&&Yt(i,"iterate",c?tu:er),{next(){const{value:d,done:f}=l.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function as(t){return function(...e){return t==="delete"?!1:this}}function ww(){const t={get(i){return Wo(this,i)},get size(){return zo(this)},has:Go,add:nf,set:sf,delete:rf,clear:of,forEach:Yo(!1,!1)},e={get(i){return Wo(this,i,!1,!0)},get size(){return zo(this)},has:Go,add:nf,set:sf,delete:rf,clear:of,forEach:Yo(!1,!0)},n={get(i){return Wo(this,i,!0)},get size(){return zo(this,!0)},has(i){return Go.call(this,i,!0)},add:as("add"),set:as("set"),delete:as("delete"),clear:as("clear"),forEach:Yo(!0,!1)},s={get(i){return Wo(this,i,!0,!0)},get size(){return zo(this,!0)},has(i){return Go.call(this,i,!0)},add:as("add"),set:as("set"),delete:as("delete"),clear:as("clear"),forEach:Yo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Xo(i,!1,!1),n[i]=Xo(i,!0,!1),e[i]=Xo(i,!1,!0),s[i]=Xo(i,!0,!0)}),[t,n,e,s]}const[bw,Ew,Iw,Sw]=ww();function od(t,e){const n=e?t?Sw:Iw:t?Ew:bw;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(Ie(n,r)&&r in s?n:s,r,i)}const Cw={get:od(!1,!1)},kw={get:od(!1,!0)},Tw={get:od(!0,!1)},Vm=new WeakMap,$m=new WeakMap,jm=new WeakMap,Rw=new WeakMap;function xw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ow(t){return t.__v_skip||!Object.isExtensible(t)?0:xw(Z_(t))}function Ps(t){return ar(t)?t:ad(t,!1,Fm,Cw,Vm)}function Dw(t){return ad(t,!1,_w,kw,$m)}function qm(t){return ad(t,!0,yw,Tw,jm)}function ad(t,e,n,s,r){if(!Fe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=Ow(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function tr(t){return ar(t)?tr(t.__v_raw):!!(t&&t.__v_isReactive)}function ar(t){return!!(t&&t.__v_isReadonly)}function ka(t){return!!(t&&t.__v_isShallow)}function Hm(t){return tr(t)||ar(t)}function Se(t){const e=t&&t.__v_raw;return e?Se(e):t}function Km(t){return Sa(t,"__v_skip",!0),t}const Wi=t=>Fe(t)?Ps(t):t,cd=t=>Fe(t)?qm(t):t;function Jm(t){_s&&gn&&(t=Se(t),Um(t.dep||(t.dep=nd())))}function Qm(t,e){t=Se(t);const n=t.dep;n&&nu(n)}function rt(t){return!!(t&&t.__v_isRef===!0)}function M(t){return Wm(t,!1)}function Nw(t){return Wm(t,!0)}function Wm(t,e){return rt(t)?t:new Pw(t,e)}class Pw{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Se(e),this._value=n?e:Wi(e)}get value(){return Jm(this),this._value}set value(e){const n=this.__v_isShallow||ka(e)||ar(e);e=n?e:Se(e),Qi(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Wi(e),Qm(this))}}function v(t){return rt(t)?t.value:t}const Mw={get:(t,e,n)=>v(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return rt(r)&&!rt(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function Gm(t){return tr(t)?t:new Proxy(t,Mw)}var zm;class Uw{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[zm]=!1,this._dirty=!0,this.effect=new sd(e,()=>{this._dirty||(this._dirty=!0,Qm(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=Se(this);return Jm(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}zm="__v_isReadonly";function Lw(t,e,n=!1){let s,r;const i=fe(t);return i?(s=t,r=yn):(s=t.get,r=t.set),new Uw(s,r,i||!r,n)}function ws(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){fc(i,e,n)}return r}function ln(t,e,n,s){if(fe(t)){const i=ws(t,e,n,s);return i&&xm(i)&&i.catch(o=>{fc(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(ln(t[i],e,n,s));return r}function fc(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){ws(c,null,10,[t,o,a]);return}}Bw(t,n,r,s)}function Bw(t,e,n,s=!0){console.error(t)}let Gi=!1,su=!1;const Ot=[];let Rn=0;const Pr=[];let Hn=null,Js=0;const Ym=Promise.resolve();let ld=null;function zi(t){const e=ld||Ym;return t?e.then(this?t.bind(this):t):e}function Fw(t){let e=Rn+1,n=Ot.length;for(;e<n;){const s=e+n>>>1;Yi(Ot[s])<t?e=s+1:n=s}return e}function ud(t){(!Ot.length||!Ot.includes(t,Gi&&t.allowRecurse?Rn+1:Rn))&&(t.id==null?Ot.push(t):Ot.splice(Fw(t.id),0,t),Xm())}function Xm(){!Gi&&!su&&(su=!0,ld=Ym.then(eg))}function Vw(t){const e=Ot.indexOf(t);e>Rn&&Ot.splice(e,1)}function $w(t){se(t)?Pr.push(...t):(!Hn||!Hn.includes(t,t.allowRecurse?Js+1:Js))&&Pr.push(t),Xm()}function af(t,e=Gi?Rn+1:0){for(;e<Ot.length;e++){const n=Ot[e];n&&n.pre&&(Ot.splice(e,1),e--,n())}}function Zm(t){if(Pr.length){const e=[...new Set(Pr)];if(Pr.length=0,Hn){Hn.push(...e);return}for(Hn=e,Hn.sort((n,s)=>Yi(n)-Yi(s)),Js=0;Js<Hn.length;Js++)Hn[Js]();Hn=null,Js=0}}const Yi=t=>t.id==null?1/0:t.id,jw=(t,e)=>{const n=Yi(t)-Yi(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function eg(t){su=!1,Gi=!0,Ot.sort(jw);const e=yn;try{for(Rn=0;Rn<Ot.length;Rn++){const n=Ot[Rn];n&&n.active!==!1&&ws(n,null,14)}}finally{Rn=0,Ot.length=0,Zm(),Gi=!1,ld=null,(Ot.length||Pr.length)&&eg()}}function qw(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||Ve;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=s[u]||Ve;f&&(r=n.map(p=>mt(p)?p.trim():p)),d&&(r=n.map(Ca))}let a,c=s[a=wl(e)]||s[a=wl(Mn(e))];!c&&i&&(c=s[a=wl(ni(e))]),c&&ln(c,t,6,r);const l=s[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ln(l,t,6,r)}}function tg(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!fe(t)){const c=l=>{const u=tg(l,e,!0);u&&(a=!0,Lt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(Fe(t)&&s.set(t,null),null):(se(i)?i.forEach(c=>o[c]=null):Lt(o,i),Fe(t)&&s.set(t,o),o)}function pc(t,e){return!t||!lc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ie(t,e[0].toLowerCase()+e.slice(1))||Ie(t,ni(e))||Ie(t,e))}let bt=null,mc=null;function Ta(t){const e=bt;return bt=t,mc=t&&t.type.__scopeId||null,e}function Ke(t){mc=t}function Je(){mc=null}function $(t,e=bt,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Af(-1);const i=Ta(e);let o;try{o=t(...r)}finally{Ta(i),s._d&&Af(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function bl(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:d,data:f,setupState:p,ctx:m,inheritAttrs:A}=t;let y,w;const T=Ta(t);try{if(n.shapeFlag&4){const E=r||s;y=Tn(u.call(E,E,d,i,p,f,m)),w=c}else{const E=e;y=Tn(E.length>1?E(i,{attrs:c,slots:a,emit:l}):E(i,null)),w=e.props?c:Hw(c)}}catch(E){Mi.length=0,fc(E,t,1),y=b(un)}let I=y;if(w&&A!==!1){const E=Object.keys(w),{shapeFlag:O}=I;E.length&&O&7&&(o&&E.some(Zu)&&(w=Kw(w,o)),I=Ts(I,w))}return n.dirs&&(I=Ts(I),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&(I.transition=n.transition),y=I,Ta(T),y}const Hw=t=>{let e;for(const n in t)(n==="class"||n==="style"||lc(n))&&((e||(e={}))[n]=t[n]);return e},Kw=(t,e)=>{const n={};for(const s in t)(!Zu(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Jw(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?cf(s,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!pc(l,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?cf(s,o,l):!0:!!o;return!1}function cf(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!pc(n,i))return!0}return!1}function Qw({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Ww=t=>t.__isSuspense;function Gw(t,e){e&&e.pendingBranch?se(t)?e.effects.push(...t):e.effects.push(t):$w(t)}function bs(t,e){if(st){let n=st.provides;const s=st.parent&&st.parent.provides;s===n&&(n=st.provides=Object.create(s)),n[t]=e}}function Ge(t,e,n=!1){const s=st||bt;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&fe(e)?e.call(s.proxy):e}}const Zo={};function Ye(t,e,n){return ng(t,e,n)}function ng(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=Ve){const a=iw()===(st==null?void 0:st.scope)?st:null;let c,l=!1,u=!1;if(rt(t)?(c=()=>t.value,l=ka(t)):tr(t)?(c=()=>t,s=!0):se(t)?(u=!0,l=t.some(I=>tr(I)||ka(I)),c=()=>t.map(I=>{if(rt(I))return I.value;if(tr(I))return Gs(I);if(fe(I))return ws(I,a,2)})):fe(t)?e?c=()=>ws(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return d&&d(),ln(t,a,3,[f])}:c=yn,e&&s){const I=c;c=()=>Gs(I())}let d,f=I=>{d=w.onStop=()=>{ws(I,a,4)}},p;if(Zi)if(f=yn,e?n&&ln(e,a,3,[c(),u?[]:void 0,f]):c(),r==="sync"){const I=jb();p=I.__watcherHandles||(I.__watcherHandles=[])}else return yn;let m=u?new Array(t.length).fill(Zo):Zo;const A=()=>{if(w.active)if(e){const I=w.run();(s||l||(u?I.some((E,O)=>Qi(E,m[O])):Qi(I,m)))&&(d&&d(),ln(e,a,3,[I,m===Zo?void 0:u&&m[0]===Zo?[]:m,f]),m=I)}else w.run()};A.allowRecurse=!!e;let y;r==="sync"?y=A:r==="post"?y=()=>Wt(A,a&&a.suspense):(A.pre=!0,a&&(A.id=a.uid),y=()=>ud(A));const w=new sd(c,y);e?n?A():m=w.run():r==="post"?Wt(w.run.bind(w),a&&a.suspense):w.run();const T=()=>{w.stop(),a&&a.scope&&ed(a.scope.effects,w)};return p&&p.push(T),T}function zw(t,e,n){const s=this.proxy,r=mt(t)?t.includes(".")?sg(s,t):()=>s[t]:t.bind(s,s);let i;fe(e)?i=e:(i=e.handler,n=e);const o=st;Vr(this);const a=ng(r,i.bind(s),n);return o?Vr(o):nr(),a}function sg(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function Gs(t,e){if(!Fe(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),rt(t))Gs(t.value,e);else if(se(t))for(let n=0;n<t.length;n++)Gs(t[n],e);else if(ti(t)||Nr(t))t.forEach(n=>{Gs(n,e)});else if(Dm(t))for(const n in t)Gs(t[n],e);return t}function Yw(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return et(()=>{t.isMounted=!0}),hd(()=>{t.isUnmounting=!0}),t}const cn=[Function,Array],Xw={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:cn,onEnter:cn,onAfterEnter:cn,onEnterCancelled:cn,onBeforeLeave:cn,onLeave:cn,onAfterLeave:cn,onLeaveCancelled:cn,onBeforeAppear:cn,onAppear:cn,onAfterAppear:cn,onAppearCancelled:cn},setup(t,{slots:e}){const n=_g(),s=Yw();let r;return()=>{const i=e.default&&ig(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const A of i)if(A.type!==un){o=A;break}}const a=Se(t),{mode:c}=a;if(s.isLeaving)return El(o);const l=lf(o);if(!l)return El(o);const u=ru(l,a,s,n);iu(l,u);const d=n.subTree,f=d&&lf(d);let p=!1;const{getTransitionKey:m}=l.type;if(m){const A=m();r===void 0?r=A:A!==r&&(r=A,p=!0)}if(f&&f.type!==un&&(!Qs(l,f)||p)){const A=ru(f,a,s,n);if(iu(f,A),c==="out-in")return s.isLeaving=!0,A.afterLeave=()=>{s.isLeaving=!1,n.update.active!==!1&&n.update()},El(o);c==="in-out"&&l.type!==un&&(A.delayLeave=(y,w,T)=>{const I=rg(s,f);I[String(f.key)]=f,y._leaveCb=()=>{w(),y._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=T})}return o}}},Zw=Xw;function rg(t,e){const{leavingVNodes:n}=t;let s=n.get(e.type);return s||(s=Object.create(null),n.set(e.type,s)),s}function ru(t,e,n,s){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:A,onAppear:y,onAfterAppear:w,onAppearCancelled:T}=e,I=String(t.key),E=rg(n,t),O=(H,me)=>{H&&ln(H,s,9,me)},G=(H,me)=>{const oe=me[1];O(H,me),se(H)?H.every(xe=>xe.length<=1)&&oe():H.length<=1&&oe()},Y={mode:i,persisted:o,beforeEnter(H){let me=a;if(!n.isMounted)if(r)me=A||a;else return;H._leaveCb&&H._leaveCb(!0);const oe=E[I];oe&&Qs(t,oe)&&oe.el._leaveCb&&oe.el._leaveCb(),O(me,[H])},enter(H){let me=c,oe=l,xe=u;if(!n.isMounted)if(r)me=y||c,oe=w||l,xe=T||u;else return;let qe=!1;const _t=H._enterCb=kt=>{qe||(qe=!0,kt?O(xe,[H]):O(oe,[H]),Y.delayedLeave&&Y.delayedLeave(),H._enterCb=void 0)};me?G(me,[H,_t]):_t()},leave(H,me){const oe=String(t.key);if(H._enterCb&&H._enterCb(!0),n.isUnmounting)return me();O(d,[H]);let xe=!1;const qe=H._leaveCb=_t=>{xe||(xe=!0,me(),_t?O(m,[H]):O(p,[H]),H._leaveCb=void 0,E[oe]===t&&delete E[oe])};E[oe]=t,f?G(f,[H,qe]):qe()},clone(H){return ru(H,e,n,s)}};return Y}function El(t){if(gc(t))return t=Ts(t),t.children=null,t}function lf(t){return gc(t)?t.children?t.children[0]:void 0:t}function iu(t,e){t.shapeFlag&6&&t.component?iu(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function ig(t,e=!1,n){let s=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===re?(o.patchFlag&128&&r++,s=s.concat(ig(o.children,e,a))):(e||o.type!==un)&&s.push(a!=null?Ts(o,{key:a}):o)}if(r>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}function og(t){return fe(t)?{setup:t,name:t.name}:t}const Ni=t=>!!t.type.__asyncLoader,gc=t=>t.type.__isKeepAlive;function eb(t,e){ag(t,"a",e)}function tb(t,e){ag(t,"da",e)}function ag(t,e,n=st){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Ac(e,s,n),n){let r=n.parent;for(;r&&r.parent;)gc(r.parent.vnode)&&nb(s,e,n,r),r=r.parent}}function nb(t,e,n,s){const r=Ac(e,t,s,!0);Un(()=>{ed(s[e],r)},n)}function Ac(t,e,n=st,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;si(),Vr(n);const a=ln(e,n,t,o);return nr(),ri(),a});return s?r.unshift(i):r.push(i),i}}const rs=t=>(e,n=st)=>(!Zi||t==="sp")&&Ac(t,(...s)=>e(...s),n),dd=rs("bm"),et=rs("m"),sb=rs("bu"),rb=rs("u"),hd=rs("bum"),Un=rs("um"),ib=rs("sp"),ob=rs("rtg"),ab=rs("rtc");function cb(t,e=st){Ac("ec",t,e)}function lt(t,e){const n=bt;if(n===null)return t;const s=wc(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,l=Ve]=e[i];o&&(fe(o)&&(o={mounted:o,updated:o}),o.deep&&Gs(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:c,modifiers:l}))}return t}function $s(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(si(),ln(c,n,8,[t.el,a,t,e]),ri())}}const cg="components";function Xt(t,e){return ub(cg,t,!0,e)||t}const lb=Symbol();function ub(t,e,n=!0,s=!1){const r=bt||st;if(r){const i=r.type;if(t===cg){const a=Fb(i,!1);if(a&&(a===e||a===Mn(e)||a===dc(Mn(e))))return i}const o=uf(r[t]||i[t],e)||uf(r.appContext[t],e);return!o&&s?i:o}}function uf(t,e){return t&&(t[e]||t[Mn(e)]||t[dc(Mn(e))])}function it(t,e,n,s){let r;const i=n&&n[s];if(se(t)||mt(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(Fe(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];r[a]=e(t[l],l,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}function vc(t,e,n={},s,r){if(bt.isCE||bt.parent&&Ni(bt.parent)&&bt.parent.isCE)return e!=="default"&&(n.name=e),b("slot",n,s&&s());let i=t[e];i&&i._c&&(i._d=!1),S();const o=i&&lg(i(n)),a=Nt(re,{key:n.key||o&&o.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function lg(t){return t.some(e=>xa(e)?!(e.type===un||e.type===re&&!lg(e.children)):!0)?t:null}const ou=t=>t?wg(t)?wc(t)||t.proxy:ou(t.parent):null,Pi=Lt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ou(t.parent),$root:t=>ou(t.root),$emit:t=>t.emit,$options:t=>fd(t),$forceUpdate:t=>t.f||(t.f=()=>ud(t.update)),$nextTick:t=>t.n||(t.n=zi.bind(t.proxy)),$watch:t=>zw.bind(t)}),Il=(t,e)=>t!==Ve&&!t.__isScriptSetup&&Ie(t,e),db={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(Il(s,e))return o[e]=1,s[e];if(r!==Ve&&Ie(r,e))return o[e]=2,r[e];if((l=t.propsOptions[0])&&Ie(l,e))return o[e]=3,i[e];if(n!==Ve&&Ie(n,e))return o[e]=4,n[e];au&&(o[e]=0)}}const u=Pi[e];let d,f;if(u)return e==="$attrs"&&Yt(t,"get",e),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Ve&&Ie(n,e))return o[e]=4,n[e];if(f=c.config.globalProperties,Ie(f,e))return f[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return Il(r,e)?(r[e]=n,!0):s!==Ve&&Ie(s,e)?(s[e]=n,!0):Ie(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==Ve&&Ie(t,o)||Il(e,o)||(a=i[0])&&Ie(a,o)||Ie(s,o)||Ie(Pi,o)||Ie(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ie(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let au=!0;function hb(t){const e=fd(t),n=t.proxy,s=t.ctx;au=!1,e.beforeCreate&&df(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:m,activated:A,deactivated:y,beforeDestroy:w,beforeUnmount:T,destroyed:I,unmounted:E,render:O,renderTracked:G,renderTriggered:Y,errorCaptured:H,serverPrefetch:me,expose:oe,inheritAttrs:xe,components:qe,directives:_t,filters:kt}=e;if(l&&fb(l,s,null,t.appContext.config.unwrapInjectedRef),o)for(const be in o){const Te=o[be];fe(Te)&&(s[be]=Te.bind(n))}if(r){const be=r.call(n,n);Fe(be)&&(t.data=Ps(be))}if(au=!0,i)for(const be in i){const Te=i[be],Zt=fe(Te)?Te.bind(n,n):fe(Te.get)?Te.get.bind(n,n):yn,Oe=!fe(Te)&&fe(Te.set)?Te.set.bind(n):yn,ft=ae({get:Zt,set:Oe});Object.defineProperty(s,be,{enumerable:!0,configurable:!0,get:()=>ft.value,set:Qe=>ft.value=Qe})}if(a)for(const be in a)ug(a[be],s,n,be);if(c){const be=fe(c)?c.call(n):c;Reflect.ownKeys(be).forEach(Te=>{bs(Te,be[Te])})}u&&df(u,t,"c");function Ce(be,Te){se(Te)?Te.forEach(Zt=>be(Zt.bind(n))):Te&&be(Te.bind(n))}if(Ce(dd,d),Ce(et,f),Ce(sb,p),Ce(rb,m),Ce(eb,A),Ce(tb,y),Ce(cb,H),Ce(ab,G),Ce(ob,Y),Ce(hd,T),Ce(Un,E),Ce(ib,me),se(oe))if(oe.length){const be=t.exposed||(t.exposed={});oe.forEach(Te=>{Object.defineProperty(be,Te,{get:()=>n[Te],set:Zt=>n[Te]=Zt})})}else t.exposed||(t.exposed={});O&&t.render===yn&&(t.render=O),xe!=null&&(t.inheritAttrs=xe),qe&&(t.components=qe),_t&&(t.directives=_t)}function fb(t,e,n=yn,s=!1){se(t)&&(t=cu(t));for(const r in t){const i=t[r];let o;Fe(i)?"default"in i?o=Ge(i.from||r,i.default,!0):o=Ge(i.from||r):o=Ge(i),rt(o)&&s?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function df(t,e,n){ln(se(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function ug(t,e,n,s){const r=s.includes(".")?sg(n,s):()=>n[s];if(mt(t)){const i=e[t];fe(i)&&Ye(r,i)}else if(fe(t))Ye(r,t.bind(n));else if(Fe(t))if(se(t))t.forEach(i=>ug(i,e,n,s));else{const i=fe(t.handler)?t.handler.bind(n):e[t.handler];fe(i)&&Ye(r,i,t)}}function fd(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(l=>Ra(c,l,o,!0)),Ra(c,e,o)),Fe(e)&&i.set(e,c),c}function Ra(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Ra(t,i,n,!0),r&&r.forEach(o=>Ra(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=pb[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const pb={data:hf,props:qs,emits:qs,methods:qs,computed:qs,beforeCreate:qt,created:qt,beforeMount:qt,mounted:qt,beforeUpdate:qt,updated:qt,beforeDestroy:qt,beforeUnmount:qt,destroyed:qt,unmounted:qt,activated:qt,deactivated:qt,errorCaptured:qt,serverPrefetch:qt,components:qs,directives:qs,watch:gb,provide:hf,inject:mb};function hf(t,e){return e?t?function(){return Lt(fe(t)?t.call(this,this):t,fe(e)?e.call(this,this):e)}:e:t}function mb(t,e){return qs(cu(t),cu(e))}function cu(t){if(se(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function qt(t,e){return t?[...new Set([].concat(t,e))]:e}function qs(t,e){return t?Lt(Lt(Object.create(null),t),e):e}function gb(t,e){if(!t)return e;if(!e)return t;const n=Lt(Object.create(null),t);for(const s in e)n[s]=qt(t[s],e[s]);return n}function Ab(t,e,n,s=!1){const r={},i={};Sa(i,_c,1),t.propsDefaults=Object.create(null),dg(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Dw(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function vb(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=Se(r),[c]=t.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(pc(t.emitsOptions,f))continue;const p=e[f];if(c)if(Ie(i,f))p!==i[f]&&(i[f]=p,l=!0);else{const m=Mn(f);r[m]=lu(c,a,m,p,t,!1)}else p!==i[f]&&(i[f]=p,l=!0)}}}else{dg(t,e,r,i)&&(l=!0);let u;for(const d in a)(!e||!Ie(e,d)&&((u=ni(d))===d||!Ie(e,u)))&&(c?n&&(n[d]!==void 0||n[u]!==void 0)&&(r[d]=lu(c,a,d,void 0,t,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!Ie(e,d))&&(delete i[d],l=!0)}l&&zn(t,"set","$attrs")}function dg(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(da(c))continue;const l=e[c];let u;r&&Ie(r,u=Mn(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:pc(t.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,o=!0)}if(i){const c=Se(n),l=a||Ve;for(let u=0;u<i.length;u++){const d=i[u];n[d]=lu(r,c,d,l[d],t,!Ie(l,d))}}return o}function lu(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=Ie(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&fe(c)){const{propsDefaults:l}=r;n in l?s=l[n]:(Vr(r),s=l[n]=c.call(null,e),nr())}else s=c}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===ni(n))&&(s=!0))}return s}function hg(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let c=!1;if(!fe(t)){const u=d=>{c=!0;const[f,p]=hg(d,e,!0);Lt(o,f),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return Fe(t)&&s.set(t,Dr),Dr;if(se(i))for(let u=0;u<i.length;u++){const d=Mn(i[u]);ff(d)&&(o[d]=Ve)}else if(i)for(const u in i){const d=Mn(u);if(ff(d)){const f=i[u],p=o[d]=se(f)||fe(f)?{type:f}:Object.assign({},f);if(p){const m=gf(Boolean,p.type),A=gf(String,p.type);p[0]=m>-1,p[1]=A<0||m<A,(m>-1||Ie(p,"default"))&&a.push(d)}}}const l=[o,a];return Fe(t)&&s.set(t,l),l}function ff(t){return t[0]!=="$"}function pf(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function mf(t,e){return pf(t)===pf(e)}function gf(t,e){return se(e)?e.findIndex(n=>mf(n,t)):fe(e)&&mf(e,t)?0:-1}const fg=t=>t[0]==="_"||t==="$stable",pd=t=>se(t)?t.map(Tn):[Tn(t)],yb=(t,e,n)=>{if(e._n)return e;const s=$((...r)=>pd(e(...r)),n);return s._c=!1,s},pg=(t,e,n)=>{const s=t._ctx;for(const r in t){if(fg(r))continue;const i=t[r];if(fe(i))e[r]=yb(r,i,s);else if(i!=null){const o=pd(i);e[r]=()=>o}}},mg=(t,e)=>{const n=pd(e);t.slots.default=()=>n},_b=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Se(e),Sa(e,"_",n)):pg(e,t.slots={})}else t.slots={},e&&mg(t,e);Sa(t.slots,_c,1)},wb=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=Ve;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(Lt(r,e),!n&&a===1&&delete r._):(i=!e.$stable,pg(e,r)),o=e}else e&&(mg(t,e),o={default:1});if(i)for(const a in r)!fg(a)&&!(a in o)&&delete r[a]};function gg(){return{app:null,config:{isNativeTag:z_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bb=0;function Eb(t,e){return function(s,r=null){fe(s)||(s=Object.assign({},s)),r!=null&&!Fe(r)&&(r=null);const i=gg(),o=new Set;let a=!1;const c=i.app={_uid:bb++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:qb,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&fe(l.install)?(o.add(l),l.install(c,...u)):fe(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,d){if(!a){const f=b(s,r);return f.appContext=i,u&&e?e(f,l):t(f,l,d),a=!0,c._container=l,l.__vue_app__=c,wc(f.component)||f.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c}};return c}}function uu(t,e,n,s,r=!1){if(se(t)){t.forEach((f,p)=>uu(f,e&&(se(e)?e[p]:e),n,s,r));return}if(Ni(s)&&!r)return;const i=s.shapeFlag&4?wc(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===Ve?a.refs={}:a.refs,d=a.setupState;if(l!=null&&l!==c&&(mt(l)?(u[l]=null,Ie(d,l)&&(d[l]=null)):rt(l)&&(l.value=null)),fe(c))ws(c,a,12,[o,u]);else{const f=mt(c),p=rt(c);if(f||p){const m=()=>{if(t.f){const A=f?Ie(d,c)?d[c]:u[c]:c.value;r?se(A)&&ed(A,i):se(A)?A.includes(i)||A.push(i):f?(u[c]=[i],Ie(d,c)&&(d[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else f?(u[c]=o,Ie(d,c)&&(d[c]=o)):p&&(c.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,Wt(m,n)):m()}}}const Wt=Gw;function Ib(t){return Sb(t)}function Sb(t,e){const n=nw();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:d,nextSibling:f,setScopeId:p=yn,insertStaticContent:m}=t,A=(g,_,C,R=null,N=null,B=null,q=!1,L=null,V=!!_.dynamicChildren)=>{if(g===_)return;g&&!Qs(g,_)&&(R=j(g),Qe(g,N,B,!0),g=null),_.patchFlag===-2&&(V=!1,_.dynamicChildren=null);const{type:P,ref:ee,shapeFlag:Q}=_;switch(P){case yc:y(g,_,C,R);break;case un:w(g,_,C,R);break;case Sl:g==null&&T(_,C,R,q);break;case re:qe(g,_,C,R,N,B,q,L,V);break;default:Q&1?O(g,_,C,R,N,B,q,L,V):Q&6?_t(g,_,C,R,N,B,q,L,V):(Q&64||Q&128)&&P.process(g,_,C,R,N,B,q,L,V,Ee)}ee!=null&&N&&uu(ee,g&&g.ref,B,_||g,!_)},y=(g,_,C,R)=>{if(g==null)s(_.el=a(_.children),C,R);else{const N=_.el=g.el;_.children!==g.children&&l(N,_.children)}},w=(g,_,C,R)=>{g==null?s(_.el=c(_.children||""),C,R):_.el=g.el},T=(g,_,C,R)=>{[g.el,g.anchor]=m(g.children,_,C,R,g.el,g.anchor)},I=({el:g,anchor:_},C,R)=>{let N;for(;g&&g!==_;)N=f(g),s(g,C,R),g=N;s(_,C,R)},E=({el:g,anchor:_})=>{let C;for(;g&&g!==_;)C=f(g),r(g),g=C;r(_)},O=(g,_,C,R,N,B,q,L,V)=>{q=q||_.type==="svg",g==null?G(_,C,R,N,B,q,L,V):me(g,_,N,B,q,L,V)},G=(g,_,C,R,N,B,q,L)=>{let V,P;const{type:ee,props:Q,shapeFlag:te,transition:le,dirs:ve}=g;if(V=g.el=o(g.type,B,Q&&Q.is,Q),te&8?u(V,g.children):te&16&&H(g.children,V,null,R,N,B&&ee!=="foreignObject",q,L),ve&&$s(g,null,R,"created"),Y(V,g,g.scopeId,q,R),Q){for(const Pe in Q)Pe!=="value"&&!da(Pe)&&i(V,Pe,null,Q[Pe],B,g.children,R,N,K);"value"in Q&&i(V,"value",null,Q.value),(P=Q.onVnodeBeforeMount)&&Cn(P,R,g)}ve&&$s(g,null,R,"beforeMount");const Ue=(!N||N&&!N.pendingBranch)&&le&&!le.persisted;Ue&&le.beforeEnter(V),s(V,_,C),((P=Q&&Q.onVnodeMounted)||Ue||ve)&&Wt(()=>{P&&Cn(P,R,g),Ue&&le.enter(V),ve&&$s(g,null,R,"mounted")},N)},Y=(g,_,C,R,N)=>{if(C&&p(g,C),R)for(let B=0;B<R.length;B++)p(g,R[B]);if(N){let B=N.subTree;if(_===B){const q=N.vnode;Y(g,q,q.scopeId,q.slotScopeIds,N.parent)}}},H=(g,_,C,R,N,B,q,L,V=0)=>{for(let P=V;P<g.length;P++){const ee=g[P]=L?ds(g[P]):Tn(g[P]);A(null,ee,_,C,R,N,B,q,L)}},me=(g,_,C,R,N,B,q)=>{const L=_.el=g.el;let{patchFlag:V,dynamicChildren:P,dirs:ee}=_;V|=g.patchFlag&16;const Q=g.props||Ve,te=_.props||Ve;let le;C&&js(C,!1),(le=te.onVnodeBeforeUpdate)&&Cn(le,C,_,g),ee&&$s(_,g,C,"beforeUpdate"),C&&js(C,!0);const ve=N&&_.type!=="foreignObject";if(P?oe(g.dynamicChildren,P,L,C,R,ve,B):q||Te(g,_,L,null,C,R,ve,B,!1),V>0){if(V&16)xe(L,_,Q,te,C,R,N);else if(V&2&&Q.class!==te.class&&i(L,"class",null,te.class,N),V&4&&i(L,"style",Q.style,te.style,N),V&8){const Ue=_.dynamicProps;for(let Pe=0;Pe<Ue.length;Pe++){const ot=Ue[Pe],pn=Q[ot],Ir=te[ot];(Ir!==pn||ot==="value")&&i(L,ot,pn,Ir,N,g.children,C,R,K)}}V&1&&g.children!==_.children&&u(L,_.children)}else!q&&P==null&&xe(L,_,Q,te,C,R,N);((le=te.onVnodeUpdated)||ee)&&Wt(()=>{le&&Cn(le,C,_,g),ee&&$s(_,g,C,"updated")},R)},oe=(g,_,C,R,N,B,q)=>{for(let L=0;L<_.length;L++){const V=g[L],P=_[L],ee=V.el&&(V.type===re||!Qs(V,P)||V.shapeFlag&70)?d(V.el):C;A(V,P,ee,null,R,N,B,q,!0)}},xe=(g,_,C,R,N,B,q)=>{if(C!==R){if(C!==Ve)for(const L in C)!da(L)&&!(L in R)&&i(g,L,C[L],null,q,_.children,N,B,K);for(const L in R){if(da(L))continue;const V=R[L],P=C[L];V!==P&&L!=="value"&&i(g,L,P,V,q,_.children,N,B,K)}"value"in R&&i(g,"value",C.value,R.value)}},qe=(g,_,C,R,N,B,q,L,V)=>{const P=_.el=g?g.el:a(""),ee=_.anchor=g?g.anchor:a("");let{patchFlag:Q,dynamicChildren:te,slotScopeIds:le}=_;le&&(L=L?L.concat(le):le),g==null?(s(P,C,R),s(ee,C,R),H(_.children,C,ee,N,B,q,L,V)):Q>0&&Q&64&&te&&g.dynamicChildren?(oe(g.dynamicChildren,te,C,N,B,q,L),(_.key!=null||N&&_===N.subTree)&&Ag(g,_,!0)):Te(g,_,C,ee,N,B,q,L,V)},_t=(g,_,C,R,N,B,q,L,V)=>{_.slotScopeIds=L,g==null?_.shapeFlag&512?N.ctx.activate(_,C,R,q,V):kt(_,C,R,N,B,q,V):ze(g,_,V)},kt=(g,_,C,R,N,B,q)=>{const L=g.component=Pb(g,R,N);if(gc(g)&&(L.ctx.renderer=Ee),Mb(L),L.asyncDep){if(N&&N.registerDep(L,Ce),!g.el){const V=L.subTree=b(un);w(null,V,_,C)}return}Ce(L,g,_,C,N,B,q)},ze=(g,_,C)=>{const R=_.component=g.component;if(Jw(g,_,C))if(R.asyncDep&&!R.asyncResolved){be(R,_,C);return}else R.next=_,Vw(R.update),R.update();else _.el=g.el,R.vnode=_},Ce=(g,_,C,R,N,B,q)=>{const L=()=>{if(g.isMounted){let{next:ee,bu:Q,u:te,parent:le,vnode:ve}=g,Ue=ee,Pe;js(g,!1),ee?(ee.el=ve.el,be(g,ee,q)):ee=ve,Q&&ha(Q),(Pe=ee.props&&ee.props.onVnodeBeforeUpdate)&&Cn(Pe,le,ee,ve),js(g,!0);const ot=bl(g),pn=g.subTree;g.subTree=ot,A(pn,ot,d(pn.el),j(pn),g,N,B),ee.el=ot.el,Ue===null&&Qw(g,ot.el),te&&Wt(te,N),(Pe=ee.props&&ee.props.onVnodeUpdated)&&Wt(()=>Cn(Pe,le,ee,ve),N)}else{let ee;const{el:Q,props:te}=_,{bm:le,m:ve,parent:Ue}=g,Pe=Ni(_);if(js(g,!1),le&&ha(le),!Pe&&(ee=te&&te.onVnodeBeforeMount)&&Cn(ee,Ue,_),js(g,!0),Q&&Ae){const ot=()=>{g.subTree=bl(g),Ae(Q,g.subTree,g,N,null)};Pe?_.type.__asyncLoader().then(()=>!g.isUnmounted&&ot()):ot()}else{const ot=g.subTree=bl(g);A(null,ot,C,R,g,N,B),_.el=ot.el}if(ve&&Wt(ve,N),!Pe&&(ee=te&&te.onVnodeMounted)){const ot=_;Wt(()=>Cn(ee,Ue,ot),N)}(_.shapeFlag&256||Ue&&Ni(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&g.a&&Wt(g.a,N),g.isMounted=!0,_=C=R=null}},V=g.effect=new sd(L,()=>ud(P),g.scope),P=g.update=()=>V.run();P.id=g.uid,js(g,!0),P()},be=(g,_,C)=>{_.component=g;const R=g.vnode.props;g.vnode=_,g.next=null,vb(g,_.props,R,C),wb(g,_.children,C),si(),af(),ri()},Te=(g,_,C,R,N,B,q,L,V=!1)=>{const P=g&&g.children,ee=g?g.shapeFlag:0,Q=_.children,{patchFlag:te,shapeFlag:le}=_;if(te>0){if(te&128){Oe(P,Q,C,R,N,B,q,L,V);return}else if(te&256){Zt(P,Q,C,R,N,B,q,L,V);return}}le&8?(ee&16&&K(P,N,B),Q!==P&&u(C,Q)):ee&16?le&16?Oe(P,Q,C,R,N,B,q,L,V):K(P,N,B,!0):(ee&8&&u(C,""),le&16&&H(Q,C,R,N,B,q,L,V))},Zt=(g,_,C,R,N,B,q,L,V)=>{g=g||Dr,_=_||Dr;const P=g.length,ee=_.length,Q=Math.min(P,ee);let te;for(te=0;te<Q;te++){const le=_[te]=V?ds(_[te]):Tn(_[te]);A(g[te],le,C,null,N,B,q,L,V)}P>ee?K(g,N,B,!0,!1,Q):H(_,C,R,N,B,q,L,V,Q)},Oe=(g,_,C,R,N,B,q,L,V)=>{let P=0;const ee=_.length;let Q=g.length-1,te=ee-1;for(;P<=Q&&P<=te;){const le=g[P],ve=_[P]=V?ds(_[P]):Tn(_[P]);if(Qs(le,ve))A(le,ve,C,null,N,B,q,L,V);else break;P++}for(;P<=Q&&P<=te;){const le=g[Q],ve=_[te]=V?ds(_[te]):Tn(_[te]);if(Qs(le,ve))A(le,ve,C,null,N,B,q,L,V);else break;Q--,te--}if(P>Q){if(P<=te){const le=te+1,ve=le<ee?_[le].el:R;for(;P<=te;)A(null,_[P]=V?ds(_[P]):Tn(_[P]),C,ve,N,B,q,L,V),P++}}else if(P>te)for(;P<=Q;)Qe(g[P],N,B,!0),P++;else{const le=P,ve=P,Ue=new Map;for(P=ve;P<=te;P++){const en=_[P]=V?ds(_[P]):Tn(_[P]);en.key!=null&&Ue.set(en.key,P)}let Pe,ot=0;const pn=te-ve+1;let Ir=!1,Wh=0;const yi=new Array(pn);for(P=0;P<pn;P++)yi[P]=0;for(P=le;P<=Q;P++){const en=g[P];if(ot>=pn){Qe(en,N,B,!0);continue}let Sn;if(en.key!=null)Sn=Ue.get(en.key);else for(Pe=ve;Pe<=te;Pe++)if(yi[Pe-ve]===0&&Qs(en,_[Pe])){Sn=Pe;break}Sn===void 0?Qe(en,N,B,!0):(yi[Sn-ve]=P+1,Sn>=Wh?Wh=Sn:Ir=!0,A(en,_[Sn],C,null,N,B,q,L,V),ot++)}const Gh=Ir?Cb(yi):Dr;for(Pe=Gh.length-1,P=pn-1;P>=0;P--){const en=ve+P,Sn=_[en],zh=en+1<ee?_[en+1].el:R;yi[P]===0?A(null,Sn,C,zh,N,B,q,L,V):Ir&&(Pe<0||P!==Gh[Pe]?ft(Sn,C,zh,2):Pe--)}}},ft=(g,_,C,R,N=null)=>{const{el:B,type:q,transition:L,children:V,shapeFlag:P}=g;if(P&6){ft(g.component.subTree,_,C,R);return}if(P&128){g.suspense.move(_,C,R);return}if(P&64){q.move(g,_,C,Ee);return}if(q===re){s(B,_,C);for(let Q=0;Q<V.length;Q++)ft(V[Q],_,C,R);s(g.anchor,_,C);return}if(q===Sl){I(g,_,C);return}if(R!==2&&P&1&&L)if(R===0)L.beforeEnter(B),s(B,_,C),Wt(()=>L.enter(B),N);else{const{leave:Q,delayLeave:te,afterLeave:le}=L,ve=()=>s(B,_,C),Ue=()=>{Q(B,()=>{ve(),le&&le()})};te?te(B,ve,Ue):Ue()}else s(B,_,C)},Qe=(g,_,C,R=!1,N=!1)=>{const{type:B,props:q,ref:L,children:V,dynamicChildren:P,shapeFlag:ee,patchFlag:Q,dirs:te}=g;if(L!=null&&uu(L,null,C,g,!0),ee&256){_.ctx.deactivate(g);return}const le=ee&1&&te,ve=!Ni(g);let Ue;if(ve&&(Ue=q&&q.onVnodeBeforeUnmount)&&Cn(Ue,_,g),ee&6)D(g.component,C,R);else{if(ee&128){g.suspense.unmount(C,R);return}le&&$s(g,null,_,"beforeUnmount"),ee&64?g.type.remove(g,_,C,N,Ee,R):P&&(B!==re||Q>0&&Q&64)?K(P,_,C,!1,!0):(B===re&&Q&384||!N&&ee&16)&&K(V,_,C),R&&Er(g)}(ve&&(Ue=q&&q.onVnodeUnmounted)||le)&&Wt(()=>{Ue&&Cn(Ue,_,g),le&&$s(g,null,_,"unmounted")},C)},Er=g=>{const{type:_,el:C,anchor:R,transition:N}=g;if(_===re){Qo(C,R);return}if(_===Sl){E(g);return}const B=()=>{r(C),N&&!N.persisted&&N.afterLeave&&N.afterLeave()};if(g.shapeFlag&1&&N&&!N.persisted){const{leave:q,delayLeave:L}=N,V=()=>q(C,B);L?L(g.el,B,V):V()}else B()},Qo=(g,_)=>{let C;for(;g!==_;)C=f(g),r(g),g=C;r(_)},D=(g,_,C)=>{const{bum:R,scope:N,update:B,subTree:q,um:L}=g;R&&ha(R),N.stop(),B&&(B.active=!1,Qe(q,g,_,C)),L&&Wt(L,_),Wt(()=>{g.isUnmounted=!0},_),_&&_.pendingBranch&&!_.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===_.pendingId&&(_.deps--,_.deps===0&&_.resolve())},K=(g,_,C,R=!1,N=!1,B=0)=>{for(let q=B;q<g.length;q++)Qe(g[q],_,C,R,N)},j=g=>g.shapeFlag&6?j(g.component.subTree):g.shapeFlag&128?g.suspense.next():f(g.anchor||g.el),X=(g,_,C)=>{g==null?_._vnode&&Qe(_._vnode,null,null,!0):A(_._vnode||null,g,_,null,null,null,C),af(),Zm(),_._vnode=g},Ee={p:A,um:Qe,m:ft,r:Er,mt:kt,mc:H,pc:Te,pbc:oe,n:j,o:t};let We,Ae;return e&&([We,Ae]=e(Ee)),{render:X,hydrate:We,createApp:Eb(X,We)}}function js({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Ag(t,e,n=!1){const s=t.children,r=e.children;if(se(s)&&se(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=ds(r[i]),a.el=o.el),n||Ag(o,a)),a.type===yc&&(a.el=o.el)}}function Cb(t){const e=t.slice(),n=[0];let s,r,i,o,a;const c=t.length;for(s=0;s<c;s++){const l=t[s];if(l!==0){if(r=n[n.length-1],t[r]<l){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const kb=t=>t.__isTeleport,re=Symbol(void 0),yc=Symbol(void 0),un=Symbol(void 0),Sl=Symbol(void 0),Mi=[];let An=null;function S(t=!1){Mi.push(An=t?null:[])}function Tb(){Mi.pop(),An=Mi[Mi.length-1]||null}let Xi=1;function Af(t){Xi+=t}function vg(t){return t.dynamicChildren=Xi>0?An||Dr:null,Tb(),Xi>0&&An&&An.push(t),t}function k(t,e,n,s,r,i){return vg(h(t,e,n,s,r,i,!0))}function Nt(t,e,n,s,r){return vg(b(t,e,n,s,r,!0))}function xa(t){return t?t.__v_isVNode===!0:!1}function Qs(t,e){return t.type===e.type&&t.key===e.key}const _c="__vInternal",yg=({key:t})=>t??null,fa=({ref:t,ref_key:e,ref_for:n})=>t!=null?mt(t)||rt(t)||fe(t)?{i:bt,r:t,k:e,f:!!n}:t:null;function h(t,e=null,n=null,s=0,r=null,i=t===re?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&yg(e),ref:e&&fa(e),scopeId:mc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:bt};return a?(md(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=mt(n)?8:16),Xi>0&&!o&&An&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&An.push(c),c}const b=Rb;function Rb(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===lb)&&(t=un),xa(t)){const a=Ts(t,e,!0);return n&&md(a,n),Xi>0&&!i&&An&&(a.shapeFlag&6?An[An.indexOf(t)]=a:An.push(a)),a.patchFlag|=-2,a}if(Vb(t)&&(t=t.__vccOpts),e){e=xb(e);let{class:a,style:c}=e;a&&!mt(a)&&(e.class=Le(a)),Fe(c)&&(Hm(c)&&!se(c)&&(c=Lt({},c)),e.style=cc(c))}const o=mt(t)?1:Ww(t)?128:kb(t)?64:Fe(t)?4:fe(t)?2:0;return h(t,e,n,s,r,o,i,!0)}function xb(t){return t?Hm(t)||_c in t?Lt({},t):t:null}function Ts(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?Ob(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&yg(a),ref:e&&e.ref?n&&r?se(r)?r.concat(fa(e)):[r,fa(e)]:fa(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==re?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ts(t.ssContent),ssFallback:t.ssFallback&&Ts(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ge(t=" ",e=0){return b(yc,null,t,e)}function Me(t="",e=!1){return e?(S(),Nt(un,null,t)):b(un,null,t)}function Tn(t){return t==null||typeof t=="boolean"?b(un):se(t)?b(re,null,t.slice()):typeof t=="object"?ds(t):b(yc,null,String(t))}function ds(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ts(t)}function md(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(se(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),md(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(_c in e)?e._ctx=bt:r===3&&bt&&(bt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else fe(e)?(e={default:e,_ctx:bt},n=32):(e=String(e),s&64?(n=16,e=[ge(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ob(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=Le([e.class,s.class]));else if(r==="style")e.style=cc([e.style,s.style]);else if(lc(r)){const i=e[r],o=s[r];o&&i!==o&&!(se(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Cn(t,e,n,s=null){ln(t,e,7,[n,s])}const Db=gg();let Nb=0;function Pb(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||Db,i={uid:Nb++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new sw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hg(s,r),emitsOptions:tg(s,r),emit:null,emitted:null,propsDefaults:Ve,inheritAttrs:s.inheritAttrs,ctx:Ve,data:Ve,props:Ve,attrs:Ve,slots:Ve,refs:Ve,setupState:Ve,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=qw.bind(null,i),t.ce&&t.ce(i),i}let st=null;const _g=()=>st||bt,Vr=t=>{st=t,t.scope.on()},nr=()=>{st&&st.scope.off(),st=null};function wg(t){return t.vnode.shapeFlag&4}let Zi=!1;function Mb(t,e=!1){Zi=e;const{props:n,children:s}=t.vnode,r=wg(t);Ab(t,n,r,e),_b(t,s);const i=r?Ub(t,e):void 0;return Zi=!1,i}function Ub(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Km(new Proxy(t.ctx,db));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?Bb(t):null;Vr(t),si();const i=ws(s,t,0,[t.props,r]);if(ri(),nr(),xm(i)){if(i.then(nr,nr),e)return i.then(o=>{vf(t,o,e)}).catch(o=>{fc(o,t,0)});t.asyncDep=i}else vf(t,i,e)}else bg(t,e)}function vf(t,e,n){fe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Fe(e)&&(t.setupState=Gm(e)),bg(t,n)}let yf;function bg(t,e,n){const s=t.type;if(!t.render){if(!e&&yf&&!s.render){const r=s.template||fd(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=s,l=Lt(Lt({isCustomElement:i,delimiters:a},o),c);s.render=yf(r,l)}}t.render=s.render||yn}Vr(t),si(),hb(t),ri(),nr()}function Lb(t){return new Proxy(t.attrs,{get(e,n){return Yt(t,"get","$attrs"),e[n]}})}function Bb(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=Lb(t))},slots:t.slots,emit:t.emit,expose:e}}function wc(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Gm(Km(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Pi)return Pi[n](t)},has(e,n){return n in e||n in Pi}}))}function Fb(t,e=!0){return fe(t)?t.displayName||t.name:t.name||e&&t.__name}function Vb(t){return fe(t)&&"__vccOpts"in t}const ae=(t,e)=>Lw(t,e,Zi);function Eg(t,e,n){const s=arguments.length;return s===2?Fe(e)&&!se(e)?xa(e)?b(t,null,[e]):b(t,e):b(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&xa(n)&&(n=[n]),b(t,e,n))}const $b=Symbol(""),jb=()=>Ge($b),qb="3.2.47",Hb="http://www.w3.org/2000/svg",Ws=typeof document<"u"?document:null,_f=Ws&&Ws.createElement("template"),Kb={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?Ws.createElementNS(Hb,t):Ws.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>Ws.createTextNode(t),createComment:t=>Ws.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ws.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{_f.innerHTML=s?`<svg>${t}</svg>`:t;const a=_f.content;if(s){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Jb(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Qb(t,e,n){const s=t.style,r=mt(n);if(n&&!r){if(e&&!mt(e))for(const i in e)n[i]==null&&du(s,i,"");for(const i in n)du(s,i,n[i])}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const wf=/\s*!important$/;function du(t,e,n){if(se(n))n.forEach(s=>du(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Wb(t,e);wf.test(n)?t.setProperty(ni(s),n.replace(wf,""),"important"):t[s]=n}}const bf=["Webkit","Moz","ms"],Cl={};function Wb(t,e){const n=Cl[e];if(n)return n;let s=Mn(e);if(s!=="filter"&&s in t)return Cl[e]=s;s=dc(s);for(let r=0;r<bf.length;r++){const i=bf[r]+s;if(i in t)return Cl[e]=i}return e}const Ef="http://www.w3.org/1999/xlink";function Gb(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Ef,e.slice(6,e.length)):t.setAttributeNS(Ef,e,n);else{const i=W_(e);n==null||i&&!Tm(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function zb(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const c=n??"";(t.value!==c||t.tagName==="OPTION")&&(t.value=c),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Tm(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function ps(t,e,n,s){t.addEventListener(e,n,s)}function Yb(t,e,n,s){t.removeEventListener(e,n,s)}function Xb(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,c]=Zb(e);if(s){const l=i[e]=n0(s,r);ps(t,a,l,c)}else o&&(Yb(t,a,o,c),i[e]=void 0)}}const If=/(?:Once|Passive|Capture)$/;function Zb(t){let e;if(If.test(t)){e={};let s;for(;s=t.match(If);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ni(t.slice(2)),e]}let kl=0;const e0=Promise.resolve(),t0=()=>kl||(e0.then(()=>kl=0),kl=Date.now());function n0(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ln(s0(s,n.value),e,5,[s])};return n.value=t,n.attached=t0(),n}function s0(t,e){if(se(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const Sf=/^on[a-z]/,r0=(t,e,n,s,r=!1,i,o,a,c)=>{e==="class"?Jb(t,s,r):e==="style"?Qb(t,n,s):lc(e)?Zu(e)||Xb(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):i0(t,e,s,r))?zb(t,e,s,i,o,a,c):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Gb(t,e,s,r))};function i0(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&Sf.test(e)&&fe(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Sf.test(e)&&mt(n)?!1:e in t}const o0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Zw.props;const $r=t=>{const e=t.props["onUpdate:modelValue"]||!1;return se(e)?n=>ha(e,n):e};function a0(t){t.target.composing=!0}function Cf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Rs={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=$r(r);const i=s||r.props&&r.props.type==="number";ps(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Ca(a)),t._assign(a)}),n&&ps(t,"change",()=>{t.value=t.value.trim()}),e||(ps(t,"compositionstart",a0),ps(t,"compositionend",Cf),ps(t,"change",Cf))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t._assign=$r(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&Ca(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},c0={deep:!0,created(t,e,n){t._assign=$r(n),ps(t,"change",()=>{const s=t._modelValue,r=eo(t),i=t.checked,o=t._assign;if(se(s)){const a=Xu(s,r),c=a!==-1;if(i&&!c)o(s.concat(r));else if(!i&&c){const l=[...s];l.splice(a,1),o(l)}}else if(ti(s)){const a=new Set(s);i?a.add(r):a.delete(r),o(a)}else o(Ig(t,i))})},mounted:kf,beforeUpdate(t,e,n){t._assign=$r(n),kf(t,e,n)}};function kf(t,{value:e,oldValue:n},s){t._modelValue=e,se(e)?t.checked=Xu(e,s.props.value)>-1:ti(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=vo(e,Ig(t,!0)))}const zs={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const r=ti(e);ps(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Ca(eo(o)):eo(o));t._assign(t.multiple?r?new Set(i):i:i[0])}),t._assign=$r(s)},mounted(t,{value:e}){Tf(t,e)},beforeUpdate(t,e,n){t._assign=$r(n)},updated(t,{value:e}){Tf(t,e)}};function Tf(t,e){const n=t.multiple;if(!(n&&!se(e)&&!ti(e))){for(let s=0,r=t.options.length;s<r;s++){const i=t.options[s],o=eo(i);if(n)se(e)?i.selected=Xu(e,o)>-1:i.selected=e.has(o);else if(vo(eo(i),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function eo(t){return"_value"in t?t._value:t.value}function Ig(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const l0=["ctrl","shift","alt","meta"],u0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>l0.some(n=>t[`${n}Key`]&&!e.includes(n))},En=(t,e)=>(n,...s)=>{for(let r=0;r<e.length;r++){const i=u0[e[r]];if(i&&i(n,e))return}return t(n,...s)},pa={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):_i(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:s}){!e!=!n&&(s?e?(s.beforeEnter(t),_i(t,!0),s.enter(t)):s.leave(t,()=>{_i(t,!1)}):_i(t,e))},beforeUnmount(t,{value:e}){_i(t,e)}};function _i(t,e){t.style.display=e?t._vod:"none"}const d0=Lt({patchProp:r0},Kb);let Rf;function h0(){return Rf||(Rf=Ib(d0))}const f0=(...t)=>{const e=h0().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=p0(s);if(!r)return;const i=e._component;!fe(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function p0(t){return mt(t)?document.querySelector(t):t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},m0=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Cg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(f=64)),s.push(n[u],n[d],n[f],n[p])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const l=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||l==null||d==null)throw new g0;const f=i<<2|a>>4;if(s.push(f),l!==64){const p=a<<4&240|l>>2;if(s.push(p),d!==64){const m=l<<6&192|d;s.push(m)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A0=function(t){const e=Sg(t);return Cg.encodeByteArray(e,!0)},Oa=function(t){return A0(t).replace(/\./g,"")},kg=function(t){try{return Cg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=()=>v0().__FIREBASE_DEFAULTS__,_0=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},w0=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kg(t[1]);return e&&JSON.parse(e)},bc=()=>{try{return y0()||_0()||w0()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Tg=t=>{var e,n;return(n=(e=bc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Rg=t=>{const e=Tg(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},b0=()=>{var t;return(t=bc())===null||t===void 0?void 0:t.config},xg=t=>{var e;return(e=bc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Oa(JSON.stringify(n)),Oa(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function S0(){var t;const e=(t=bc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function C0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function k0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T0(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function R0(){try{return typeof indexedDB=="object"}catch{return!1}}function x0(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="FirebaseError";class Fn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=O0,Object.setPrototypeOf(this,Fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_o.prototype.create)}}class _o{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?D0(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Fn(r,a,s)}}function D0(t,e){return t.replace(N0,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const N0=/\{\$([^}]+)}/g;function P0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Da(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(xf(i)&&xf(o)){if(!Da(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function xf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ki(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function Ti(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function M0(t,e){const n=new U0(t,e);return n.subscribe.bind(n)}class U0{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");L0(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=Tl),r.error===void 0&&(r.error=Tl),r.complete===void 0&&(r.complete=Tl);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L0(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tl(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t){return t&&t._delegate?t._delegate:t}class xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new E0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V0(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:F0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F0(t){return t===Hs?void 0:t}function V0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const j0={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},q0=ke.INFO,H0={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},K0=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=H0[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gd{constructor(e){this.name=e,this._logLevel=q0,this._logHandler=K0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const J0=(t,e)=>e.some(n=>t instanceof n);let Of,Df;function Q0(){return Of||(Of=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W0(){return Df||(Df=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dg=new WeakMap,hu=new WeakMap,Ng=new WeakMap,Rl=new WeakMap,Ad=new WeakMap;function G0(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Es(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Dg.set(n,t)}).catch(()=>{}),Ad.set(e,t),e}function z0(t){if(hu.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});hu.set(t,e)}let fu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ng.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Y0(t){fu=t(fu)}function X0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(xl(this),e,...n);return Ng.set(s,e.sort?e.sort():[e]),Es(s)}:W0().includes(t)?function(...e){return t.apply(xl(this),e),Es(Dg.get(this))}:function(...e){return Es(t.apply(xl(this),e))}}function Z0(t){return typeof t=="function"?X0(t):(t instanceof IDBTransaction&&z0(t),J0(t,Q0())?new Proxy(t,fu):t)}function Es(t){if(t instanceof IDBRequest)return G0(t);if(Rl.has(t))return Rl.get(t);const e=Z0(t);return e!==t&&(Rl.set(t,e),Ad.set(e,t)),e}const xl=t=>Ad.get(t);function eE(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Es(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Es(o.result),c.oldVersion,c.newVersion,Es(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const tE=["get","getKey","getAll","getAllKeys","count"],nE=["put","add","delete","clear"],Ol=new Map;function Nf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ol.get(e))return Ol.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=nE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||tE.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return Ol.set(e,i),i}Y0(t=>({...t,get:(e,n,s)=>Nf(e,n)||t.get(e,n,s),has:(e,n)=>!!Nf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function rE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pu="@firebase/app",Pf="0.9.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new gd("@firebase/app"),iE="@firebase/app-compat",oE="@firebase/analytics-compat",aE="@firebase/analytics",cE="@firebase/app-check-compat",lE="@firebase/app-check",uE="@firebase/auth",dE="@firebase/auth-compat",hE="@firebase/database",fE="@firebase/database-compat",pE="@firebase/functions",mE="@firebase/functions-compat",gE="@firebase/installations",AE="@firebase/installations-compat",vE="@firebase/messaging",yE="@firebase/messaging-compat",_E="@firebase/performance",wE="@firebase/performance-compat",bE="@firebase/remote-config",EE="@firebase/remote-config-compat",IE="@firebase/storage",SE="@firebase/storage-compat",CE="@firebase/firestore",kE="@firebase/firestore-compat",TE="firebase",RE="9.18.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu="[DEFAULT]",xE={[pu]:"fire-core",[iE]:"fire-core-compat",[aE]:"fire-analytics",[oE]:"fire-analytics-compat",[lE]:"fire-app-check",[cE]:"fire-app-check-compat",[uE]:"fire-auth",[dE]:"fire-auth-compat",[hE]:"fire-rtdb",[fE]:"fire-rtdb-compat",[pE]:"fire-fn",[mE]:"fire-fn-compat",[gE]:"fire-iid",[AE]:"fire-iid-compat",[vE]:"fire-fcm",[yE]:"fire-fcm-compat",[_E]:"fire-perf",[wE]:"fire-perf-compat",[bE]:"fire-rc",[EE]:"fire-rc-compat",[IE]:"fire-gcs",[SE]:"fire-gcs-compat",[CE]:"fire-fst",[kE]:"fire-fst-compat","fire-js":"fire-js",[TE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new Map,gu=new Map;function OE(t,e){try{t.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lr(t){const e=t.name;if(gu.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;gu.set(e,t);for(const n of Na.values())OE(n,t);return!0}function Ec(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Is=new _o("app","Firebase",DE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=RE;function Pg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:mu,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw Is.create("bad-app-name",{appName:String(r)});if(n||(n=b0()),!n)throw Is.create("no-options");const i=Na.get(r);if(i){if(Da(n,i.options)&&Da(s,i.config))return i;throw Is.create("duplicate-app",{appName:r})}const o=new $0(r);for(const c of gu.values())o.addComponent(c);const a=new NE(n,s,o);return Na.set(r,a),a}function vd(t=mu){const e=Na.get(t);if(!e&&t===mu)return Pg();if(!e)throw Is.create("no-app",{appName:t});return e}function On(t,e,n){var s;let r=(s=xE[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(a.join(" "));return}lr(new xs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="firebase-heartbeat-database",ME=1,to="firebase-heartbeat-store";let Dl=null;function Mg(){return Dl||(Dl=eE(PE,ME,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(to)}}}).catch(t=>{throw Is.create("idb-open",{originalErrorMessage:t.message})})),Dl}async function UE(t){try{return(await Mg()).transaction(to).objectStore(to).get(Ug(t))}catch(e){if(e instanceof Fn)cr.warn(e.message);else{const n=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(n.message)}}}async function Mf(t,e){try{const s=(await Mg()).transaction(to,"readwrite");return await s.objectStore(to).put(e,Ug(t)),s.done}catch(n){if(n instanceof Fn)cr.warn(n.message);else{const s=Is.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(s.message)}}}function Ug(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=1024,BE=30*24*60*60*1e3;class FE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $E(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Uf();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=BE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uf(),{heartbeatsToSend:n,unsentEntries:s}=VE(this._heartbeatsCache.heartbeats),r=Oa(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Uf(){return new Date().toISOString().substring(0,10)}function VE(t,e=LE){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Lf(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Lf(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $E{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R0()?x0().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await UE(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Mf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Mf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Lf(t){return Oa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t){lr(new xs("platform-logger",e=>new sE(e),"PRIVATE")),lr(new xs("heartbeat",e=>new FE(e),"PRIVATE")),On(pu,Pf,t),On(pu,Pf,"esm2017"),On("fire-js","")}jE("");var qE="firebase",HE="9.18.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On(qE,HE,"app");var KE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,yd=yd||{},ce=KE||self;function Pa(){}function Ic(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function bo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function JE(t){return Object.prototype.hasOwnProperty.call(t,Nl)&&t[Nl]||(t[Nl]=++QE)}var Nl="closure_uid_"+(1e9*Math.random()>>>0),QE=0;function WE(t,e,n){return t.call.apply(t.bind,arguments)}function GE(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function Pt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Pt=WE:Pt=GE,Pt.apply(null,arguments)}function ea(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function Ct(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function Ms(){this.s=this.s,this.o=this.o}var zE=0;Ms.prototype.s=!1;Ms.prototype.na=function(){!this.s&&(this.s=!0,this.M(),zE!=0)&&JE(this)};Ms.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Lg=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function _d(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function Bf(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Ic(s)){const r=t.length||0,i=s.length||0;t.length=r+i;for(let o=0;o<i;o++)t[r+o]=s[o]}else t.push(s)}}function Mt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Mt.prototype.h=function(){this.defaultPrevented=!0};var YE=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ce.addEventListener("test",Pa,e),ce.removeEventListener("test",Pa,e)}catch{}return t}();function Ma(t){return/^[\s\xa0]*$/.test(t)}var Ff=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Pl(t,e){return t<e?-1:t>e?1:0}function Sc(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function xn(t){return Sc().indexOf(t)!=-1}function wd(t){return wd[" "](t),t}wd[" "]=Pa;function XE(t){var e=tI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var ZE=xn("Opera"),jr=xn("Trident")||xn("MSIE"),Bg=xn("Edge"),Au=Bg||jr,Fg=xn("Gecko")&&!(Sc().toLowerCase().indexOf("webkit")!=-1&&!xn("Edge"))&&!(xn("Trident")||xn("MSIE"))&&!xn("Edge"),eI=Sc().toLowerCase().indexOf("webkit")!=-1&&!xn("Edge");function Vg(){var t=ce.document;return t?t.documentMode:void 0}var Ua;e:{var Ml="",Ul=function(){var t=Sc();if(Fg)return/rv:([^\);]+)(\)|;)/.exec(t);if(Bg)return/Edge\/([\d\.]+)/.exec(t);if(jr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(eI)return/WebKit\/(\S+)/.exec(t);if(ZE)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ul&&(Ml=Ul?Ul[1]:""),jr){var Ll=Vg();if(Ll!=null&&Ll>parseFloat(Ml)){Ua=String(Ll);break e}}Ua=Ml}var tI={};function nI(){return XE(function(){let t=0;const e=Ff(String(Ua)).split("."),n=Ff("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=Pl(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||Pl(r[2].length==0,i[2].length==0)||Pl(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var vu;if(ce.document&&jr){var Vf=Vg();vu=Vf||parseInt(Ua,10)||void 0}else vu=void 0;var sI=vu;function no(t,e){if(Mt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Fg){e:{try{wd(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:rI[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&no.X.h.call(this)}}Ct(no,Mt);var rI={2:"touch",3:"pen",4:"mouse"};no.prototype.h=function(){no.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Eo="closure_listenable_"+(1e6*Math.random()|0),iI=0;function oI(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.ha=r,this.key=++iI,this.ba=this.ea=!1}function Cc(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function bd(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function $g(t){const e={};for(const n in t)e[n]=t[n];return e}const $f="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jg(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<$f.length;i++)n=$f[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function kc(t){this.src=t,this.g={},this.h=0}kc.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=_u(t,e,s,r);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new oI(e,this.src,i,!!s,r),e.ea=n,t.push(e)),e};function yu(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=Lg(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Cc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function _u(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.ba&&i.listener==e&&i.capture==!!n&&i.ha==s)return r}return-1}var Ed="closure_lm_"+(1e6*Math.random()|0),Bl={};function qg(t,e,n,s,r){if(s&&s.once)return Kg(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)qg(t,e[i],n,s,r);return null}return n=Cd(n),t&&t[Eo]?t.N(e,n,bo(s)?!!s.capture:!!s,r):Hg(t,e,n,!1,s,r)}function Hg(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=bo(r)?!!r.capture:!!r,a=Sd(t);if(a||(t[Ed]=a=new kc(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=aI(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)YE||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(Qg(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function aI(){function t(n){return e.call(t.src,t.listener,n)}const e=cI;return t}function Kg(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Kg(t,e[i],n,s,r);return null}return n=Cd(n),t&&t[Eo]?t.O(e,n,bo(s)?!!s.capture:!!s,r):Hg(t,e,n,!0,s,r)}function Jg(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)Jg(t,e[i],n,s,r);else s=bo(s)?!!s.capture:!!s,n=Cd(n),t&&t[Eo]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=_u(i,n,s,r),-1<n&&(Cc(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Sd(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_u(e,n,s,r)),(n=-1<t?e[t]:null)&&Id(n))}function Id(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Eo])yu(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Qg(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Sd(e))?(yu(n,t),n.h==0&&(n.src=null,e[Ed]=null)):Cc(t)}}}function Qg(t){return t in Bl?Bl[t]:Bl[t]="on"+t}function cI(t,e){if(t.ba)t=!0;else{e=new no(e,this);var n=t.listener,s=t.ha||t.src;t.ea&&Id(t),t=n.call(s,e)}return t}function Sd(t){return t=t[Ed],t instanceof kc?t:null}var Fl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cd(t){return typeof t=="function"?t:(t[Fl]||(t[Fl]=function(e){return t.handleEvent(e)}),t[Fl])}function yt(){Ms.call(this),this.i=new kc(this),this.P=this,this.I=null}Ct(yt,Ms);yt.prototype[Eo]=!0;yt.prototype.removeEventListener=function(t,e,n,s){Jg(this,t,e,n,s)};function Et(t,e){var n,s=t.I;if(s)for(n=[];s;s=s.I)n.push(s);if(t=t.P,s=e.type||e,typeof e=="string")e=new Mt(e,t);else if(e instanceof Mt)e.target=e.target||t;else{var r=e;e=new Mt(s,t),jg(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=ta(o,s,!0,e)&&r}if(o=e.g=t,r=ta(o,s,!0,e)&&r,r=ta(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=ta(o,s,!1,e)&&r}yt.prototype.M=function(){if(yt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Cc(n[s]);delete t.g[e],t.h--}}this.I=null};yt.prototype.N=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};yt.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function ta(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.ba&&o.capture==n){var a=o.listener,c=o.ha||o.src;o.ea&&yu(t.i,o),r=a.call(c,s)!==!1&&r}}return r&&!s.defaultPrevented}var kd=ce.JSON.stringify;function lI(){var t=zg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class uI{constructor(){this.h=this.g=null}add(e,n){const s=Wg.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var Wg=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new dI,t=>t.reset());class dI{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function hI(t){ce.setTimeout(()=>{throw t},0)}function Gg(t,e){wu||fI(),bu||(wu(),bu=!0),zg.add(t,e)}var wu;function fI(){var t=ce.Promise.resolve(void 0);wu=function(){t.then(pI)}}var bu=!1,zg=new uI;function pI(){for(var t;t=lI();){try{t.h.call(t.g)}catch(n){hI(n)}var e=Wg;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}bu=!1}function Tc(t,e){yt.call(this),this.h=t||1,this.g=e||ce,this.j=Pt(this.lb,this),this.l=Date.now()}Ct(Tc,yt);W=Tc.prototype;W.ca=!1;W.R=null;W.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Et(this,"tick"),this.ca&&(Td(this),this.start()))}};W.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Td(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}W.M=function(){Tc.X.M.call(this),Td(this),delete this.g};function Rd(t,e,n){if(typeof t=="function")n&&(t=Pt(t,n));else if(t&&typeof t.handleEvent=="function")t=Pt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function Yg(t){t.g=Rd(()=>{t.g=null,t.i&&(t.i=!1,Yg(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class mI extends Ms{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Yg(this)}M(){super.M(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function so(t){Ms.call(this),this.h=t,this.g={}}Ct(so,Ms);var jf=[];function Xg(t,e,n,s){Array.isArray(n)||(n&&(jf[0]=n.toString()),n=jf);for(var r=0;r<n.length;r++){var i=qg(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Zg(t){bd(t.g,function(e,n){this.g.hasOwnProperty(n)&&Id(e)},t),t.g={}}so.prototype.M=function(){so.X.M.call(this),Zg(this)};so.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Rc(){this.g=!0}Rc.prototype.Aa=function(){this.g=!1};function gI(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function AI(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function xr(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+yI(t,n)+(s?" "+s:"")})}function vI(t,e){t.info(function(){return"TIMEOUT: "+e})}Rc.prototype.info=function(){};function yI(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return kd(n)}catch{return e}}var Ar={},qf=null;function xc(){return qf=qf||new yt}Ar.Pa="serverreachability";function eA(t){Mt.call(this,Ar.Pa,t)}Ct(eA,Mt);function ro(t){const e=xc();Et(e,new eA(e))}Ar.STAT_EVENT="statevent";function tA(t,e){Mt.call(this,Ar.STAT_EVENT,t),this.stat=e}Ct(tA,Mt);function Ht(t){const e=xc();Et(e,new tA(e,t))}Ar.Qa="timingevent";function nA(t,e){Mt.call(this,Ar.Qa,t),this.size=e}Ct(nA,Mt);function Io(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var Oc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},sA={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function xd(){}xd.prototype.h=null;function Hf(t){return t.h||(t.h=t.i())}function rA(){}var So={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Od(){Mt.call(this,"d")}Ct(Od,Mt);function Dd(){Mt.call(this,"c")}Ct(Dd,Mt);var Eu;function Dc(){}Ct(Dc,xd);Dc.prototype.g=function(){return new XMLHttpRequest};Dc.prototype.i=function(){return{}};Eu=new Dc;function Co(t,e,n,s){this.l=t,this.j=e,this.m=n,this.U=s||1,this.S=new so(this),this.O=_I,t=Au?125:void 0,this.T=new Tc(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new iA}function iA(){this.i=null,this.g="",this.h=!1}var _I=45e3,Iu={},La={};W=Co.prototype;W.setTimeout=function(t){this.O=t};function Su(t,e,n){t.K=1,t.v=Pc(Yn(e)),t.s=n,t.P=!0,oA(t,null)}function oA(t,e){t.F=Date.now(),ko(t),t.A=Yn(t.v);var n=t.A,s=t.U;Array.isArray(s)||(s=[String(s)]),pA(n.i,"t",s),t.C=0,n=t.l.H,t.h=new iA,t.g=MA(t.l,n?e:null,!t.s),0<t.N&&(t.L=new mI(Pt(t.La,t,t.g),t.N)),Xg(t.S,t.g,"readystatechange",t.ib),e=t.H?$g(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),ro(),gI(t.j,t.u,t.A,t.m,t.U,t.s)}W.ib=function(t){t=t.target;const e=this.L;e&&Kn(t)==3?e.l():this.La(t)};W.La=function(t){try{if(t==this.g)e:{const u=Kn(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>u)&&(u!=3||Au||this.g&&(this.h.h||this.g.fa()||Wf(this.g)))){this.I||u!=4||e==7||(e==8||0>=d?ro(3):ro(2)),Nc(this);var n=this.g.aa();this.Y=n;t:if(aA(this)){var s=Wf(this.g);t="";var r=s.length,i=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ys(this),Ui(this);var o="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,AI(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ma(a)){var l=a;break t}}l=null}if(n=l)xr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Cu(this,n);else{this.i=!1,this.o=3,Ht(12),Ys(this),Ui(this);break e}}this.P?(cA(this,u,o),Au&&this.i&&u==3&&(Xg(this.S,this.T,"tick",this.hb),this.T.start())):(xr(this.j,this.m,o,null),Cu(this,o)),u==4&&Ys(this),this.i&&!this.I&&(u==4?OA(this.l,this):(this.i=!1,ko(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ht(12)):(this.o=0,Ht(13)),Ys(this),Ui(this)}}}catch{}finally{}};function aA(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function cA(t,e,n){let s=!0,r;for(;!t.I&&t.C<n.length;)if(r=wI(t,n),r==La){e==4&&(t.o=4,Ht(14),s=!1),xr(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Iu){t.o=4,Ht(15),xr(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else xr(t.j,t.m,r,null),Cu(t,r);aA(t)&&r!=La&&r!=Iu&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Ht(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fd(e),e.K=!0,Ht(11))):(xr(t.j,t.m,n,"[Invalid Chunked Response]"),Ys(t),Ui(t))}W.hb=function(){if(this.g){var t=Kn(this.g),e=this.g.fa();this.C<e.length&&(Nc(this),cA(this,t,e),this.i&&t!=4&&ko(this))}};function wI(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?La:(n=Number(e.substring(n,s)),isNaN(n)?Iu:(s+=1,s+n>e.length?La:(e=e.substr(s,n),t.C=s+n,e)))}W.cancel=function(){this.I=!0,Ys(this)};function ko(t){t.V=Date.now()+t.O,lA(t,t.O)}function lA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Io(Pt(t.gb,t),e)}function Nc(t){t.B&&(ce.clearTimeout(t.B),t.B=null)}W.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(vI(this.j,this.A),this.K!=2&&(ro(),Ht(17)),Ys(this),this.o=2,Ui(this)):lA(this,this.V-t)};function Ui(t){t.l.G==0||t.I||OA(t.l,t)}function Ys(t){Nc(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Td(t.T),Zg(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Cu(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||ku(n.h,t))){if(!t.J&&ku(n.h,t)&&n.G==3){try{var s=n.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Va(n),Lc(n);else break e;Bd(n),Ht(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&n.A==0&&!n.v&&(n.v=Io(Pt(n.cb,n),6e3));if(1>=AA(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Xs(n,11)}else if((t.J||n.g==t)&&Va(n),!Ma(e))for(r=n.Fa.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.T=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.I=l[1],n.ka=l[2];const u=l[3];u!=null&&(n.ma=u,n.j.info("VER="+n.ma));const d=l[4];d!=null&&(n.Ca=d,n.j.info("SVER="+n.Ca));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(s=1.5*f,n.J=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=s.h;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Nd(i,i.h),i.h=null))}if(s.D){const A=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;A&&(s.za=A,He(s.F,s.D,A))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),s=n;var o=t;if(s.sa=PA(s,s.H?s.ka:null,s.V),o.J){vA(s.h,o);var a=o,c=s.J;c&&a.setTimeout(c),a.B&&(Nc(a),ko(a)),s.g=o}else RA(s);0<n.i.length&&Bc(n)}else l[0]!="stop"&&l[0]!="close"||Xs(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Xs(n,7):Ld(n):l[0]!="noop"&&n.l&&n.l.wa(l),n.A=0)}}ro(4)}catch{}}function bI(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ic(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function EI(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ic(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function uA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ic(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=EI(t),s=bI(t),r=s.length,i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}var dA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function II(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function sr(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof sr){this.h=e!==void 0?e:t.h,Ba(this,t.j),this.s=t.s,this.g=t.g,Fa(this,t.m),this.l=t.l,e=t.i;var n=new io;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Kf(this,n),this.o=t.o}else t&&(n=String(t).match(dA))?(this.h=!!e,Ba(this,n[1]||"",!0),this.s=Ri(n[2]||""),this.g=Ri(n[3]||"",!0),Fa(this,n[4]),this.l=Ri(n[5]||"",!0),Kf(this,n[6]||"",!0),this.o=Ri(n[7]||"")):(this.h=!!e,this.i=new io(null,this.h))}sr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(xi(e,Jf,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(xi(e,Jf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(xi(n,n.charAt(0)=="/"?kI:CI,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",xi(n,RI)),t.join("")};function Yn(t){return new sr(t)}function Ba(t,e,n){t.j=n?Ri(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Kf(t,e,n){e instanceof io?(t.i=e,xI(t.i,t.h)):(n||(e=xi(e,TI)),t.i=new io(e,t.h))}function He(t,e,n){t.i.set(e,n)}function Pc(t){return He(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ri(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function xi(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,SI),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function SI(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Jf=/[#\/\?@]/g,CI=/[#\?:]/g,kI=/[#\?]/g,TI=/[#\?@]/g,RI=/#/g;function io(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Us(t){t.g||(t.g=new Map,t.h=0,t.i&&II(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}W=io.prototype;W.add=function(t,e){Us(this),this.i=null,t=oi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function hA(t,e){Us(t),e=oi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function fA(t,e){return Us(t),e=oi(t,e),t.g.has(e)}W.forEach=function(t,e){Us(this),this.g.forEach(function(n,s){n.forEach(function(r){t.call(e,r,s,this)},this)},this)};W.oa=function(){Us(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const r=t[s];for(let i=0;i<r.length;i++)n.push(e[s])}return n};W.W=function(t){Us(this);let e=[];if(typeof t=="string")fA(this,t)&&(e=e.concat(this.g.get(oi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};W.set=function(t,e){return Us(this),this.i=null,t=oi(this,t),fA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};W.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function pA(t,e,n){hA(t,e),0<n.length&&(t.i=null,t.g.set(oi(t,e),_d(n)),t.h+=n.length)}W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const i=encodeURIComponent(String(s)),o=this.W(s);for(s=0;s<o.length;s++){var r=i;o[s]!==""&&(r+="="+encodeURIComponent(String(o[s]))),t.push(r)}}return this.i=t.join("&")};function oi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function xI(t,e){e&&!t.j&&(Us(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(hA(this,s),pA(this,r,n))},t)),t.j=e}var OI=class{constructor(e,n){this.h=e,this.g=n}};function mA(t){this.l=t||DI,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ga&&ce.g.Ga()&&ce.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var DI=10;function gA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function AA(t){return t.h?1:t.g?t.g.size:0}function ku(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Nd(t,e){t.g?t.g.add(e):t.h=e}function vA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}mA.prototype.cancel=function(){if(this.i=yA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function yA(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return _d(t.i)}function Pd(){}Pd.prototype.stringify=function(t){return ce.JSON.stringify(t,void 0)};Pd.prototype.parse=function(t){return ce.JSON.parse(t,void 0)};function NI(){this.g=new Pd}function PI(t,e,n){const s=n||"";try{uA(t,function(r,i){let o=r;bo(r)&&(o=kd(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function MI(t,e){const n=new Rc;if(ce.Image){const s=new Image;s.onload=ea(na,n,s,"TestLoadImage: loaded",!0,e),s.onerror=ea(na,n,s,"TestLoadImage: error",!1,e),s.onabort=ea(na,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=ea(na,n,s,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function na(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function To(t){this.l=t.ac||null,this.j=t.jb||!1}Ct(To,xd);To.prototype.g=function(){return new Mc(this.l,this.j)};To.prototype.i=function(t){return function(){return t}}({});function Mc(t,e){yt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Md,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ct(Mc,yt);var Md=0;W=Mc.prototype;W.open=function(t,e){if(this.readyState!=Md)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,oo(this)};W.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ce).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ro(this)),this.readyState=Md};W.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,oo(this)),this.g&&(this.readyState=3,oo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_A(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function _A(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}W.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ro(this):oo(this),this.readyState==3&&_A(this)}};W.Va=function(t){this.g&&(this.response=this.responseText=t,Ro(this))};W.Ua=function(t){this.g&&(this.response=t,Ro(this))};W.ga=function(){this.g&&Ro(this)};function Ro(t){t.readyState=4,t.l=null,t.j=null,t.A=null,oo(t)}W.setRequestHeader=function(t,e){this.v.append(t,e)};W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function oo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var UI=ce.JSON.parse;function Xe(t){yt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wA,this.K=this.L=!1}Ct(Xe,yt);var wA="",LI=/^https?$/i,BI=["POST","PUT"];W=Xe.prototype;W.Ka=function(t){this.L=t};W.da=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Eu.g(),this.C=this.u?Hf(this.u):Hf(Eu),this.g.onreadystatechange=Pt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(i){Qf(this,i);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var r in s)n.set(r,s[r]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const i of s.keys())n.set(i,s.get(i));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),r=ce.FormData&&t instanceof ce.FormData,!(0<=Lg(BI,e))||s||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{IA(this),0<this.B&&((this.K=FI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pt(this.qa,this)):this.A=Rd(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Qf(this,i)}};function FI(t){return jr&&nI()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}W.qa=function(){typeof yd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))};function Qf(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,bA(t),Uc(t)}function bA(t){t.D||(t.D=!0,Et(t,"complete"),Et(t,"error"))}W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),Uc(this))};W.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uc(this,!0)),Xe.X.M.call(this)};W.Ha=function(){this.s||(this.F||this.v||this.l?EA(this):this.fb())};W.fb=function(){EA(this)};function EA(t){if(t.h&&typeof yd<"u"&&(!t.C[1]||Kn(t)!=4||t.aa()!=2)){if(t.v&&Kn(t)==4)Rd(t.Ha,0,t);else if(Et(t,"readystatechange"),Kn(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.H).match(dA)[1]||null;if(!r&&ce.self&&ce.self.location){var i=ce.self.location.protocol;r=i.substr(0,i.length-1)}s=!LI.test(r?r.toLowerCase():"")}n=s}if(n)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var o=2<Kn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",bA(t)}}finally{Uc(t)}}}}function Uc(t,e){if(t.g){IA(t);const n=t.g,s=t.C[0]?Pa:null;t.g=null,t.C=null,e||Et(t,"ready");try{n.onreadystatechange=s}catch{}}}function IA(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}function Kn(t){return t.g?t.g.readyState:0}W.aa=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}};W.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),UI(e)}};function Wf(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case wA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}W.Ea=function(){return this.m};W.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function SA(t){let e="";return bd(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Ud(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=SA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):He(t,e,n))}function wi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function CA(t){this.Ca=0,this.i=[],this.j=new Rc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=wi("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=wi("baseRetryDelayMs",5e3,t),this.bb=wi("retryDelaySeedMs",1e4,t),this.$a=wi("forwardChannelMaxRetries",2,t),this.ta=wi("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new mA(t&&t.concurrentRequestLimit),this.Fa=new NI,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}W=CA.prototype;W.ma=8;W.G=1;function Ld(t){if(kA(t),t.G==3){var e=t.U++,n=Yn(t.F);He(n,"SID",t.I),He(n,"RID",e),He(n,"TYPE","terminate"),xo(t,n),e=new Co(t,t.j,e,void 0),e.K=2,e.v=Pc(Yn(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon&&(n=ce.navigator.sendBeacon(e.v.toString(),"")),!n&&ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=MA(e.l,null),e.g.da(e.v)),e.F=Date.now(),ko(e)}NA(t)}function Lc(t){t.g&&(Fd(t),t.g.cancel(),t.g=null)}function kA(t){Lc(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Va(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function Bc(t){gA(t.h)||t.m||(t.m=!0,Gg(t.Ja,t),t.C=0)}function VI(t,e){return AA(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Io(Pt(t.Ja,t,e),DA(t,t.C)),t.C++,!0)}W.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new Co(this,this.j,t,void 0);let i=this.s;if(this.S&&(i?(i=$g(i),jg(i,this.S)):i=this.S),this.o!==null||this.N||(r.H=i,i=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var s=this.i[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=TA(this,r,e),n=Yn(this.F),He(n,"RID",t),He(n,"CVER",22),this.D&&He(n,"X-HTTP-Session-Id",this.D),xo(this,n),i&&(this.N?e="headers="+encodeURIComponent(String(SA(i)))+"&"+e:this.o&&Ud(n,this.o,i)),Nd(this.h,r),this.Ya&&He(n,"TYPE","init"),this.O?(He(n,"$req",e),He(n,"SID","null"),r.Z=!0,Su(r,n,null)):Su(r,n,e),this.G=2}}else this.G==3&&(t?Gf(this,t):this.i.length==0||gA(this.h)||Gf(this))};function Gf(t,e){var n;e?n=e.m:n=t.U++;const s=Yn(t.F);He(s,"SID",t.I),He(s,"RID",n),He(s,"AID",t.T),xo(t,s),t.o&&t.s&&Ud(s,t.o,t.s),n=new Co(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=TA(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Nd(t.h,n),Su(n,s,e)}function xo(t,e){t.ia&&bd(t.ia,function(n,s){He(e,s,n)}),t.l&&uA({},function(n,s){He(e,s,n)})}function TA(t,e,n){n=Math.min(t.i.length,n);var s=t.l?Pt(t.l.Ra,t.l,t):null;e:{var r=t.i;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=r[c].h;const u=r[c].g;if(l-=i,0>l)i=Math.max(0,r[c].h-100),a=!1;else try{PI(u,o,"req"+l+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,s}function RA(t){t.g||t.u||(t.Z=1,Gg(t.Ia,t),t.A=0)}function Bd(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Io(Pt(t.Ia,t),DA(t,t.A)),t.A++,!0)}W.Ia=function(){if(this.u=null,xA(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Io(Pt(this.eb,this),t)}};W.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ht(10),Lc(this),xA(this))};function Fd(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function xA(t){t.g=new Co(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Yn(t.sa);He(e,"RID","rpc"),He(e,"SID",t.I),He(e,"CI",t.L?"0":"1"),He(e,"AID",t.T),He(e,"TYPE","xmlhttp"),xo(t,e),t.o&&t.s&&Ud(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Pc(Yn(e)),n.s=null,n.P=!0,oA(n,t)}W.cb=function(){this.v!=null&&(this.v=null,Lc(this),Bd(this),Ht(19))};function Va(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function OA(t,e){var n=null;if(t.g==e){Va(t),Fd(t),t.g=null;var s=2}else if(ku(t.h,e))n=e.D,vA(t.h,e),s=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;s=xc(),Et(s,new nA(s,n)),Bc(t)}else RA(t);else if(r=e.o,r==3||r==0&&0<t.pa||!(s==1&&VI(t,e)||s==2&&Bd(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:Xs(t,5);break;case 4:Xs(t,10);break;case 3:Xs(t,6);break;default:Xs(t,2)}}}function DA(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Xs(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var s=Pt(t.kb,t);n||(n=new sr("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Ba(n,"https"),Pc(n)),MI(n.toString(),s)}else Ht(2);t.G=0,t.l&&t.l.va(e),NA(t),kA(t)}W.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function NA(t){if(t.G=0,t.la=[],t.l){const e=yA(t.h);(e.length!=0||t.i.length!=0)&&(Bf(t.la,e),Bf(t.la,t.i),t.h.i.length=0,_d(t.i),t.i.length=0),t.l.ua()}}function PA(t,e,n){var s=n instanceof sr?Yn(n):new sr(n,void 0);if(s.g!="")e&&(s.g=e+"."+s.g),Fa(s,s.m);else{var r=ce.location;s=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var i=new sr(null,void 0);s&&Ba(i,s),e&&(i.g=e),r&&Fa(i,r),n&&(i.l=n),s=i}return n=t.D,e=t.za,n&&e&&He(s,n,e),He(s,"VER",t.ma),xo(t,s),s}function MA(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Xe(new To({jb:!0})):new Xe(t.ra),e.Ka(t.H),e}function UA(){}W=UA.prototype;W.xa=function(){};W.wa=function(){};W.va=function(){};W.ua=function(){};W.Ra=function(){};function $a(){if(jr&&!(10<=Number(sI)))throw Error("Environmental error: no available transport.")}$a.prototype.g=function(t,e){return new rn(t,e)};function rn(t,e){yt.call(this),this.g=new CA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Ma(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ma(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ai(this)}Ct(rn,yt);rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Ht(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=PA(t,null,t.V),Bc(t)};rn.prototype.close=function(){Ld(this.g)};rn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=kd(t),t=n);e.i.push(new OI(e.ab++,t)),e.G==3&&Bc(e)};rn.prototype.M=function(){this.g.l=null,delete this.j,Ld(this.g),delete this.g,rn.X.M.call(this)};function LA(t){Od.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ct(LA,Od);function BA(){Dd.call(this),this.status=1}Ct(BA,Dd);function ai(t){this.g=t}Ct(ai,UA);ai.prototype.xa=function(){Et(this.g,"a")};ai.prototype.wa=function(t){Et(this.g,new LA(t))};ai.prototype.va=function(t){Et(this.g,new BA)};ai.prototype.ua=function(){Et(this.g,"b")};$a.prototype.createWebChannel=$a.prototype.g;rn.prototype.send=rn.prototype.u;rn.prototype.open=rn.prototype.m;rn.prototype.close=rn.prototype.close;Oc.NO_ERROR=0;Oc.TIMEOUT=8;Oc.HTTP_ERROR=6;sA.COMPLETE="complete";rA.EventType=So;So.OPEN="a";So.CLOSE="b";So.ERROR="c";So.MESSAGE="d";yt.prototype.listen=yt.prototype.N;Xe.prototype.listenOnce=Xe.prototype.O;Xe.prototype.getLastError=Xe.prototype.Oa;Xe.prototype.getLastErrorCode=Xe.prototype.Ea;Xe.prototype.getStatus=Xe.prototype.aa;Xe.prototype.getResponseJson=Xe.prototype.Sa;Xe.prototype.getResponseText=Xe.prototype.fa;Xe.prototype.send=Xe.prototype.da;Xe.prototype.setWithCredentials=Xe.prototype.Ka;var $I=function(){return new $a},jI=function(){return xc()},Vl=Oc,qI=sA,HI=Ar,zf={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},KI=To,sa=rA,JI=Xe;const Yf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ci="9.18.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new gd("@firebase/firestore");function Xf(){return ur.logLevel}function z(t,...e){if(ur.logLevel<=ke.DEBUG){const n=e.map(Vd);ur.debug(`Firestore (${ci}): ${t}`,...n)}}function Xn(t,...e){if(ur.logLevel<=ke.ERROR){const n=e.map(Vd);ur.error(`Firestore (${ci}): ${t}`,...n)}}function Tu(t,...e){if(ur.logLevel<=ke.WARN){const n=e.map(Vd);ur.warn(`Firestore (${ci}): ${t}`,...n)}}function Vd(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${ci}) INTERNAL ASSERTION FAILED: `+t;throw Xn(e),new Error(e)}function Be(t,e){t||ie()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Fn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class WI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GI{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Wn,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},a=c=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Wn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Be(typeof s.accessToken=="string"),new FA(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Rt(e)}}class zI{constructor(e,n,s,r){this.h=e,this.l=n,this.m=s,this.g=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Be(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class YI{constructor(e,n,s,r){this.h=e,this.l=n,this.m=s,this.g=r}getToken(){return Promise.resolve(new zI(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZI{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const s=i=>{i.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.A;return this.A=i.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.T.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.T.getImmediate({optional:!0});i?r(i):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.A=n.token,new XI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=e1(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function Re(t,e){return t<e?-1:t>e?1:0}function qr(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new dt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new dt(0,0))}static max(){return new ue(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e,n,s){n===void 0?n=0:n>e.length&&ie(),s===void 0?s=e.length-n:s>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ao.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ao?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends ao{construct(e,n,s){return new $e(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new J(x.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const t1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends ao{construct(e,n,s){return new Dt(e,n,s)}static isValidIdentifier(e){return t1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dt(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new J(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new J(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new J(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z($e.fromString(e))}static fromName(e){return new Z($e.fromString(e).popFirst(5))}static empty(){return new Z($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new $e(e.slice()))}}function n1(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=ue.fromTimestamp(s===1e9?new dt(n+1,0):new dt(n,s));return new Os(r,Z.empty(),e)}function s1(t){return new Os(t.readTime,t.key,-1)}class Os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Os(ue.min(),Z.empty(),-1)}static max(){return new Os(ue.max(),Z.empty(),-1)}}function r1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t){if(t.code!==x.FAILED_PRECONDITION||t.message!==i1)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,s)=>{n(e)})}static reject(e){return new U((n,s)=>{s(e)})}static waitFor(e){return new U((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},c=>s(c))}),o=!0,i===r&&n()})}static or(e){let n=U.resolve(!1);for(const s of e)n=n.next(r=>r?U.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new U((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(e,n){return new U((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function Do(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>n.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}$d.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,s,r,i,o,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class co{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new co("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof co&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $A(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){return t==null}function ja(t){return t===0&&1/t==-1/0}function c1(t){return typeof t=="number"&&Number.isInteger(t)&&!ja(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(r){throw r instanceof DOMException?new l1("Invalid base64 string: "+r):r}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const u1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ds(t){if(Be(!!t),typeof t=="string"){let e=0;const n=u1.exec(t);if(Be(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hr(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qA(t){const e=t.mapValue.fields.__previous_value__;return jA(e)?qA(e):e}function lo(t){const e=Ds(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function dr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jA(t)?4:d1(t)?9007199254740991:10:ie()}function Ln(t,e){if(t===e)return!0;const n=dr(t);if(n!==dr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lo(t).isEqual(lo(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=Ds(s.timestampValue),o=Ds(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Hr(s.bytesValue).isEqual(Hr(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return ct(s.geoPointValue.latitude)===ct(r.geoPointValue.latitude)&&ct(s.geoPointValue.longitude)===ct(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return ct(s.integerValue)===ct(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=ct(s.doubleValue),o=ct(r.doubleValue);return i===o?ja(i)===ja(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return qr(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(Zf(i)!==Zf(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!Ln(i[a],o[a])))return!1;return!0}(t,e);default:return ie()}}function uo(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function Kr(t,e){if(t===e)return 0;const n=dr(t),s=dr(e);if(n!==s)return Re(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=ct(r.integerValue||r.doubleValue),a=ct(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return ep(t.timestampValue,e.timestampValue);case 4:return ep(lo(t),lo(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(r,i){const o=Hr(r),a=Hr(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=Re(o[c],a[c]);if(l!==0)return l}return Re(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=Re(ct(r.latitude),ct(i.latitude));return o!==0?o:Re(ct(r.longitude),ct(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=Kr(o[c],a[c]);if(l)return l}return Re(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===ra.mapValue&&i===ra.mapValue)return 0;if(r===ra.mapValue)return 1;if(i===ra.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),c=i.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const d=Re(a[u],l[u]);if(d!==0)return d;const f=Kr(o[a[u]],c[l[u]]);if(f!==0)return f}return Re(a.length,l.length)}(t.mapValue,e.mapValue);default:throw ie()}}function ep(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=Ds(t),s=Ds(e),r=Re(n.seconds,s.seconds);return r!==0?r:Re(n.nanos,s.nanos)}function Jr(t){return Ru(t)}function Ru(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=Ds(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Hr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Z.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=Ru(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Ru(s.fields[a])}`;return i+"}"}(t.mapValue):ie();var e,n}function tp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xu(t){return!!t&&"integerValue"in t}function jd(t){return!!t&&"arrayValue"in t}function np(t){return!!t&&"nullValue"in t}function sp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ma(t){return!!t&&"mapValue"in t}function Li(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vr(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Li(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Li(t.arrayValue.values[n]);return e}return Object.assign({},t)}function d1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.position=e,this.inclusive=n}}function rp(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=Z.comparator(Z.fromName(o.referenceValue),n.key):s=Kr(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function ip(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{}class ut extends HA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new f1(e,n,s):n==="array-contains"?new g1(e,s):n==="in"?new A1(e,s):n==="not-in"?new v1(e,s):n==="array-contains-any"?new y1(e,s):new ut(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new p1(e,s):new m1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Kr(n,this.value)):n!==null&&dr(this.value)===dr(n)&&this.matchesComparison(Kr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _n extends HA{constructor(e,n){super(),this.filters=e,this.op=n,this.ft=null}static create(e,n){return new _n(e,n)}matches(e){return KA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(n=>n.isInequality());return e!==null?e.field:null}dt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function KA(t){return t.op==="and"}function JA(t){return h1(t)&&KA(t)}function h1(t){for(const e of t.filters)if(e instanceof _n)return!1;return!0}function Ou(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+Jr(t.value);if(JA(t))return t.filters.map(e=>Ou(e)).join(",");{const e=t.filters.map(n=>Ou(n)).join(",");return`${t.op}(${e})`}}function QA(t,e){return t instanceof ut?function(n,s){return s instanceof ut&&n.op===s.op&&n.field.isEqual(s.field)&&Ln(n.value,s.value)}(t,e):t instanceof _n?function(n,s){return s instanceof _n&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,i,o)=>r&&QA(i,s.filters[o]),!0):!1}(t,e):void ie()}function WA(t){return t instanceof ut?function(e){return`${e.field.canonicalString()} ${e.op} ${Jr(e.value)}`}(t):t instanceof _n?function(e){return e.op.toString()+" {"+e.getFilters().map(WA).join(" ,")+"}"}(t):"Filter"}class f1 extends ut{constructor(e,n,s){super(e,n,s),this.key=Z.fromName(s.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class p1 extends ut{constructor(e,n){super(e,"in",n),this.keys=GA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class m1 extends ut{constructor(e,n){super(e,"not-in",n),this.keys=GA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function GA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Z.fromName(s.referenceValue))}class g1 extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jd(n)&&uo(n.arrayValue,this.value)}}class A1 extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uo(this.value.arrayValue,n)}}class v1 extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!uo(this.value.arrayValue,n)}}class y1 extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>uo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n="asc"){this.field=e,this.dir=n}}function _1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ia(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ia(this.root,e,this.comparator,!1)}getReverseIterator(){return new ia(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ia(this.root,e,this.comparator,!0)}}class ia{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??wt.RED,this.left=r??wt.EMPTY,this.right=i??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new wt(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return wt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(t,e,n,s,r){return this}insert(t,e,n){return new wt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new op(this.data.getIterator())}getIteratorFrom(e){return new op(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class op{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new tn([])}unionWith(e){let n=new pt(Dt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qr(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ma(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Li(n)}setAll(e){let n=Dt.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=Li(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());ma(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];ma(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){vr(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new Gt(Li(this.value))}}function zA(t){const e=[];return vr(t.fields,(n,s)=>{const r=new Dt([n]);if(ma(s)){const i=zA(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new xt(e,0,ue.min(),ue.min(),ue.min(),Gt.empty(),0)}static newFoundDocument(e,n,s,r){return new xt(e,1,n,ue.min(),s,r,0)}static newNoDocument(e,n){return new xt(e,2,n,ue.min(),ue.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,ue.min(),ue.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this._t=null}}function ap(t,e=null,n=[],s=[],r=null,i=null,o=null){return new w1(t,e,n,s,r,i,o)}function qd(t){const e=de(t);if(e._t===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ou(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Fc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Jr(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Jr(s)).join(",")),e._t=n}return e._t}function Hd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ip(t.startAt,e.startAt)&&ip(t.endAt,e.endAt)}function Du(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this.gt=null,this.startAt,this.endAt}}function b1(t,e,n,s,r,i,o,a){return new li(t,e,n,s,r,i,o,a)}function Vc(t){return new li(t)}function cp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kd(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function $c(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function YA(t){return t.collectionGroup!==null}function Ur(t){const e=de(t);if(e.wt===null){e.wt=[];const n=$c(e),s=Kd(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new Mr(n)),e.wt.push(new Mr(Dt.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Mr(Dt.keyField(),i))}}}return e.wt}function Zn(t){const e=de(t);if(!e.gt)if(e.limitType==="F")e.gt=ap(e.path,e.collectionGroup,Ur(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Ur(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Mr(i.field,o))}const s=e.endAt?new qa(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new qa(e.startAt.position,e.startAt.inclusive):null;e.gt=ap(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e.gt}function Nu(t,e){e.getFirstInequalityField(),$c(t);const n=t.filters.concat([e]);return new li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ha(t,e,n){return new li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jc(t,e){return Hd(Zn(t),Zn(e))&&t.limitType===e.limitType}function XA(t){return`${qd(Zn(t))}|lt:${t.limitType}`}function Pu(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>WA(s)).join(", ")}]`),Fc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Jr(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Jr(s)).join(",")),`Target(${n})`}(Zn(t))}; limitType=${t.limitType})`}function qc(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Z.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of Ur(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=rp(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,Ur(n),s)||n.endAt&&!function(r,i,o){const a=rp(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,Ur(n),s))}(t,e)}function E1(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ZA(t){return(e,n)=>{let s=!1;for(const r of Ur(t)){const i=I1(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function I1(t,e,n){const s=t.field.isKeyField()?Z.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),c=o.data.field(r);return a!==null&&c!==null?Kr(a,c):ie()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t,e){if(t.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ja(e)?"-0":e}}function tv(t){return{integerValue:""+t}}function S1(t,e){return c1(e)?tv(e):ev(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this._=void 0}}function C1(t,e,n){return t instanceof ho?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof Qr?sv(t,e):t instanceof Wr?rv(t,e):function(s,r){const i=nv(s,r),o=lp(i)+lp(s.It);return xu(i)&&xu(s.It)?tv(o):ev(s.Tt,o)}(t,e)}function k1(t,e,n){return t instanceof Qr?sv(t,e):t instanceof Wr?rv(t,e):n}function nv(t,e){return t instanceof Ka?xu(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class ho extends Hc{}class Qr extends Hc{constructor(e){super(),this.elements=e}}function sv(t,e){const n=iv(e);for(const s of t.elements)n.some(r=>Ln(r,s))||n.push(s);return{arrayValue:{values:n}}}class Wr extends Hc{constructor(e){super(),this.elements=e}}function rv(t,e){let n=iv(e);for(const s of t.elements)n=n.filter(r=>!Ln(r,s));return{arrayValue:{values:n}}}class Ka extends Hc{constructor(e,n){super(),this.Tt=e,this.It=n}}function lp(t){return ct(t.integerValue||t.doubleValue)}function iv(t){return jd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.field=e,this.transform=n}}function T1(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Qr&&s instanceof Qr||n instanceof Wr&&s instanceof Wr?qr(n.elements,s.elements,Ln):n instanceof Ka&&s instanceof Ka?Ln(n.It,s.It):n instanceof ho&&s instanceof ho}(t.transform,e.transform)}class R1{constructor(e,n){this.version=e,this.transformResults=n}}class dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ga(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kc{}function ov(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qd(t.key,dn.none()):new No(t.key,t.data,dn.none());{const n=t.data,s=Gt.empty();let r=new pt(Dt.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Ls(t.key,s,new tn(r.toArray()),dn.none())}}function x1(t,e,n){t instanceof No?function(s,r,i){const o=s.value.clone(),a=dp(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ls?function(s,r,i){if(!ga(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=dp(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(av(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Bi(t,e,n,s){return t instanceof No?function(r,i,o,a){if(!ga(r.precondition,i))return o;const c=r.value.clone(),l=hp(r.fieldTransforms,a,i);return c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,s):t instanceof Ls?function(r,i,o,a){if(!ga(r.precondition,i))return o;const c=hp(r.fieldTransforms,a,i),l=i.data;return l.setAll(av(r)),l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(r,i,o){return ga(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function O1(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=nv(s.transform,r||null);i!=null&&(n===null&&(n=Gt.empty()),n.set(s.field,i))}return n||null}function up(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&qr(n,s,(r,i)=>T1(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class No extends Kc{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ls extends Kc{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function av(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function dp(t,e,n){const s=new Map;Be(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,k1(o,a,n[r]))}return s}function hp(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,C1(i,o,e))}return s}class Qd extends Kc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D1 extends Kc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,_e;function P1(t){switch(t){default:return ie();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function cv(t){if(t===void 0)return Xn("GRPC error has no .code"),x.UNKNOWN;switch(t){case at.OK:return x.OK;case at.CANCELLED:return x.CANCELLED;case at.UNKNOWN:return x.UNKNOWN;case at.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case at.INTERNAL:return x.INTERNAL;case at.UNAVAILABLE:return x.UNAVAILABLE;case at.UNAUTHENTICATED:return x.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case at.NOT_FOUND:return x.NOT_FOUND;case at.ALREADY_EXISTS:return x.ALREADY_EXISTS;case at.PERMISSION_DENIED:return x.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case at.ABORTED:return x.ABORTED;case at.OUT_OF_RANGE:return x.OUT_OF_RANGE;case at.UNIMPLEMENTED:return x.UNIMPLEMENTED;case at.DATA_LOSS:return x.DATA_LOSS;default:return ie()}}(_e=at||(at={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return $A(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new gt(Z.comparator);function es(){return M1}const lv=new gt(Z.comparator);function Oi(...t){let e=lv;for(const n of t)e=e.insert(n.key,n);return e}function uv(t){let e=lv;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Zs(){return Fi()}function dv(){return Fi()}function Fi(){return new ui(t=>t.toString(),(t,e)=>t.isEqual(e))}const U1=new gt(Z.comparator),L1=new pt(Z.comparator);function ye(...t){let e=L1;for(const n of t)e=e.add(n);return e}const B1=new pt(Re);function hv(){return B1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Po.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jc(ue.min(),r,hv(),es(),ye())}}class Po{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Po(s,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,s,r){this.Et=e,this.removedTargetIds=n,this.key=s,this.At=r}}class fv{constructor(e,n){this.targetId=e,this.Rt=n}}class pv{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class fp{constructor(){this.Pt=0,this.vt=mp(),this.bt=Ft.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return this.Pt!==0}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=ye(),n=ye(),s=ye();return this.vt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:ie()}}),new Po(this.bt,this.Vt,e,n,s)}kt(){this.St=!1,this.vt=mp()}$t(e,n){this.St=!0,this.vt=this.vt.insert(e,n)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}}class F1{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=es(),this.Kt=pp(),this.Gt=new pt(Re)}Qt(e){for(const n of e.Et)e.At&&e.At.isFoundDocument()?this.jt(n,e.At):this.zt(n,e.key,e.At);for(const n of e.removedTargetIds)this.zt(n,e.key,e.At)}Wt(e){this.forEachTarget(e,n=>{const s=this.Ht(n);switch(e.state){case 0:this.Jt(n)&&s.xt(e.resumeToken);break;case 1:s.Ft(),s.Dt||s.kt(),s.xt(e.resumeToken);break;case 2:s.Ft(),s.Dt||this.removeTarget(n);break;case 3:this.Jt(n)&&(s.Bt(),s.xt(e.resumeToken));break;case 4:this.Jt(n)&&(this.Yt(n),s.xt(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qt.forEach((s,r)=>{this.Jt(r)&&n(r)})}Zt(e){const n=e.targetId,s=e.Rt.count,r=this.Xt(n);if(r){const i=r.target;if(Du(i))if(s===0){const o=new Z(i.path);this.zt(n,o,xt.newNoDocument(o,ue.min()))}else Be(s===1);else this.te(n)!==s&&(this.Yt(n),this.Gt=this.Gt.add(n))}}ee(e){const n=new Map;this.qt.forEach((i,o)=>{const a=this.Xt(o);if(a){if(i.current&&Du(a.target)){const c=new Z(a.target.path);this.Ut.get(c)!==null||this.ne(o,c)||this.zt(o,c,xt.newNoDocument(c,e))}i.Ct&&(n.set(o,i.Nt()),i.kt())}});let s=ye();this.Kt.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Xt(c);return!l||l.purpose===2||(a=!1,!1)}),a&&(s=s.add(i))}),this.Ut.forEach((i,o)=>o.setReadTime(e));const r=new Jc(e,n,this.Gt,this.Ut,s);return this.Ut=es(),this.Kt=pp(),this.Gt=new pt(Re),r}jt(e,n){if(!this.Jt(e))return;const s=this.ne(e,n.key)?2:0;this.Ht(e).$t(n.key,s),this.Ut=this.Ut.insert(n.key,n),this.Kt=this.Kt.insert(n.key,this.se(n.key).add(e))}zt(e,n,s){if(!this.Jt(e))return;const r=this.Ht(e);this.ne(e,n)?r.$t(n,1):r.Mt(n),this.Kt=this.Kt.insert(n,this.se(n).delete(e)),s&&(this.Ut=this.Ut.insert(n,s))}removeTarget(e){this.qt.delete(e)}te(e){const n=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let n=this.qt.get(e);return n||(n=new fp,this.qt.set(e,n)),n}se(e){let n=this.Kt.get(e);return n||(n=new pt(Re),this.Kt=this.Kt.insert(e,n)),n}Jt(e){const n=this.Xt(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.qt.get(e);return n&&n.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new fp),this.Lt.getRemoteKeysForTarget(e).forEach(n=>{this.zt(e,n,null)})}ne(e,n){return this.Lt.getRemoteKeysForTarget(e).has(n)}}function pp(){return new gt(Z.comparator)}function mp(){return new gt(Z.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),$1=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),j1=(()=>({and:"AND",or:"OR"}))();class q1{constructor(e,n){this.databaseId=e,this.yt=n}}function Ja(t,e){return t.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mv(t,e){return t.yt?e.toBase64():e.toUint8Array()}function H1(t,e){return Ja(t,e.toTimestamp())}function Dn(t){return Be(!!t),ue.fromTimestamp(function(e){const n=Ds(e);return new dt(n.seconds,n.nanos)}(t))}function Wd(t,e){return function(n){return new $e(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function gv(t){const e=$e.fromString(t);return Be(_v(e)),e}function Mu(t,e){return Wd(t.databaseId,e.path)}function $l(t,e){const n=gv(e);if(n.get(1)!==t.databaseId.projectId)throw new J(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(Av(n))}function Uu(t,e){return Wd(t.databaseId,e)}function K1(t){const e=gv(t);return e.length===4?$e.emptyPath():Av(e)}function Lu(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Av(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gp(t,e,n){return{name:Mu(t,e),fields:n.value.mapValue.fields}}function J1(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,l){return c.yt?(Be(l===void 0||typeof l=="string"),Ft.fromBase64String(l||"")):(Be(l===void 0||l instanceof Uint8Array),Ft.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=c.code===void 0?x.UNKNOWN:cv(c.code);return new J(l,c.message||"")}(o);n=new pv(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=$l(t,s.document.name),i=Dn(s.document.updateTime),o=s.document.createTime?Dn(s.document.createTime):ue.min(),a=new Gt({mapValue:{fields:s.document.fields}}),c=xt.newFoundDocument(r,i,o,a),l=s.targetIds||[],u=s.removedTargetIds||[];n=new Aa(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=$l(t,s.document),i=s.readTime?Dn(s.readTime):ue.min(),o=xt.newNoDocument(r,i),a=s.removedTargetIds||[];n=new Aa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=$l(t,s.document),i=s.removedTargetIds||[];n=new Aa([],i,r,null)}else{if(!("filter"in e))return ie();{e.filter;const s=e.filter;s.targetId;const r=s.count||0,i=new N1(r),o=s.targetId;n=new fv(o,i)}}return n}function Q1(t,e){let n;if(e instanceof No)n={update:gp(t,e.key,e.value)};else if(e instanceof Qd)n={delete:Mu(t,e.key)};else if(e instanceof Ls)n={update:gp(t,e.key,e.data),updateMask:nS(e.fieldMask)};else{if(!(e instanceof D1))return ie();n={verify:Mu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof ho)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qr)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Wr)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ka)return{fieldPath:i.field.canonicalString(),increment:o.It};throw ie()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:H1(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ie()}(t,e.precondition)),n}function W1(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?Dn(s.updateTime):Dn(r);return i.isEqual(ue.min())&&(i=Dn(r)),new R1(i,s.transformResults||[])}(n,e))):[]}function G1(t,e){return{documents:[Uu(t,e.path)]}}function z1(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Uu(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Uu(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(c){if(c.length!==0)return yv(_n.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const i=function(c){if(c.length!==0)return c.map(l=>function(u){return{field:kr(u.field),direction:Z1(u.dir)}}(l))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(c,l){return c.yt||Fc(l)?l:{value:l}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function Y1(t){let e=K1(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Be(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(u){const d=vv(u);return d instanceof _n&&JA(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(d){return new Mr(Tr(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(u)));let a=null;n.limit&&(a=function(u){let d;return d=typeof u=="object"?u.value:u,Fc(d)?null:d}(n.limit));let c=null;n.startAt&&(c=function(u){const d=!!u.before,f=u.values||[];return new qa(f,d)}(n.startAt));let l=null;return n.endAt&&(l=function(u){const d=!u.before,f=u.values||[];return new qa(f,d)}(n.endAt)),b1(e,r,o,i,a,"F",c,l)}function X1(t,e){const n=function(s,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ie()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function vv(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Tr(e.unaryFilter.field);return ut.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Tr(e.unaryFilter.field);return ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Tr(e.unaryFilter.field);return ut.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Tr(e.unaryFilter.field);return ut.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(e){return ut.create(Tr(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return _n.create(e.compositeFilter.filters.map(n=>vv(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ie()}}(e.compositeFilter.op))}(t):ie()}function Z1(t){return V1[t]}function eS(t){return $1[t]}function tS(t){return j1[t]}function kr(t){return{fieldPath:t.canonicalString()}}function Tr(t){return Dt.fromServerFormat(t.fieldPath)}function yv(t){return t instanceof ut?function(e){if(e.op==="=="){if(sp(e.value))return{unaryFilter:{field:kr(e.field),op:"IS_NAN"}};if(np(e.value))return{unaryFilter:{field:kr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(sp(e.value))return{unaryFilter:{field:kr(e.field),op:"IS_NOT_NAN"}};if(np(e.value))return{unaryFilter:{field:kr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kr(e.field),op:eS(e.op),value:e.value}}}(t):t instanceof _n?function(e){const n=e.getFilters().map(s=>yv(s));return n.length===1?n[0]:{compositeFilter:{op:tS(e.op),filters:n}}}(t):ie()}function nS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _v(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&x1(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Bi(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Bi(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=dv();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const c=ov(o,a);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(ue.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&qr(this.mutations,e.mutations,(n,s)=>up(n,s))&&qr(this.baseMutations,e.baseMutations,(n,s)=>up(n,s))}}class Gd{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Be(e.mutations.length===s.length);let r=U1;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new Gd(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,s,r,i=ue.min(),o=ue.min(),a=Ft.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.oe=e}}function oS(t){const e=Y1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ha(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.Ze=new cS}addToCollectionParentIndex(e,n){return this.Ze.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Ze.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Os.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Os.min())}updateCollectionGroup(e,n,s){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class cS{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new pt($e.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new pt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new Gr(0)}static Sn(){return new Gr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this.changes=new ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?U.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Bi(s.mutation,r,tn.empty(),dt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ye()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ye()){const r=Zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=Oi();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ye()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=es();const o=Fi(),a=Fi();return n.forEach((c,l)=>{const u=s.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof Ls)?i=i.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Bi(u.mutation,l,u.mutation.getFieldMask(),dt.now())):o.set(l.key,tn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new uS(u,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const s=Fi();let r=new gt((o,a)=>o-a),i=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=s.get(c)||tn.empty();u=a.applyToLocalView(l,u),s.set(c,u);const d=(r.get(a.batchId)||ye()).add(c);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,d=dv();u.forEach(f=>{if(!i.has(f)){const p=ov(n.get(f),s.get(f));p!==null&&d.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return U.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return Z.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):U.resolve(Zs());let a=-1,c=i;return o.next(l=>U.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?U.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,c,l,ye())).next(u=>({batchId:a,changes:uv(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(s=>{let r=Oi();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=Oi();return this.indexManager.getCollectionParents(e,r).next(o=>U.forEach(o,a=>{const c=function(l,u){return new li(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,s).next(l=>{l.forEach((u,d)=>{i=i.insert(u,d)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r))).next(i=>{r.forEach((a,c)=>{const l=c.getKey();i.get(l)===null&&(i=i.insert(l,xt.newInvalidDocument(l)))});let o=Oi();return i.forEach((a,c)=>{const l=r.get(a);l!==void 0&&Bi(l.mutation,c,tn.empty(),dt.now()),qc(n,c)&&(o=o.insert(a,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,n){return U.resolve(this.es.get(n))}saveBundleMetadata(e,n){var s;return this.es.set(n.id,{id:(s=n).id,version:s.version,createTime:Dn(s.createTime)}),U.resolve()}getNamedQuery(e,n){return U.resolve(this.ns.get(n))}saveNamedQuery(e,n){return this.ns.set(n.name,function(s){return{name:s.name,query:oS(s.bundledQuery),readTime:Dn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.overlays=new gt(Z.comparator),this.ss=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return U.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.ce(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.ss.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.ss.delete(s)),U.resolve()}getOverlaysForCollection(e,n,s){const r=Zs(),i=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return U.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new gt((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>s){let u=i.get(l.largestBatchId);u===null&&(u=Zs(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Zs(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return U.resolve(a)}ce(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.ss.get(r.largestBatchId).delete(s.key);this.ss.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new rS(n,s));let i=this.ss.get(n);i===void 0&&(i=ye(),this.ss.set(n,i)),this.ss.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this.rs=new pt(At.os),this.us=new pt(At.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,n){const s=new At(e,n);this.rs=this.rs.add(s),this.us=this.us.add(s)}hs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ls(new At(e,n))}fs(e,n){e.forEach(s=>this.removeReference(s,n))}ds(e){const n=new Z(new $e([])),s=new At(n,e),r=new At(n,e+1),i=[];return this.us.forEachInRange([s,r],o=>{this.ls(o),i.push(o.key)}),i}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const n=new Z(new $e([])),s=new At(n,e),r=new At(n,e+1);let i=ye();return this.us.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new At(e,0),s=this.rs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class At{constructor(e,n){this.key=e,this.gs=n}static os(e,n){return Z.comparator(e.key,n.key)||Re(e.gs,n.gs)}static cs(e,n){return Re(e.gs,n.gs)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ys=1,this.ps=new pt(At.os)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sS(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.ps=this.ps.add(new At(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Is(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.Ts(s),i=r<0?0:r;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new At(n,0),r=new At(n,Number.POSITIVE_INFINITY),i=[];return this.ps.forEachInRange([s,r],o=>{const a=this.Is(o.gs);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new pt(Re);return n.forEach(r=>{const i=new At(r,0),o=new At(r,Number.POSITIVE_INFINITY);this.ps.forEachInRange([i,o],a=>{s=s.add(a.gs)})}),U.resolve(this.Es(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;Z.isDocumentKey(i)||(i=i.child(""));const o=new At(new Z(i),0);let a=new pt(Re);return this.ps.forEachWhile(c=>{const l=c.key.path;return!!s.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.gs)),!0)},o),U.resolve(this.Es(a))}Es(e){const n=[];return e.forEach(s=>{const r=this.Is(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Be(this.As(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.ps;return U.forEach(n.mutations,r=>{const i=new At(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ps=s})}Pn(e){}containsKey(e,n){const s=new At(n,0),r=this.ps.firstAfterOrEqual(s);return U.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}As(e,n){return this.Ts(e)}Ts(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Is(e){const n=this.Ts(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.Rs=e,this.docs=new gt(Z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Rs(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return U.resolve(s?s.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let s=es();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():xt.newInvalidDocument(r))}),U.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=es();const o=n.path,a=new Z(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||r1(s1(u),s)<=0||(r.has(u.key)||qc(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,s,r){ie()}Ps(e,n){return U.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new gS(this)}getSize(e){return U.resolve(this.size)}}class gS extends lS{constructor(e){super(),this.Xn=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Xn.addEntry(e,r)):this.Xn.removeEntry(s)}),U.waitFor(n)}getFromCache(e,n){return this.Xn.getEntry(e,n)}getAllFromCache(e,n){return this.Xn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.persistence=e,this.vs=new ui(n=>qd(n),Hd),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.bs=0,this.Vs=new zd,this.targetCount=0,this.Ss=Gr.Vn()}forEachTarget(e,n){return this.vs.forEach((s,r)=>n(r)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.bs&&(this.bs=n),U.resolve()}xn(e){this.vs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ss=new Gr(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.xn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.xn(n),U.resolve()}removeTargetData(e,n){return this.vs.delete(n.target),this.Vs.ds(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.vs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.vs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),U.waitFor(i).next(()=>r)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const s=this.vs.get(n)||null;return U.resolve(s)}addMatchingKeys(e,n,s){return this.Vs.hs(n,s),U.resolve()}removeMatchingKeys(e,n,s){this.Vs.fs(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Vs.ds(n),U.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Vs.ws(n);return U.resolve(s)}containsKey(e,n){return U.resolve(this.Vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,n){this.Ds={},this.overlays={},this.Cs=new $d(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new AS(this),this.indexManager=new aS,this.remoteDocumentCache=function(s){return new mS(s)}(s=>this.referenceDelegate.ks(s)),this.Tt=new iS(n),this.$s=new hS(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Ds[e.toKey()];return s||(s=new pS(n,this.referenceDelegate),this.Ds[e.toKey()]=s),s}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,n,s){z("MemoryPersistence","Starting transaction:",e);const r=new yS(this.Cs.next());return this.referenceDelegate.Ms(),s(r).next(i=>this.referenceDelegate.Os(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Fs(e,n){return U.or(Object.values(this.Ds).map(s=>()=>s.containsKey(e,n)))}}class yS extends o1{constructor(e){super(),this.currentSequenceNumber=e}}class Yd{constructor(e){this.persistence=e,this.Bs=new zd,this.Ls=null}static qs(e){return new Yd(e)}get Us(){if(this.Ls)return this.Ls;throw ie()}addReference(e,n,s){return this.Bs.addReference(s,n),this.Us.delete(s.toString()),U.resolve()}removeReference(e,n,s){return this.Bs.removeReference(s,n),this.Us.add(s.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Us.add(n.toString()),U.resolve()}removeTarget(e,n){this.Bs.ds(n.targetId).forEach(r=>this.Us.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Us.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ms(){this.Ls=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Us,s=>{const r=Z.fromPath(s);return this.Ks(e,r).next(i=>{i||n.removeEntry(r,ue.min())})}).next(()=>(this.Ls=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ks(e,n).next(s=>{s?this.Us.delete(n.toString()):this.Us.add(n.toString())})}ks(e){return 0}Ks(e,n){return U.or([()=>U.resolve(this.Bs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Fs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Ci=s,this.xi=r}static Ni(e,n){let s=ye(),r=ye();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Xd(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.ki=!0}getDocumentsMatchingQuery(e,n,s,r){return this.Mi(e,n).next(i=>i||this.Oi(e,n,r,s)).next(i=>i||this.Fi(e,n))}Mi(e,n){if(cp(n))return U.resolve(null);let s=Zn(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Ha(n,null,"F"),s=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=ye(...i);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(c=>{const l=this.Bi(n,a);return this.Li(n,l,o,c.readTime)?this.Mi(e,Ha(n,null,"F")):this.qi(e,l,n,c)}))})))}Oi(e,n,s,r){return cp(n)||r.isEqual(ue.min())?this.Fi(e,n):this.$i.getDocuments(e,s).next(i=>{const o=this.Bi(n,i);return this.Li(n,o,s,r)?this.Fi(e,n):(Xf()<=ke.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Pu(n)),this.qi(e,o,n,n1(r,-1)))})}Bi(e,n){let s=new pt(ZA(e));return n.forEach((r,i)=>{qc(e,i)&&(s=s.add(i))}),s}Li(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fi(e,n){return Xf()<=ke.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Pu(n)),this.$i.getDocumentsMatchingQuery(e,n,Os.min())}qi(e,n,s,r){return this.$i.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n,s,r){this.persistence=e,this.Ui=n,this.Tt=r,this.Ki=new gt(Re),this.Gi=new ui(i=>qd(i),Hd),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(s)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dS(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ki))}}function bS(t,e,n,s){return new wS(t,e,n,s)}async function wv(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.zi(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let c=ye();for(const l of r){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(s,c).next(l=>({Wi:l,removedBatchIds:o,addedBatchIds:a}))})})}function ES(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.ji.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,d=u.keys();let f=U.resolve();return d.forEach(p=>{f=f.next(()=>l.getEntry(a,p)).next(m=>{const A=c.docVersions.get(p);Be(A!==null),m.version.compareTo(A)<0&&(u.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),l.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=ye();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function bv(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ns.getLastRemoteSnapshotVersion(n))}function IS(t,e){const n=de(t),s=e.snapshotVersion;let r=n.Ki;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ji.newChangeBuffer({trackRemovals:!0});r=n.Ki;const a=[];e.targetChanges.forEach((u,d)=>{const f=r.get(d);if(!f)return;a.push(n.Ns.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.Ns.addMatchingKeys(i,u.addedDocuments,d)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.has(d)?p=p.withResumeToken(Ft.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,s)),r=r.insert(d,p),function(m,A,y){return m.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,p,u)&&a.push(n.Ns.updateTargetData(i,p))});let c=es(),l=ye();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(SS(i,o,e.documentUpdates).next(u=>{c=u.Hi,l=u.Ji})),!s.isEqual(ue.min())){const u=n.Ns.getLastRemoteSnapshotVersion(i).next(d=>n.Ns.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(u)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.Ki=r,i))}function SS(t,e,n){let s=ye(),r=ye();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=es();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(ue.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Hi:o,Ji:r}})}function CS(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function kS(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Ns.getTargetData(s,e).next(i=>i?(r=i,U.resolve(r)):n.Ns.allocateTargetId(s).next(o=>(r=new rr(e,o,0,s.currentSequenceNumber),n.Ns.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ki.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ki=n.Ki.insert(s.targetId,s),n.Gi.set(e,s.targetId)),s})}async function Bu(t,e,n){const s=de(t),r=s.Ki.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Do(o))throw o;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ki=s.Ki.remove(e),s.Gi.delete(r.target)}function Ap(t,e,n){const s=de(t);let r=ue.min(),i=ye();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=de(a),d=u.Gi.get(l);return d!==void 0?U.resolve(u.Ki.get(d)):u.Ns.getTargetData(c,l)}(s,o,Zn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Ns.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>s.Ui.getDocumentsMatchingQuery(o,e,n?r:ue.min(),n?i:ye())).next(a=>(TS(s,E1(e),a),{documents:a,Yi:i})))}function TS(t,e,n){let s=t.Qi.get(e)||ue.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Qi.set(e,s)}class vp{constructor(){this.activeTargetIds=hv()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RS{constructor(){this.Ur=new vp,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,n,s){this.Kr[e]=n}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new vp,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{Gr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa=null;function jl(){return oa===null?oa=268435456+Math.round(2147483648*Math.random()):oa++,"0x"+oa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class NS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.co=n+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,n,s,r,i){const o=jl(),a=this.fo(e,n);z("RestConnection",`Sending RPC '${e}' ${o}:`,a,s);const c={};return this._o(c,r,i),this.wo(e,a,c,s).then(l=>(z("RestConnection",`Received RPC '${e}' ${o}: `,l),l),l=>{throw Tu("RestConnection",`RPC '${e}' ${o} failed with error: `,l,"url: ",a,"request:",s),l})}mo(e,n,s,r,i,o){return this.lo(e,n,s,r,i)}_o(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ci,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}fo(e,n){const s=OS[e];return`${this.co}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,n,s,r){const i=jl();return new Promise((o,a)=>{const c=new JI;c.setWithCredentials(!0),c.listenOnce(qI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Vl.NO_ERROR:const u=c.getResponseJson();z(Tt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Vl.TIMEOUT:z(Tt,`RPC '${e}' ${i} timed out`),a(new J(x.DEADLINE_EXCEEDED,"Request time out"));break;case Vl.HTTP_ERROR:const d=c.getStatus();if(z(Tt,`RPC '${e}' ${i} failed with status:`,d,"response text:",c.getResponseText()),d>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(A){const y=A.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(y)>=0?y:x.UNKNOWN}(p.status);a(new J(m,p.message))}else a(new J(x.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new J(x.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{z(Tt,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);z(Tt,`RPC '${e}' ${i} sending request:`,r),c.send(n,"POST",l,s,15)})}yo(e,n,s){const r=jl(),i=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$I(),a=jI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new KI({})),this._o(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const l=i.join("");z(Tt,`Creating RPC '${e}' stream ${r}: ${l}`,c);const u=o.createWebChannel(l,c);let d=!1,f=!1;const p=new DS({Yr:A=>{f?z(Tt,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(d||(z(Tt,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),z(Tt,`RPC '${e}' stream ${r} sending:`,A),u.send(A))},Zr:()=>u.close()}),m=(A,y,w)=>{A.listen(y,T=>{try{w(T)}catch(I){setTimeout(()=>{throw I},0)}})};return m(u,sa.EventType.OPEN,()=>{f||z(Tt,`RPC '${e}' stream ${r} transport opened.`)}),m(u,sa.EventType.CLOSE,()=>{f||(f=!0,z(Tt,`RPC '${e}' stream ${r} transport closed`),p.oo())}),m(u,sa.EventType.ERROR,A=>{f||(f=!0,Tu(Tt,`RPC '${e}' stream ${r} transport errored:`,A),p.oo(new J(x.UNAVAILABLE,"The operation could not be completed")))}),m(u,sa.EventType.MESSAGE,A=>{var y;if(!f){const w=A.data[0];Be(!!w);const T=w,I=T.error||((y=T[0])===null||y===void 0?void 0:y.error);if(I){z(Tt,`RPC '${e}' stream ${r} received error:`,I);const E=I.status;let O=function(Y){const H=at[Y];if(H!==void 0)return cv(H)}(E),G=I.message;O===void 0&&(O=x.INTERNAL,G="Unknown error status: "+E+" with message "+I.message),f=!0,p.oo(new J(O,G)),u.close()}else z(Tt,`RPC '${e}' stream ${r} received:`,w),p.uo(w)}}),m(a,HI.STAT_EVENT,A=>{A.stat===zf.PROXY?z(Tt,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===zf.NOPROXY&&z(Tt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.ro()},0),p}}function ql(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(t){return new q1(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Ys=e,this.timerId=n,this.po=s,this.Io=r,this.To=i,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const n=Math.floor(this.Eo+this.bo()),s=Math.max(0,Date.now()-this.Ro),r=Math.max(0,n-s);r>0&&z("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Eo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,r,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,n,s,r,i,o,a,c){this.Ys=e,this.So=s,this.Do=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Ev(e,n)}$o(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.$o()&&await this.close(0)}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(e,n){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,e!==4?this.ko.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(Xn(n.toString()),Xn("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=e,await this.listener.no(n)}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),n=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.Co===n&&this.jo(s,r)},s=>{e(()=>{const r=new J(x.UNKNOWN,"Fetching auth token failed: "+s.message);return this.zo(r)})})}jo(e,n){const s=this.Qo(this.Co);this.stream=this.Wo(e,n),this.stream.Xr(()=>{s(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(r=>{s(()=>this.zo(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Oo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return n=>{this.Ys.enqueueAndForget(()=>this.Co===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PS extends Iv{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.Tt=i}Wo(e,n){return this.connection.yo("Listen",e,n)}onMessage(e){this.ko.reset();const n=J1(this.Tt,e),s=function(r){if(!("targetChange"in r))return ue.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?ue.min():i.readTime?Dn(i.readTime):ue.min()}(e);return this.listener.Ho(n,s)}Jo(e){const n={};n.database=Lu(this.Tt),n.addTarget=function(r,i){let o;const a=i.target;return o=Du(a)?{documents:G1(r,a)}:{query:z1(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=mv(r,i.resumeToken):i.snapshotVersion.compareTo(ue.min())>0&&(o.readTime=Ja(r,i.snapshotVersion.toTimestamp())),o}(this.Tt,e);const s=X1(this.Tt,e);s&&(n.labels=s),this.qo(n)}Yo(e){const n={};n.database=Lu(this.Tt),n.removeTarget=e,this.qo(n)}}class MS extends Iv{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.Tt=i,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,n){return this.connection.yo("Write",e,n)}onMessage(e){if(Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const n=W1(e.writeResults,e.commitTime),s=Dn(e.commitTime);return this.listener.eu(s,n)}return Be(!e.writeResults||e.writeResults.length===0),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Lu(this.Tt),this.qo(e)}tu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Q1(this.Tt,s))};this.qo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.Tt=r,this.iu=!1}ru(){if(this.iu)throw new J(x.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,n,s){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.lo(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new J(x.UNKNOWN,r.toString())})}mo(e,n,s,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.mo(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(x.UNKNOWN,i.toString())})}terminate(){this.iu=!0}}class LS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,e==="Online"&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Xn(n),this.cu=!1):z("OnlineStateTracker",n)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=i,this.yu.Gr(o=>{s.enqueueAndForget(async()=>{yr(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=de(a);c.mu.add(4),await Mo(c),c.pu.set("Unknown"),c.mu.delete(4),await Wc(c)}(this))})}),this.pu=new LS(s,r)}}async function Wc(t){if(yr(t))for(const e of t.gu)await e(!0)}async function Mo(t){for(const e of t.gu)await e(!1)}function Sv(t,e){const n=de(t);n.wu.has(e.targetId)||(n.wu.set(e.targetId,e),th(n)?eh(n):di(n).Mo()&&Zd(n,e))}function Cv(t,e){const n=de(t),s=di(n);n.wu.delete(e),s.Mo()&&kv(n,e),n.wu.size===0&&(s.Mo()?s.Bo():yr(n)&&n.pu.set("Unknown"))}function Zd(t,e){t.Iu.Ot(e.targetId),di(t).Jo(e)}function kv(t,e){t.Iu.Ot(e),di(t).Yo(e)}function eh(t){t.Iu=new F1({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>t.wu.get(e)||null}),di(t).start(),t.pu.au()}function th(t){return yr(t)&&!di(t).$o()&&t.wu.size>0}function yr(t){return de(t).mu.size===0}function Tv(t){t.Iu=void 0}async function FS(t){t.wu.forEach((e,n)=>{Zd(t,e)})}async function VS(t,e){Tv(t),th(t)?(t.pu.fu(e),eh(t)):t.pu.set("Unknown")}async function $S(t,e,n){if(t.pu.set("Online"),e instanceof pv&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.wu.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.wu.delete(o),s.Iu.removeTarget(o))}(t,e)}catch(s){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qa(t,s)}else if(e instanceof Aa?t.Iu.Qt(e):e instanceof fv?t.Iu.Zt(e):t.Iu.Wt(e),!n.isEqual(ue.min()))try{const s=await bv(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.Iu.ee(i);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r.wu.get(c);l&&r.wu.set(c,l.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const c=r.wu.get(a);if(!c)return;r.wu.set(a,c.withResumeToken(Ft.EMPTY_BYTE_STRING,c.snapshotVersion)),kv(r,a);const l=new rr(c.target,a,1,c.sequenceNumber);Zd(r,l)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){z("RemoteStore","Failed to raise snapshot:",s),await Qa(t,s)}}async function Qa(t,e,n){if(!Do(e))throw e;t.mu.add(1),await Mo(t),t.pu.set("Offline"),n||(n=()=>bv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),t.mu.delete(1),await Wc(t)})}function Rv(t,e){return e().catch(n=>Qa(t,n,e))}async function Gc(t){const e=de(t),n=Ns(e);let s=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;jS(e);)try{const r=await CS(e.localStore,s);if(r===null){e._u.length===0&&n.Bo();break}s=r.batchId,qS(e,r)}catch(r){await Qa(e,r)}xv(e)&&Ov(e)}function jS(t){return yr(t)&&t._u.length<10}function qS(t,e){t._u.push(e);const n=Ns(t);n.Mo()&&n.Xo&&n.tu(e.mutations)}function xv(t){return yr(t)&&!Ns(t).$o()&&t._u.length>0}function Ov(t){Ns(t).start()}async function HS(t){Ns(t).su()}async function KS(t){const e=Ns(t);for(const n of t._u)e.tu(n.mutations)}async function JS(t,e,n){const s=t._u.shift(),r=Gd.from(s,e,n);await Rv(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Gc(t)}async function QS(t,e){e&&Ns(t).Xo&&await async function(n,s){if(r=s.code,P1(r)&&r!==x.ABORTED){const i=n._u.shift();Ns(n).Fo(),await Rv(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gc(n)}var r}(t,e),xv(t)&&Ov(t)}async function _p(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const s=yr(n);n.mu.add(3),await Mo(n),s&&n.pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.mu.delete(3),await Wc(n)}async function WS(t,e){const n=de(t);e?(n.mu.delete(2),await Wc(n)):e||(n.mu.add(2),await Mo(n),n.pu.set("Unknown"))}function di(t){return t.Tu||(t.Tu=function(e,n,s){const r=de(e);return r.ru(),new PS(n,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,s)}(t.datastore,t.asyncQueue,{Xr:FS.bind(null,t),no:VS.bind(null,t),Ho:$S.bind(null,t)}),t.gu.push(async e=>{e?(t.Tu.Fo(),th(t)?eh(t):t.pu.set("Unknown")):(await t.Tu.stop(),Tv(t))})),t.Tu}function Ns(t){return t.Eu||(t.Eu=function(e,n,s){const r=de(e);return r.ru(),new MS(n,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,s)}(t.datastore,t.asyncQueue,{Xr:HS.bind(null,t),no:QS.bind(null,t),nu:KS.bind(null,t),eu:JS.bind(null,t)}),t.gu.push(async e=>{e?(t.Eu.Fo(),await Gc(t)):(await t.Eu.stop(),t._u.length>0&&(z("RemoteStore",`Stopping write stream with ${t._u.length} pending writes`),t._u=[]))})),t.Eu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new nh(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sh(t,e){if(Xn("AsyncQueue",`${e}: ${t}`),Do(t))return new J(x.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Z.comparator(n.key,s.key):(n,s)=>Z.comparator(n.key,s.key),this.keyedMap=Oi(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new Lr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Lr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.Au=new gt(Z.comparator)}track(e){const n=e.doc.key,s=this.Au.get(n);s?e.type!==0&&s.type===3?this.Au=this.Au.insert(n,e):e.type===3&&s.type!==1?this.Au=this.Au.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Au=this.Au.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Au=this.Au.remove(n):e.type===1&&s.type===2?this.Au=this.Au.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Au=this.Au.insert(n,{type:2,doc:e.doc}):ie():this.Au=this.Au.insert(n,e)}Ru(){const e=[];return this.Au.inorderTraversal((n,s)=>{e.push(s)}),e}}class zr{constructor(e,n,s,r,i,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zr(e,n,Lr.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.Pu=void 0,this.listeners=[]}}class zS{constructor(){this.queries=new ui(e=>XA(e),jc),this.onlineState="Unknown",this.vu=new Set}}async function rh(t,e){const n=de(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new GS),r)try{i.Pu=await n.onListen(s)}catch(o){const a=sh(o,`Initialization of query '${Pu(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.bu(n.onlineState),i.Pu&&e.Vu(i.Pu)&&oh(n)}async function ih(t,e){const n=de(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function YS(t,e){const n=de(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.Vu(r)&&(s=!0);o.Pu=r}}s&&oh(n)}function XS(t,e,n){const s=de(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function oh(t){t.vu.forEach(e=>{e.next()})}class ah{constructor(e,n,s){this.query=e,this.Su=n,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=s||{}}Vu(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new zr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Du?this.xu(e)&&(this.Su.next(e),n=!0):this.Nu(e,this.onlineState)&&(this.ku(e),n=!0),this.Cu=e,n}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),n=!0),n}Nu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.$u||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}xu(e){if(e.docChanges.length>0)return!0;const n=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ku(e){e=zr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.key=e}}class Nv{constructor(e){this.key=e}}class ZS{constructor(e,n){this.query=e,this.Ku=n,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=ye(),this.mutatedKeys=ye(),this.ju=ZA(e),this.zu=new Lr(this.ju)}get Wu(){return this.Ku}Hu(e,n){const s=n?n.Ju:new wp,r=n?n.zu:this.zu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const f=r.get(u),p=qc(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),A=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?m!==A&&(s.track({type:3,doc:p}),y=!0):this.Yu(f,p)||(s.track({type:2,doc:p}),y=!0,(c&&this.ju(p,c)>0||l&&this.ju(p,l)<0)&&(a=!0)):!f&&p?(s.track({type:0,doc:p}),y=!0):f&&!p&&(s.track({type:1,doc:f}),y=!0,(c||l)&&(a=!0)),y&&(p?(o=o.add(p),i=A?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{zu:o,Ju:s,Li:a,mutatedKeys:i}}Yu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const i=e.Ju.Ru();i.sort((l,u)=>function(d,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return p(d)-p(f)}(l.type,u.type)||this.ju(l.doc,u.doc)),this.Zu(s);const o=n?this.Xu():[],a=this.Qu.size===0&&this.current?1:0,c=a!==this.Gu;return this.Gu=a,i.length!==0||c?{snapshot:new zr(this.query,e.zu,r,i,e.mutatedKeys,a===0,c,!1,!!s&&s.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new wp,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(n=>this.Ku=this.Ku.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ku=this.Ku.delete(n)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=ye(),this.zu.forEach(s=>{this.ec(s.key)&&(this.Qu=this.Qu.add(s.key))});const n=[];return e.forEach(s=>{this.Qu.has(s)||n.push(new Nv(s))}),this.Qu.forEach(s=>{e.has(s)||n.push(new Dv(s))}),n}nc(e){this.Ku=e.Yi,this.Qu=ye();const n=this.Hu(e.documents);return this.applyChanges(n,!0)}sc(){return zr.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}}class eC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class tC{constructor(e){this.key=e,this.ic=!1}}class nC{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new ui(a=>XA(a),jc),this.uc=new Map,this.cc=new Set,this.ac=new gt(Z.comparator),this.hc=new Map,this.lc=new zd,this.fc={},this.dc=new Map,this._c=Gr.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}}async function sC(t,e){const n=fC(t);let s,r;const i=n.oc.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.sc();else{const o=await kS(n.localStore,Zn(e));n.isPrimaryClient&&Sv(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await rC(n,e,s,a==="current",o.resumeToken)}return r}async function rC(t,e,n,s,r){t.mc=(d,f,p)=>async function(m,A,y,w){let T=A.view.Hu(y);T.Li&&(T=await Ap(m.localStore,A.query,!1).then(({documents:O})=>A.view.Hu(O,T)));const I=w&&w.targetChanges.get(A.targetId),E=A.view.applyChanges(T,m.isPrimaryClient,I);return Ep(m,A.targetId,E.tc),E.snapshot}(t,d,f,p);const i=await Ap(t.localStore,e,!0),o=new ZS(e,i.Yi),a=o.Hu(i.documents),c=Po.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),l=o.applyChanges(a,t.isPrimaryClient,c);Ep(t,n,l.tc);const u=new eC(e,n,o);return t.oc.set(e,u),t.uc.has(n)?t.uc.get(n).push(e):t.uc.set(n,[e]),l.snapshot}async function iC(t,e){const n=de(t),s=n.oc.get(e),r=n.uc.get(s.targetId);if(r.length>1)return n.uc.set(s.targetId,r.filter(i=>!jc(i,e))),void n.oc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Bu(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),Cv(n.remoteStore,s.targetId),Fu(n,s.targetId)}).catch(Oo)):(Fu(n,s.targetId),await Bu(n.localStore,s.targetId,!0))}async function oC(t,e,n){const s=pC(t);try{const r=await function(i,o){const a=de(i),c=dt.now(),l=o.reduce((f,p)=>f.add(p.key),ye());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=es(),m=ye();return a.ji.getEntries(f,l).next(A=>{p=A,p.forEach((y,w)=>{w.isValidDocument()||(m=m.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(A=>{u=A;const y=[];for(const w of o){const T=O1(w,u.get(w.key).overlayedDocument);T!=null&&y.push(new Ls(w.key,T,zA(T.value.mapValue),dn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,c,y,o)}).next(A=>{d=A;const y=A.applyToLocalDocumentSet(u,m);return a.documentOverlayCache.saveOverlays(f,A.batchId,y)})}).then(()=>({batchId:d.batchId,changes:uv(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let c=i.fc[i.currentUser.toKey()];c||(c=new gt(Re)),c=c.insert(o,a),i.fc[i.currentUser.toKey()]=c}(s,r.batchId,n),await Uo(s,r.changes),await Gc(s.remoteStore)}catch(r){const i=sh(r,"Failed to persist write");n.reject(i)}}async function Pv(t,e){const n=de(t);try{const s=await IS(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.hc.get(i);o&&(Be(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ic=!0:r.modifiedDocuments.size>0?Be(o.ic):r.removedDocuments.size>0&&(Be(o.ic),o.ic=!1))}),await Uo(n,s,e)}catch(s){await Oo(s)}}function bp(t,e,n){const s=de(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.oc.forEach((i,o)=>{const a=o.view.bu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=de(i);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const d of u.listeners)d.bu(o)&&(c=!0)}),c&&oh(a)}(s.eventManager,e),r.length&&s.rc.Ho(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function aC(t,e,n){const s=de(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.hc.get(e),i=r&&r.key;if(i){let o=new gt(Z.comparator);o=o.insert(i,xt.newNoDocument(i,ue.min()));const a=ye().add(i),c=new Jc(ue.min(),new Map,new pt(Re),o,a);await Pv(s,c),s.ac=s.ac.remove(i),s.hc.delete(e),ch(s)}else await Bu(s.localStore,e,!1).then(()=>Fu(s,e,n)).catch(Oo)}async function cC(t,e){const n=de(t),s=e.batch.batchId;try{const r=await ES(n.localStore,e);Uv(n,s,null),Mv(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Uo(n,r)}catch(r){await Oo(r)}}async function lC(t,e,n){const s=de(t);try{const r=await function(i,o){const a=de(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(Be(u!==null),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(s.localStore,e);Uv(s,e,n),Mv(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Uo(s,r)}catch(r){await Oo(r)}}function Mv(t,e){(t.dc.get(e)||[]).forEach(n=>{n.resolve()}),t.dc.delete(e)}function Uv(t,e,n){const s=de(t);let r=s.fc[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.fc[s.currentUser.toKey()]=r}}function Fu(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.uc.get(e))t.oc.delete(s),n&&t.rc.gc(s,n);t.uc.delete(e),t.isPrimaryClient&&t.lc.ds(e).forEach(s=>{t.lc.containsKey(s)||Lv(t,s)})}function Lv(t,e){t.cc.delete(e.path.canonicalString());const n=t.ac.get(e);n!==null&&(Cv(t.remoteStore,n),t.ac=t.ac.remove(e),t.hc.delete(n),ch(t))}function Ep(t,e,n){for(const s of n)s instanceof Dv?(t.lc.addReference(s.key,e),uC(t,s)):s instanceof Nv?(z("SyncEngine","Document no longer in limbo: "+s.key),t.lc.removeReference(s.key,e),t.lc.containsKey(s.key)||Lv(t,s.key)):ie()}function uC(t,e){const n=e.key,s=n.path.canonicalString();t.ac.get(n)||t.cc.has(s)||(z("SyncEngine","New document in limbo: "+n),t.cc.add(s),ch(t))}function ch(t){for(;t.cc.size>0&&t.ac.size<t.maxConcurrentLimboResolutions;){const e=t.cc.values().next().value;t.cc.delete(e);const n=new Z($e.fromString(e)),s=t._c.next();t.hc.set(s,new tC(n)),t.ac=t.ac.insert(n,s),Sv(t.remoteStore,new rr(Zn(Vc(n.path)),s,2,$d.at))}}async function Uo(t,e,n){const s=de(t),r=[],i=[],o=[];s.oc.isEmpty()||(s.oc.forEach((a,c)=>{o.push(s.mc(c,e,n).then(l=>{if((l||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(c.targetId,l!=null&&l.fromCache?"not-current":"current"),l){r.push(l);const u=Xd.Ni(c.targetId,l);i.push(u)}}))}),await Promise.all(o),s.rc.Ho(r),await async function(a,c){const l=de(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>U.forEach(c,d=>U.forEach(d.Ci,f=>l.persistence.referenceDelegate.addReference(u,d.targetId,f)).next(()=>U.forEach(d.xi,f=>l.persistence.referenceDelegate.removeReference(u,d.targetId,f)))))}catch(u){if(!Do(u))throw u;z("LocalStore","Failed to update sequence numbers: "+u)}for(const u of c){const d=u.targetId;if(!u.fromCache){const f=l.Ki.get(d),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);l.Ki=l.Ki.insert(d,m)}}}(s.localStore,i))}async function dC(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());const s=await wv(n.localStore,e);n.currentUser=e,function(r,i){r.dc.forEach(o=>{o.forEach(a=>{a.reject(new J(x.CANCELLED,i))})}),r.dc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Uo(n,s.Wi)}}function hC(t,e){const n=de(t),s=n.hc.get(e);if(s&&s.ic)return ye().add(s.key);{let r=ye();const i=n.uc.get(e);if(!i)return r;for(const o of i){const a=n.oc.get(o);r=r.unionWith(a.view.Wu)}return r}}function fC(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aC.bind(null,e),e.rc.Ho=YS.bind(null,e.eventManager),e.rc.gc=XS.bind(null,e.eventManager),e}function pC(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lC.bind(null,e),e}class mC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.Tt=Qc(e.databaseInfo.databaseId),this.sharedClientState=this.Ic(e),this.persistence=this.Tc(e),await this.persistence.start(),this.localStore=this.Ec(e),this.gcScheduler=this.Ac(e,this.localStore),this.indexBackfillerScheduler=this.Rc(e,this.localStore)}Ac(e,n){return null}Rc(e,n){return null}Ec(e){return bS(this.persistence,new _S,e.initialUser,this.Tt)}Tc(e){return new vS(Yd.qs,this.Tt)}Ic(e){return new RS}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>bp(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=dC.bind(null,this.syncEngine),await WS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new zS}createDatastore(e){const n=Qc(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new NS(r));var r;return function(i,o,a,c){return new US(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>bp(this.syncEngine,a,0),o=yp.C()?new yp:new xS,new BS(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,c,l){const u=new nC(s,r,i,o,a,c);return l&&(u.wc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=de(e);z("RemoteStore","RemoteStore shutting down."),n.mu.add(5),await Mo(n),n.yu.shutdown(),n.pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):Xn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Rt.UNAUTHENTICATED,this.clientId=VA.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{z("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>(z("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function vC(t,e){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await wv(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function yC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _C(t);z("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>_p(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_p(e.remoteStore,i)),t.onlineComponents=e}async function _C(t){return t.offlineComponents||(z("FirestoreClient","Using default OfflineComponentProvider"),await vC(t,new mC)),t.offlineComponents}async function Bv(t){return t.onlineComponents||(z("FirestoreClient","Using default OnlineComponentProvider"),await yC(t,new gC)),t.onlineComponents}function wC(t){return Bv(t).then(e=>e.syncEngine)}async function Wa(t){const e=await Bv(t),n=e.eventManager;return n.onListen=sC.bind(null,e.syncEngine),n.onUnlisten=iC.bind(null,e.syncEngine),n}function bC(t,e,n={}){const s=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,c){const l=new lh({next:d=>{i.enqueueAndForget(()=>ih(r,u));const f=d.docs.has(o);!f&&d.fromCache?c.reject(new J(x.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?c.reject(new J(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new ah(Vc(o.path),l,{includeMetadataChanges:!0,$u:!0});return rh(r,u)}(await Wa(t),t.asyncQueue,e,n,s)),s.promise}function EC(t,e,n={}){const s=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,c){const l=new lh({next:d=>{i.enqueueAndForget(()=>ih(r,u)),d.fromCache&&a.source==="server"?c.reject(new J(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),u=new ah(o,l,{includeMetadataChanges:!0,$u:!0});return rh(r,u)}(await Wa(t),t.asyncQueue,e,n,s)),s.promise}const Ip=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t,e,n){if(!n)throw new J(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IC(t,e,n,s){if(e===!0&&s===!0)throw new J(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Sp(t){if(!Z.isDocumentKey(t))throw new J(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cp(t){if(Z.isDocumentKey(t))throw new J(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function zt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zc(t);throw new J(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function SC(t,e){if(e<=0)throw new J(x.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new J(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,IC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kp(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new QI;switch(n.type){case"gapi":const s=n.client;return new YI(s,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new J(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ip.get(e);n&&(z("ComponentProvider","Removing Datastore"),Ip.delete(e),n.terminate())}(this),Promise.resolve()}}function CC(t,e,n,s={}){var r;const i=(t=zt(t,Yc))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&Tu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),s.mockUserToken){let o,a;if(typeof s.mockUserToken=="string")o=s.mockUserToken,a=Rt.MOCK_USER;else{o=Og(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=s.mockUserToken.sub||s.mockUserToken.user_id;if(!c)throw new J(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Rt(c)}t._authCredentials=new WI(new FA(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}}class is{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new is(this.firestore,e,this._query)}}class Ss extends is{constructor(e,n,s){super(e,n,Vc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new Z(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function Vt(t,e,...n){if(t=je(t),Fv("collection","path",e),t instanceof Yc){const s=$e.fromString(e,...n);return Cp(s),new Ss(t,null,s)}{if(!(t instanceof Ut||t instanceof Ss))throw new J(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child($e.fromString(e,...n));return Cp(s),new Ss(t.firestore,null,s)}}function we(t,e,...n){if(t=je(t),arguments.length===1&&(e=VA.R()),Fv("doc","path",e),t instanceof Yc){const s=$e.fromString(e,...n);return Sp(s),new Ut(t,null,new Z(s))}{if(!(t instanceof Ut||t instanceof Ss))throw new J(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child($e.fromString(e,...n));return Sp(s),new Ut(t.firestore,t instanceof Ss?t.converter:null,new Z(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Ev(this,"async_queue_retry"),this.Hc=()=>{const n=ql();n&&z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.ko.Vo()};const e=ql();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const n=ql();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const n=new Wn;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(e){if(!Do(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(e){const n=this.qc.then(()=>(this.jc=!0,e().catch(s=>{this.Qc=s,this.jc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw Xn("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.jc=!1,s))));return this.qc=n,n}enqueueAfterDelay(e,n,s){this.Jc(),this.Wc.indexOf(e)>-1&&(n=0);const r=nh.createAndSchedule(this,e,n,s,i=>this.Xc(i));return this.Gc.push(r),r}Jc(){this.Qc&&ie()}verifyOperationInProgress(){}async ta(){let e;do e=this.qc,await e;while(e!==this.qc)}ea(e){for(const n of this.Gc)if(n.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Gc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const n=this.Gc.indexOf(e);this.Gc.splice(n,1)}}function Tp(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const r of n)if(r in s&&typeof s[r]=="function")return!0;return!1}(t,["next","error","complete"])}class ts extends Yc{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new kC,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vv(this),this._firestoreClient.terminate()}}function hi(t,e){const n=typeof t=="object"?t:vd(),s=typeof t=="string"?t:e||"(default)",r=Ec(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=Rg("firestore");i&&CC(r,...i)}return r}function Xc(t){return t._firestoreClient||Vv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Vv(t){var e;const n=t._freezeSettings(),s=function(r,i,o,a){return new a1(r,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new AC(t._authCredentials,t._appCheckCredentials,t._queue,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yr(Ft.fromBase64String(e))}catch(n){throw new J(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yr(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=/^__.*__$/;class RC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms):new No(e,this.data,n,this.fieldTransforms)}}class $v{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ls(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class el{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.Tt=s,this.ignoreUndefinedProperties=r,i===void 0&&this.ia(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new el(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.oa({path:s,ca:!1});return r.aa(e),r}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.oa({path:s,ca:!1});return r.ia(),r}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return Ga(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(e.length===0)throw this.fa("Document fields must not be empty");if(jv(this.ra)&&TC.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class xC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.Tt=s||Qc(e)}wa(e,n,s,r=!1){return new el({ra:e,methodName:n,_a:s,path:Dt.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function tl(t){const e=t._freezeSettings(),n=Qc(t._databaseId);return new xC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qv(t,e,n,s,r,i={}){const o=t.wa(i.merge||i.mergeFields?2:0,e,n,r);hh("Data must be an object, but it was:",o,s);const a=Kv(s,o);let c,l;if(i.merge)c=new tn(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const f=Vu(e,d,n);if(!o.contains(f))throw new J(x.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Qv(u,f)||u.push(f)}c=new tn(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new RC(new Gt(a),c,l)}class nl extends fi{_toFieldTransform(e){if(e.ra!==2)throw e.ra===1?e.fa(`${this._methodName}() can only appear at the top level of your update data`):e.fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nl}}function Hv(t,e,n){return new el({ra:3,_a:e.settings._a,methodName:t._methodName,ca:n},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class dh extends fi{_toFieldTransform(e){return new Jd(e.path,new ho)}isEqual(e){return e instanceof dh}}class OC extends fi{constructor(e,n){super(e),this.ma=n}_toFieldTransform(e){const n=Hv(this,e,!0),s=this.ma.map(i=>_r(i,n)),r=new Qr(s);return new Jd(e.path,r)}isEqual(e){return this===e}}class DC extends fi{constructor(e,n){super(e),this.ma=n}_toFieldTransform(e){const n=Hv(this,e,!0),s=this.ma.map(i=>_r(i,n)),r=new Wr(s);return new Jd(e.path,r)}isEqual(e){return this===e}}function NC(t,e,n,s){const r=t.wa(1,e,n);hh("Data must be an object, but it was:",r,s);const i=[],o=Gt.empty();vr(s,(c,l)=>{const u=fh(e,c,n);l=je(l);const d=r.ha(u);if(l instanceof nl)i.push(u);else{const f=_r(l,d);f!=null&&(i.push(u),o.set(u,f))}});const a=new tn(i);return new $v(o,a,r.fieldTransforms)}function PC(t,e,n,s,r,i){const o=t.wa(1,e,n),a=[Vu(e,s,n)],c=[r];if(i.length%2!=0)throw new J(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Vu(e,i[f])),c.push(i[f+1]);const l=[],u=Gt.empty();for(let f=a.length-1;f>=0;--f)if(!Qv(l,a[f])){const p=a[f];let m=c[f];m=je(m);const A=o.ha(p);if(m instanceof nl)l.push(p);else{const y=_r(m,A);y!=null&&(l.push(p),u.set(p,y))}}const d=new tn(l);return new $v(u,d,o.fieldTransforms)}function MC(t,e,n,s=!1){return _r(n,t.wa(s?4:3,e))}function _r(t,e){if(Jv(t=je(t)))return hh("Unsupported field value:",e,t),Kv(t,e);if(t instanceof fi)return function(n,s){if(!jv(s.ra))throw s.fa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.fa(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ca&&e.ra!==4)throw e.fa("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=_r(o,s.la(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=je(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return S1(s.Tt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=dt.fromDate(n);return{timestampValue:Ja(s.Tt,r)}}if(n instanceof dt){const r=new dt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ja(s.Tt,r)}}if(n instanceof uh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Yr)return{bytesValue:mv(s.Tt,n._byteString)};if(n instanceof Ut){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s.fa(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Wd(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.fa(`Unsupported field value: ${zc(n)}`)}(t,e)}function Kv(t,e){const n={};return $A(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(t,(s,r)=>{const i=_r(r,e.ua(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Jv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof uh||t instanceof Yr||t instanceof Ut||t instanceof fi)}function hh(t,e,n){if(!Jv(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=zc(n);throw s==="an object"?e.fa(t+" a custom object"):e.fa(t+" "+s)}}function Vu(t,e,n){if((e=je(e))instanceof Zc)return e._internalPath;if(typeof e=="string")return fh(t,e);throw Ga("Field path arguments must be of type string or ",t,!1,void 0,n)}const UC=new RegExp("[~\\*/\\[\\]]");function fh(t,e,n){if(e.search(UC)>=0)throw Ga(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zc(...e.split("."))._internalPath}catch{throw Ga(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ga(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new J(x.INVALID_ARGUMENT,a+t+c)}function Qv(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LC extends Wv{data(){return super.data()}}function sl(t,e){return typeof e=="string"?fh(t,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ph{}class mh extends ph{}function ns(t,e,...n){let s=[];e instanceof ph&&s.push(e),s=s.concat(n),function(r){const i=r.filter(a=>a instanceof gh).length,o=r.filter(a=>a instanceof rl).length;if(i>1||i>0&&o>0)throw new J(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class rl extends mh{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new rl(e,n,s)}_apply(e){const n=this._parse(e);return zv(e._query,n),new is(e.firestore,e.converter,Nu(e._query,n))}_parse(e){const n=tl(e.firestore);return function(r,i,o,a,c,l,u){let d;if(c.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new J(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){xp(u,l);const f=[];for(const p of u)f.push(Rp(a,r,p));d={arrayValue:{values:f}}}else d=Rp(a,r,u)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||xp(u,l),d=MC(o,i,u,l==="in"||l==="not-in");return ut.create(c,l,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gn(t,e,n){const s=e,r=sl("where",t);return rl._create(r,s,n)}class gh extends ph{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gh(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:_n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,r){let i=s;const o=r.getFlattenedFilters();for(const a of o)zv(i,a),i=Nu(i,a)}(e._query,n),new is(e.firestore,e.converter,Nu(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ah extends mh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ah(e,n)}_apply(e){const n=function(s,r,i){if(s.startAt!==null)throw new J(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new J(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Mr(r,i);return function(a,c){if(Kd(a)===null){const l=$c(a);l!==null&&Yv(a,l,c.field)}}(s,o),o}(e._query,this._field,this._direction);return new is(e.firestore,e.converter,function(s,r){const i=s.explicitOrderBy.concat([r]);return new li(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function il(t,e="asc"){const n=e,s=sl("orderBy",t);return Ah._create(s,n)}class vh extends mh{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new vh(e,n,s)}_apply(e){return new is(e.firestore,e.converter,Ha(e._query,this._limit,this._limitType))}}function BC(t){return SC("limit",t),vh._create("limit",t,"F")}function Rp(t,e,n){if(typeof(n=je(n))=="string"){if(n==="")throw new J(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YA(e)&&n.indexOf("/")!==-1)throw new J(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child($e.fromString(n));if(!Z.isDocumentKey(s))throw new J(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return tp(t,new Z(s))}if(n instanceof Ut)return tp(t,n._key);throw new J(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zc(n)}.`)}function xp(t,e){if(!Array.isArray(t)||t.length===0)throw new J(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zv(t,e){if(e.isInequality()){const s=$c(t),r=e.field;if(s!==null&&!s.isEqual(r))throw new J(x.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${r.toString()}'`);const i=Kd(t);i!==null&&Yv(t,r,i)}const n=function(s,r){for(const i of s)for(const o of i.getFlattenedFilters())if(r.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Yv(t,e,n){if(!n.isEqual(e))throw new J(x.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class FC{convertValue(e,n="none"){switch(dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}}convertObject(e,n){const s={};return vr(e.fields,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new uh(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qA(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lo(e));default:return null}}convertTimestamp(e){const n=Ds(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=$e.fromString(e);Be(_v(s));const r=new co(s.get(1),s.get(3)),i=new Z(s.popFirst(5));return r.isEqual(n)||Xn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zv extends Wv{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new va(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(sl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class va extends Zv{data(e={}){return super.data(e)}}class ey{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Di(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new va(this._firestore,this._userDataWriter,s.key,s,new Di(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>{const a=new va(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Di(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new va(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Di(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,l=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),l=i.indexOf(o.doc.key)),{type:VC(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function VC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){t=zt(t,Ut);const e=zt(t.firestore,ts);return bC(Xc(e),t._key).then(n=>ny(e,t,n))}class yh extends FC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function pi(t){t=zt(t,is);const e=zt(t.firestore,ts),n=Xc(e),s=new yh(e);return Gv(t._query),EC(n,t._query).then(r=>new ey(e,s,t,r))}function ty(t,e,n){t=zt(t,Ut);const s=zt(t.firestore,ts),r=Xv(t.converter,e,n);return al(s,[qv(tl(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,dn.none())])}function $t(t,e,n,...s){t=zt(t,Ut);const r=zt(t.firestore,ts),i=tl(r);let o;return o=typeof(e=je(e))=="string"||e instanceof Zc?PC(i,"updateDoc",t._key,e,n,s):NC(i,"updateDoc",t._key,e),al(r,[o.toMutation(t._key,dn.exists(!0))])}function $C(t){return al(zt(t.firestore,ts),[new Qd(t._key,dn.none())])}function ol(t,e){const n=zt(t.firestore,ts),s=we(t),r=Xv(t.converter,e);return al(n,[qv(tl(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,dn.exists(!1))]).then(()=>s)}function wr(t,...e){var n,s,r;t=je(t);let i={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Tp(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges};if(Tp(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(s=d.error)===null||s===void 0?void 0:s.bind(d),e[o+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let c,l,u;if(t instanceof Ut)l=zt(t.firestore,ts),u=Vc(t._key.path),c={next:d=>{e[o]&&e[o](ny(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=zt(t,is);l=zt(d.firestore,ts),u=d._query;const f=new yh(l);c={next:p=>{e[o]&&e[o](new ey(l,f,d,p))},error:e[o+1],complete:e[o+2]},Gv(t._query)}return function(d,f,p,m){const A=new lh(m),y=new ah(f,A,p);return d.asyncQueue.enqueueAndForget(async()=>rh(await Wa(d),y)),()=>{A.bc(),d.asyncQueue.enqueueAndForget(async()=>ih(await Wa(d),y))}}(Xc(l),u,a,c)}function al(t,e){return function(n,s){const r=new Wn;return n.asyncQueue.enqueueAndForget(async()=>oC(await wC(n),s,r)),r.promise}(Xc(t),e)}function ny(t,e,n){const s=n.docs.get(e._key),r=new yh(t);return new Zv(t,r,e._key,s,new Di(n.hasPendingWrites,n.fromCache),e.converter)}function Lo(){return new dh("serverTimestamp")}function za(...t){return new OC("arrayUnion",t)}function $u(...t){return new DC("arrayRemove",t)}(function(t,e=!0){(function(n){ci=n})(ii),lr(new xs("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new ts(new GI(n.getProvider("auth-internal")),new ZI(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new J(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new co(a.options.projectId,c)}(i,s),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),On(Yf,"3.9.0",t),On(Yf,"3.9.0","esm2017")})();function _h(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function sy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jC=sy,ry=new _o("auth","Firebase",sy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new gd("@firebase/auth");function ya(t,...e){Op.logLevel<=ke.ERROR&&Op.error(`Auth (${ii}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,...e){throw wh(t,...e)}function Nn(t,...e){return wh(t,...e)}function qC(t,e,n){const s=Object.assign(Object.assign({},jC()),{[e]:n});return new _o("auth","Firebase",s).create(e,{appName:t.name})}function wh(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return ry.create(t,...e)}function ne(t,e,...n){if(!t)throw wh(e,...n)}function Jn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ya(e),new Error(e)}function ss(t,e){t||Jn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp=new Map;function Qn(t){ss(t instanceof Function,"Expected a class definition");let e=Dp.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Dp.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t,e){const n=Ec(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Da(i,e??{}))return r;wn(r,"already-initialized")}return n.initialize({options:e})}function KC(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JC(){return Np()==="http:"||Np()==="https:"}function Np(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JC()||C0()||"connection"in navigator)?navigator.onLine:!0}function WC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=I0()||k0()}get(){return QC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Bo(3e4,6e4);function mi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function br(t,e,n,s,r={}){return oy(t,r,async()=>{let i={},o={};s&&(e==="GET"?o=s:i={body:JSON.stringify(s)});const a=wo(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),iy.fetch()(ay(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function oy(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},GC),e);try{const r=new YC(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw aa(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw aa(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw aa(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw aa(t,"user-disabled",o);const u=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw qC(t,u,l);wn(t,u)}}catch(r){if(r instanceof Fn)throw r;wn(t,"internal-error",{message:String(r)})}}async function Fo(t,e,n,s,r={}){const i=await br(t,e,n,s,r);return"mfaPendingCredential"in i&&wn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function ay(t,e,n,s){const r=`${e}${n}?${s}`;return t.config.emulator?bh(t.config,r):`${t.config.apiScheme}://${r}`}class YC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Nn(this.auth,"network-request-failed")),zC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function aa(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Nn(t,e,s);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(t,e){return br(t,"POST","/v1/accounts:delete",e)}async function ZC(t,e){return br(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ek(t,e=!1){const n=je(t),s=await n.getIdToken(e),r=Eh(s);ne(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Vi(Hl(r.auth_time)),issuedAtTime:Vi(Hl(r.iat)),expirationTime:Vi(Hl(r.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Hl(t){return Number(t)*1e3}function Eh(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ya("JWT malformed, contained fewer than 3 sections"),null;try{const r=kg(n);return r?JSON.parse(r):(ya("Failed to decode base64 JWT payload"),null)}catch(r){return ya("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function tk(t){const e=Eh(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xr(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Fn&&nk(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function nk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vi(this.lastLoginAt),this.creationTime=Vi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t){var e;const n=t.auth,s=await t.getIdToken(),r=await Xr(t,ZC(n,{idToken:s}));ne(r==null?void 0:r.users.length,n,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?ok(i.providerUserInfo):[],a=ik(t.providerData,o),c=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new cy(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function rk(t){const e=je(t);await Ya(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ik(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function ok(t){return t.map(e=>{var{providerId:n}=e,s=_h(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(t,e){const n=await oy(t,{},async()=>{const s=wo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=ay(t,r,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iy.fetch()(o,{method:"POST",headers:a,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ne(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await ak(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,o=new fo;return s&&(ne(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(ne(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),i&&(ne(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return Jn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ir{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,i=_h(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new cy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Xr(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ek(this,e)}reload(){return rk(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ya(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Xr(this,XC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,i,o,a,c,l,u;const d=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(l=n.createdAt)!==null&&l!==void 0?l:void 0,T=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:I,emailVerified:E,isAnonymous:O,providerData:G,stsTokenManager:Y}=n;ne(I&&Y,e,"internal-error");const H=fo.fromJSON(this.name,Y);ne(typeof I=="string",e,"internal-error"),cs(d,e.name),cs(f,e.name),ne(typeof E=="boolean",e,"internal-error"),ne(typeof O=="boolean",e,"internal-error"),cs(p,e.name),cs(m,e.name),cs(A,e.name),cs(y,e.name),cs(w,e.name),cs(T,e.name);const me=new ir({uid:I,auth:e,email:f,emailVerified:E,displayName:d,isAnonymous:O,photoURL:m,phoneNumber:p,tenantId:A,stsTokenManager:H,createdAt:w,lastLoginAt:T});return G&&Array.isArray(G)&&(me.providerData=G.map(oe=>Object.assign({},oe))),y&&(me._redirectEventId=y),me}static async _fromIdTokenResponse(e,n,s=!1){const r=new fo;r.updateFromServerResponse(n);const i=new ir({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Ya(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ly.type="NONE";const Pp=ly;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t,e,n){return`firebase:${t}:${e}:${n}`}class Br{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=_a(this.userKey,r.apiKey,i),this.fullPersistenceKey=_a("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Br(Qn(Pp),e,s);const r=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=r[0]||Qn(Pp);const o=_a(s,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){const d=ir._fromJSON(e,u);l!==i&&(a=d),i=l;break}}catch{}const c=r.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Br(i,e,s):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new Br(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(py(e))return"Blackberry";if(my(e))return"Webos";if(Ih(e))return"Safari";if((e.includes("chrome/")||dy(e))&&!e.includes("edge/"))return"Chrome";if(fy(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function uy(t=Bt()){return/firefox\//i.test(t)}function Ih(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dy(t=Bt()){return/crios\//i.test(t)}function hy(t=Bt()){return/iemobile/i.test(t)}function fy(t=Bt()){return/android/i.test(t)}function py(t=Bt()){return/blackberry/i.test(t)}function my(t=Bt()){return/webos/i.test(t)}function cl(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ck(t=Bt()){var e;return cl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lk(){return T0()&&document.documentMode===10}function gy(t=Bt()){return cl(t)||fy(t)||my(t)||py(t)||/windows phone/i.test(t)||hy(t)}function uk(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t,e=[]){let n;switch(t){case"Browser":n=Mp(Bt());break;case"Worker":n=`${Mp(Bt())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ii}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n,s){this.app=e,this.heartbeatServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Up(this),this.idTokenSubscription=new Up(this),this.beforeStateQueue=new dk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ry,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qn(n)),this._initializationPromise=this.queue(async()=>{var s,r;if(!this._deleted&&(this.persistenceManager=await Br.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let r=s,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ya(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?je(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Qn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _o("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qn(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await Br.create(this,[Qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,s,r):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ay(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return s&&(n["X-Firebase-Client"]=s),n}}function Vo(t){return je(t)}class Up{constructor(e){this.auth=e,this.observer=null,this.addObserver=M0(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fk(t,e,n){const s=Vo(t);ne(s._canInitEmulator,s,"emulator-config-failed"),ne(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),i=vy(e),{host:o,port:a}=pk(e),c=a===null?"":`:${a}`;s.config.emulator={url:`${i}//${o}${c}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||mk()}function vy(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pk(t){const e=vy(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:Lp(s.substr(i.length+1))}}else{const[i,o]=s.split(":");return{host:i,port:Lp(o)}}}function Lp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jn("not implemented")}_getIdTokenResponse(e){return Jn("not implemented")}_linkToIdToken(e,n){return Jn("not implemented")}_getReauthenticationResolver(e){return Jn("not implemented")}}async function gk(t,e){return br(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(t,e){return Fo(t,"POST","/v1/accounts:signInWithPassword",mi(t,e))}async function vk(t,e){return br(t,"POST","/v1/accounts:sendOobCode",mi(t,e))}async function yk(t,e){return vk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(t,e){return Fo(t,"POST","/v1/accounts:signInWithEmailLink",mi(t,e))}async function wk(t,e){return Fo(t,"POST","/v1/accounts:signInWithEmailLink",mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends Sh{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new po(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new po(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ak(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return _k(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return gk(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return wk(e,{idToken:n,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fr(t,e){return Fo(t,"POST","/v1/accounts:signInWithIdp",mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="http://localhost";class hr extends Sh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r}=n,i=_h(n,["providerId","signInMethod"]);if(!s||!r)return null;const o=new hr(s,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fr(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Fr(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fr(e,n)}buildRequest(){const e={requestUri:bk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wo(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ik(t){const e=ki(Ti(t)).link,n=e?ki(Ti(e)).deep_link_id:null,s=ki(Ti(t)).deep_link_id;return(s?ki(Ti(s)).link:null)||s||n||e||t}class Ch{constructor(e){var n,s,r,i,o,a;const c=ki(Ti(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(s=c.oobCode)!==null&&s!==void 0?s:null,d=Ek((r=c.mode)!==null&&r!==void 0?r:null);ne(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Ik(e);try{return new Ch(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.providerId=gi.PROVIDER_ID}static credential(e,n){return po._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ch.parseLink(n);return ne(s,"argument-error"),po._fromEmailAndCode(e,s.code,s.tenantId)}}gi.PROVIDER_ID="password";gi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends yy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends $o{constructor(){super("facebook.com")}static credential(e){return hr._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ms.credential(e.oauthAccessToken)}catch{return null}}}ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends $o{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hr._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return gs.credential(n,s)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends $o{constructor(){super("github.com")}static credential(e){return hr._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends $o{constructor(){super("twitter.com")}static credential(e,n){return hr._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return vs.credential(n,s)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(t,e){return Fo(t,"POST","/v1/accounts:signUp",mi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await ir._fromIdTokenResponse(e,s,r),o=Bp(s);return new fr({user:i,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=Bp(s);return new fr({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function Bp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Fn{constructor(e,n,s,r){var i;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Xa.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Xa(e,n,s,r)}}function _y(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Xa._fromErrorAndOperation(t,i,e,s):i})}async function Ck(t,e,n=!1){const s=await Xr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fr._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kk(t,e,n=!1){const{auth:s}=t,r="reauthenticate";try{const i=await Xr(t,_y(s,r,e,t),n);ne(i.idToken,s,"internal-error");const o=Eh(i.idToken);ne(o,s,"internal-error");const{sub:a}=o;return ne(t.uid===a,s,"user-mismatch"),fr._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&wn(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wy(t,e,n=!1){const s="signIn",r=await _y(t,s,e),i=await fr._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function Tk(t,e){return wy(Vo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(t,e,n){var s;ne(((s=n.url)===null||s===void 0?void 0:s.length)>0,t,"invalid-continue-uri"),ne(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ne(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ne(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(t,e,n){const s=je(t),r={requestType:"PASSWORD_RESET",email:e};n&&Rk(s,r,n),await yk(s,r)}async function Ok(t,e,n){const s=Vo(t),r=await Sk(s,{returnSecureToken:!0,email:e,password:n}),i=await fr._fromIdTokenResponse(s,"signIn",r);return await s._updateCurrentUser(i.user),i}function Dk(t,e,n){return Tk(je(t),gi.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e){return br(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pk(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=je(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Xr(s,Nk(s.auth,i));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const a=s.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=s.displayName,a.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function Mk(t,e,n,s){return je(t).onIdTokenChanged(e,n,s)}function Uk(t,e,n){return je(t).beforeAuthStateChanged(e,n)}function by(t,e,n,s){return je(t).onAuthStateChanged(e,n,s)}function Lk(t){return je(t).signOut()}const Za="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Za,"1"),this.storage.removeItem(Za),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(){const t=Bt();return Ih(t)||cl(t)}const Fk=1e3,Vk=10;class Iy extends Ey{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Bk()&&uk(),this.fallbackToPolling=gy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(s);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},i=this.storage.getItem(s);lk()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Vk):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Fk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Iy.type="LOCAL";const $k=Iy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy extends Ey{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Sy.type="SESSION";const Cy=Sy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new ll(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const a=Array.from(o).map(async l=>l(n.origin,i)),c=await jk(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ll.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const l=kh("",20);r.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(d){const f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function Hk(t){Pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function Kk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Qk(){return ky()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="firebaseLocalStorageDb",Wk=1,ec="firebaseLocalStorage",Ry="fbase_key";class jo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ul(t,e){return t.transaction([ec],e?"readwrite":"readonly").objectStore(ec)}function Gk(){const t=indexedDB.deleteDatabase(Ty);return new jo(t).toPromise()}function qu(){const t=indexedDB.open(Ty,Wk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(ec,{keyPath:Ry})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(ec)?e(s):(s.close(),await Gk(),e(await qu()))})})}async function Fp(t,e,n){const s=ul(t,!0).put({[Ry]:e,value:n});return new jo(s).toPromise()}async function zk(t,e){const n=ul(t,!1).get(e),s=await new jo(n).toPromise();return s===void 0?null:s.value}function Vp(t,e){const n=ul(t,!0).delete(e);return new jo(n).toPromise()}const Yk=800,Xk=3;class xy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Xk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ky()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ll._getInstance(Qk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Kk(),!this.activeServiceWorker)return;this.sender=new qk(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qu();return await Fp(e,Za,"1"),await Vp(e,Za),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Fp(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>zk(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vp(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=ul(r,!1).getAll();return new jo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Yk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xy.type="LOCAL";const Zk=xy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function tT(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=Nn("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",eT().appendChild(s)})}function nT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Bo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t,e){return e?Qn(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends Sh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rT(t){return wy(t.auth,new Th(t),t.bypassAuthState)}function iT(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),kk(n,new Th(t),t.bypassAuthState)}async function oT(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),Ck(n,new Th(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rT;case"linkViaPopup":case"linkViaRedirect":return oT;case"reauthViaPopup":case"reauthViaRedirect":return iT;default:wn(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=new Bo(2e3,1e4);class Or extends Oy{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Or.currentPopupAction&&Or.currentPopupAction.cancel(),Or.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=kh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Or.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,aT.get())};e()}}Or.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="pendingRedirect",wa=new Map;class lT extends Oy{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=wa.get(this.auth._key());if(!e){try{const s=await uT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}wa.set(this.auth._key(),e)}return this.bypassAuthState||wa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uT(t,e){const n=fT(e),s=hT(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function dT(t,e){wa.set(t._key(),e)}function hT(t){return Qn(t._redirectPersistence)}function fT(t){return _a(cT,t.config.apiKey,t.name)}async function pT(t,e,n=!1){const s=Vo(t),r=sT(s,e),o=await new lT(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=10*60*1e3;class gT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AT(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Dy(e)){const r=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Nn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mT&&this.cachedEventUids.clear(),this.cachedEventUids.has($p(e))}saveEventToCache(e){this.cachedEventUids.add($p(e)),this.lastProcessedEventTime=Date.now()}}function $p(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Dy({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AT(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dy(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vT(t,e={}){return br(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_T=/^https?/;async function wT(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vT(t);for(const n of e)try{if(bT(n))return}catch{}wn(t,"unauthorized-domain")}function bT(t){const e=ju(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!_T.test(n))return!1;if(yT.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Bo(3e4,6e4);function jp(){const t=Pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IT(t){return new Promise((e,n)=>{var s,r,i;function o(){jp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jp(),n(Nn(t,"network-request-failed"))},timeout:ET.get()})}if(!((r=(s=Pn().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((i=Pn().gapi)===null||i===void 0)&&i.load)o();else{const a=nT("iframefcb");return Pn()[a]=()=>{gapi.load?o():n(Nn(t,"network-request-failed"))},tT(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ba=null,e})}let ba=null;function ST(t){return ba=ba||IT(t),ba}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=new Bo(5e3,15e3),kT="__/auth/iframe",TT="emulator/auth/iframe",RT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OT(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bh(e,TT):`https://${t.config.authDomain}/${kT}`,s={apiKey:e.apiKey,appName:t.name,v:ii},r=xT.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${wo(s).slice(1)}`}async function DT(t){const e=await ST(t),n=Pn().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:OT(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RT,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const o=Nn(t,"network-request-failed"),a=Pn().setTimeout(()=>{i(o)},CT.get());function c(){Pn().clearTimeout(a),r(s)}s.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PT=500,MT=600,UT="_blank",LT="http://localhost";class qp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BT(t,e,n,s=PT,r=MT){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const c=Object.assign(Object.assign({},NT),{width:s.toString(),height:r.toString(),top:i,left:o}),l=Bt().toLowerCase();n&&(a=dy(l)?UT:n),uy(l)&&(e=e||LT,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(ck(l)&&a!=="_self")return FT(e||"",a),new qp(null);const d=window.open(e||"",a,u);ne(d,t,"popup-blocked");try{d.focus()}catch{}return new qp(d)}function FT(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="__/auth/handler",$T="emulator/auth/handler";function Hp(t,e,n,s,r,i){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ii,eventId:r};if(e instanceof yy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",P0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,l]of Object.entries(i||{}))o[c]=l}if(e instanceof $o){const c=e.getScopes().filter(l=>l!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];return`${jT(t)}?${wo(a).slice(1)}`}function jT({config:t}){return t.emulator?bh(t,$T):`https://${t.authDomain}/${VT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl="webStorageSupport";class qT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cy,this._completeRedirectFn=pT,this._overrideRedirectResult=dT}async _openPopup(e,n,s,r){var i;ss((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=Hp(e,n,s,ju(),r);return BT(e,o,kh())}async _openRedirect(e,n,s,r){return await this._originValidation(e),Hk(Hp(e,n,s,ju(),r)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(ss(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await DT(e),s=new gT(e);return n.register("authEvent",r=>(ne(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kl,{type:Kl},r=>{var i;const o=(i=r==null?void 0:r[0])===null||i===void 0?void 0:i[Kl];o!==void 0&&n(!!o),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wT(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gy()||Ih()||cl()}}const HT=qT;var Kp="@firebase/auth",Jp="0.21.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function QT(t){lr(new xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:o}=s.options;return((a,c)=>{ne(i&&!i.includes(":"),"invalid-api-key",{appName:a.name}),ne(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const l={apiKey:i,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ay(t)},u=new hk(a,c,l);return KC(u,n),u})(s,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),lr(new xs("auth-internal",e=>{const n=Vo(e.getProvider("auth").getImmediate());return(s=>new KT(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),On(Kp,Jp,JT(t)),On(Kp,Jp,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=5*60,GT=xg("authIdTokenMaxAge")||WT;let Qp=null;const zT=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>GT)return;const r=n==null?void 0:n.token;Qp!==r&&(Qp=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Rh(t=vd()){const e=Ec(t,"auth");if(e.isInitialized())return e.getImmediate();const n=HC(t,{popupRedirectResolver:HT,persistence:[Zk,$k,Cy]}),s=xg("authTokenSyncURL");if(s){const i=zT(s);Uk(n,i,()=>i(n.currentUser)),Mk(n,o=>i(o))}const r=Tg("auth");return r&&fk(n,`http://${r}`),n}QT("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="firebasestorage.googleapis.com",Py="storageBucket",YT=2*60*1e3,XT=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt extends Fn{constructor(e,n,s=0){super(Jl(e),`Firebase Storage: ${n} (${Jl(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jl(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ze||(Ze={}));function Jl(t){return"storage/"+t}function xh(){const t="An unknown error occurred, please check the error payload for server response.";return new tt(Ze.UNKNOWN,t)}function ZT(t){return new tt(Ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function eR(t){return new tt(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tR(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tt(Ze.UNAUTHENTICATED,t)}function nR(){return new tt(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function sR(t){return new tt(Ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function rR(){return new tt(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iR(){return new tt(Ze.CANCELED,"User canceled the upload/download.")}function oR(t){return new tt(Ze.INVALID_URL,"Invalid URL '"+t+"'.")}function aR(t){return new tt(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cR(){return new tt(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Py+"' property when initializing the app?")}function lR(){return new tt(Ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function uR(){return new tt(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function dR(t){return new tt(Ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hu(t){return new tt(Ze.INVALID_ARGUMENT,t)}function My(){return new tt(Ze.APP_DELETED,"The Firebase app was deleted.")}function hR(t){return new tt(Ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $i(t,e){return new tt(Ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function bi(t){throw new tt(Ze.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=nn.makeFromUrl(e,n)}catch{return new nn(e,"")}if(s.path==="")return s;throw aR(e)}static makeFromUrl(e,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function i(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+r+o,"i"),c={bucket:1,path:3};function l(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${r}/o${f}`,"i"),m={bucket:1,path:3},A=n===Ny?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",w=new RegExp(`^https?://${A}/${r}/${y}`,"i"),I=[{regex:a,indices:c,postModify:i},{regex:p,indices:m,postModify:l},{regex:w,indices:{bucket:1,path:2},postModify:l}];for(let E=0;E<I.length;E++){const O=I[E],G=O.regex.exec(e);if(G){const Y=G[O.indices.bucket];let H=G[O.indices.path];H||(H=""),s=new nn(Y,H),O.postModify(s);break}}if(s==null)throw oR(e);return s}}class fR{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t,e,n){let s=1,r=null,i=null,o=!1,a=0;function c(){return a===2}let l=!1;function u(...y){l||(l=!0,e.apply(null,y))}function d(y){r=setTimeout(()=>{r=null,t(p,c())},y)}function f(){i&&clearTimeout(i)}function p(y,...w){if(l){f();return}if(y){f(),u.call(null,y,...w);return}if(c()||o){f(),u.call(null,y,...w);return}s<64&&(s*=2);let I;a===1?(a=2,I=0):I=(s+Math.random())*1e3,d(I)}let m=!1;function A(y){m||(m=!0,f(),!l&&(r!==null?(y||(a=2),clearTimeout(r),d(0)):y||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,A(!0)},n),A}function mR(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t){return t!==void 0}function AR(t){return typeof t=="object"&&!Array.isArray(t)}function Oh(t){return typeof t=="string"||t instanceof String}function Wp(t){return Dh()&&t instanceof Blob}function Dh(){return typeof Blob<"u"&&!S0()}function Gp(t,e,n,s){if(s<e)throw Hu(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Hu(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function Uy(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const r=e(s)+"="+e(t[s]);n=n+r+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(or||(or={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||r||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,s,r,i,o,a,c,l,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new ca(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const c=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,l)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===or.NO_ERROR,c=i.getStatus();if(!a||vR(c,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===or.ABORT;s(!1,new ca(!1,null,u));return}const l=this.successCodes_.indexOf(c)!==-1;s(!0,new ca(l,i))})},n=(s,r)=>{const i=this.resolve_,o=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());gR(c)?i(c):i()}catch(c){o(c)}else if(a!==null){const c=xh();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(r.canceled){const c=this.appDelete_?My():iR();o(c)}else{const c=rR();o(c)}};this.canceled_?n(!1,new ca(!1,null,!0)):this.backoffId_=pR(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ca{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function _R(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function wR(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bR(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ER(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function IR(t,e,n,s,r,i,o=!0){const a=Uy(t.urlParams),c=t.url+a,l=Object.assign({},t.headers);return bR(l,e),_R(l,n),wR(l,i),ER(l,s),new yR(c,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function CR(...t){const e=SR();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(Dh())return new Blob(t);throw new tt(Ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kR(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){if(typeof atob>"u")throw dR("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ql{constructor(e,n){this.data=e,this.contentType=n||null}}function Ly(t,e){switch(t){case vn.RAW:return new Ql(By(e));case vn.BASE64:case vn.BASE64URL:return new Ql(Fy(t,e));case vn.DATA_URL:return new Ql(xR(e),OR(e))}throw xh()}function By(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=s,o=t.charCodeAt(++n);s=65536|(i&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function RR(t){let e;try{e=decodeURIComponent(t)}catch{throw $i(vn.DATA_URL,"Malformed data URL.")}return By(e)}function Fy(t,e){switch(t){case vn.BASE64:{const r=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(r||i)throw $i(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case vn.BASE64URL:{const r=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(r||i)throw $i(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=TR(e)}catch(r){throw r.message.includes("polyfill")?r:$i(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}class Vy{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw $i(vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=DR(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function xR(t){const e=new Vy(t);return e.base64?Fy(vn.BASE64,e.rest):RR(e.rest)}function OR(t){return new Vy(t).contentType}function DR(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){let s=0,r="";Wp(e)?(this.data_=e,s=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(Wp(this.data_)){const s=this.data_,r=kR(s,e,n);return r===null?null:new ys(r)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ys(s,!0)}}static getBlob(...e){if(Dh()){const n=e.map(s=>s instanceof ys?s.data_:s);return new ys(CR.apply(null,n))}else{const n=e.map(o=>Oh(o)?Ly(vn.RAW,o).data:o.data_);let s=0;n.forEach(o=>{s+=o.byteLength});const r=new Uint8Array(s);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)r[i++]=o[a]}),new ys(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t){let e;try{e=JSON.parse(t)}catch{return null}return AR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function PR(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function jy(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e){return e}class jt{constructor(e,n,s,r){this.server=e,this.local=n||e,this.writable=!!s,this.xform=r||MR}}let la=null;function UR(t){return!Oh(t)||t.length<2?t:jy(t)}function qy(){if(la)return la;const t=[];t.push(new jt("bucket")),t.push(new jt("generation")),t.push(new jt("metageneration")),t.push(new jt("name","fullPath",!0));function e(i,o){return UR(o)}const n=new jt("name");n.xform=e,t.push(n);function s(i,o){return o!==void 0?Number(o):o}const r=new jt("size");return r.xform=s,t.push(r),t.push(new jt("timeCreated")),t.push(new jt("updated")),t.push(new jt("md5Hash",null,!0)),t.push(new jt("cacheControl",null,!0)),t.push(new jt("contentDisposition",null,!0)),t.push(new jt("contentEncoding",null,!0)),t.push(new jt("contentLanguage",null,!0)),t.push(new jt("contentType",null,!0)),t.push(new jt("metadata","customMetadata",!0)),la=t,la}function LR(t,e){function n(){const s=t.bucket,r=t.fullPath,i=new nn(s,r);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function BR(t,e,n){const s={};s.type="file";const r=n.length;for(let i=0;i<r;i++){const o=n[i];s[o.local]=o.xform(s,e[o.server])}return LR(s,t),s}function Hy(t,e,n){const s=$y(e);return s===null?null:BR(t,s,n)}function FR(t,e,n,s){const r=$y(e);if(r===null||!Oh(r.downloadTokens))return null;const i=r.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(l=>{const u=t.bucket,d=t.fullPath,f="/b/"+o(u)+"/o/"+o(d),p=Nh(f,n,s),m=Uy({alt:"media",token:l});return p+m})[0]}function VR(t,e){const n={},s=e.length;for(let r=0;r<s;r++){const i=e[r];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Ky{constructor(e,n,s,r){this.url=e,this.method=n,this.handler=s,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t){if(!t)throw xh()}function $R(t,e){function n(s,r){const i=Hy(t,r,e);return Jy(i!==null),i}return n}function jR(t,e){function n(s,r){const i=Hy(t,r,e);return Jy(i!==null),FR(i,r,t.host,t._protocol)}return n}function Qy(t){function e(n,s){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=nR():r=tR():n.getStatus()===402?r=eR(t.bucket):n.getStatus()===403?r=sR(t.path):r=s,r.status=n.getStatus(),r.serverResponse=s.serverResponse,r}return e}function qR(t){const e=Qy(t);function n(s,r){let i=e(s,r);return s.getStatus()===404&&(i=ZT(t.path)),i.serverResponse=r.serverResponse,i}return n}function HR(t,e,n){const s=e.fullServerUrl(),r=Nh(s,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Ky(r,i,jR(t,n),o);return a.errorHandler=qR(e),a}function KR(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function JR(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=KR(null,e)),s}function QR(t,e,n,s,r){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let I="";for(let E=0;E<2;E++)I=I+Math.random().toString().slice(2);return I}const c=a();o["Content-Type"]="multipart/related; boundary="+c;const l=JR(e,s,r),u=VR(l,n),d="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+l.contentType+`\r
\r
`,f=`\r
--`+c+"--",p=ys.getBlob(d,s,f);if(p===null)throw lR();const m={name:l.fullPath},A=Nh(i,t.host,t._protocol),y="POST",w=t.maxUploadRetryTime,T=new Ky(A,y,$R(t,n),w);return T.urlParams=m,T.headers=o,T.body=p.uploadData(),T.errorHandler=Qy(e),T}class WR{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=or.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=or.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=or.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,r){if(this.sent_)throw bi("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bi("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bi("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bi("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class GR extends WR{initXhr(){this.xhr_.responseType="text"}}function Wy(){return new GR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){this._service=e,n instanceof nn?this._location=n:this._location=nn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pr(e,n)}get root(){const e=new nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return jy(this._location.path)}get storage(){return this._service}get parent(){const e=NR(this._location.path);if(e===null)return null;const n=new nn(this._location.bucket,e);return new pr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw hR(e)}}function zR(t,e,n){t._throwIfRoot("uploadBytes");const s=QR(t.storage,t._location,qy(),new ys(e,!0),n);return t.storage.makeRequestWithTokens(s,Wy).then(r=>({metadata:r,ref:t}))}function YR(t,e,n=vn.RAW,s){t._throwIfRoot("uploadString");const r=Ly(n,e),i=Object.assign({},s);return i.contentType==null&&r.contentType!=null&&(i.contentType=r.contentType),zR(t,r.data,i)}function XR(t){t._throwIfRoot("getDownloadURL");const e=HR(t.storage,t._location,qy());return t.storage.makeRequestWithTokens(e,Wy).then(n=>{if(n===null)throw uR();return n})}function ZR(t,e){const n=PR(t._location.path,e),s=new nn(t._location.bucket,n);return new pr(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t){return/^[A-Za-z]+:\/\//.test(t)}function tx(t,e){return new pr(t,e)}function Gy(t,e){if(t instanceof Ph){const n=t;if(n._bucket==null)throw cR();const s=new pr(n,n._bucket);return e!=null?Gy(s,e):s}else return e!==void 0?ZR(t,e):t}function nx(t,e){if(e&&ex(e)){if(t instanceof Ph)return tx(t,e);throw Hu("To use ref(service, url), the first argument must be a Storage instance.")}else return Gy(t,e)}function zp(t,e){const n=e==null?void 0:e[Py];return n==null?null:nn.makeFromBucketSpec(n,t)}function sx(t,e,n,s={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=s;r&&(t._overrideAuthToken=typeof r=="string"?r:Og(r,t.app.options.projectId))}class Ph{constructor(e,n,s,r,i){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Ny,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YT,this._maxUploadRetryTime=XT,this._requests=new Set,r!=null?this._bucket=nn.makeFromBucketSpec(r,this._host):this._bucket=zp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nn.makeFromBucketSpec(this._url,e):this._bucket=zp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pr(this,e)}_makeRequest(e,n,s,r,i=!0){if(this._deleted)return new fR(My());{const o=IR(e,this._appId,s,r,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,r).getPromise()}}const Yp="@firebase/storage",Xp="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="storage";function rx(t,e,n,s){return t=je(t),YR(t,e,n,s)}function ix(t){return t=je(t),XR(t)}function Yy(t,e){return t=je(t),nx(t,e)}function ox(t=vd(),e){t=je(t);const s=Ec(t,zy).getImmediate({identifier:e}),r=Rg("storage");return r&&ax(s,...r),s}function ax(t,e,n,s={}){sx(t,e,n,s)}function cx(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Ph(n,s,r,e,ii)}function lx(){lr(new xs(zy,cx,"PUBLIC").setMultipleInstances(!0)),On(Yp,Xp,""),On(Yp,Xp,"esm2017")}lx();const ux={apiKey:"AIzaSyAl5gyZFJjjtUe8Bp-DMT3d94fEaOVVIVs",authDomain:"doble-5-test.firebaseapp.com",projectId:"doble-5-test",storageBucket:"doble-5-test.appspot.com",messagingSenderId:"581763837770",appId:"1:581763837770:web:af5606b0c26f6a62681bb3"},Mh=Pg(ux),he=hi(Mh),Ai=Rh(Mh),Xy=ox(Mh);async function dx(t,e,n="data_url"){return rx(Yy(Xy,t),e,n)}async function dl(t){return t==null?null:ix(Yy(Xy,t))}function hx(t,{email:e,nombre:n,apellido:s,nacimiento:r,genero:i,barrio:o,telefono:a,terminos:c}){const l=we(he,"users",t);return ty(l,{email:e,nombre:n,apellido:s,nacimiento:r,followers:[],following:[],genero:i,valoraciones:[],barrio:o,telefono:a,terminos:c})}async function fx(t,{displayName:e,nombre:n,apellido:s,email:r,nacimiento:i,followers:o,following:a,genero:c,barrio:l,telefono:u,photoURL:d}){return console.log("Valores recibidos en updateUser:",{displayName:e,nombre:n,apellido:s,email:r,nacimiento:i,followers:o,following:a,genero:c,barrio:l,telefono:u,photoURL:d}),$t(we(he,"users",t),{displayName:e,nombre:n,apellido:s,email:r,nacimiento:i,followers:o,following:a,genero:c,barrio:l,telefono:u,photoURL:d})}async function Bn(t){const e=we(he,"users",t),n=await It(e);if(!n.exists())throw new Error("[users.js getUserById] No existe el usuario con el id provisto");const s=n.data(),r=s!=null&&s.photoURL?await dl(s==null?void 0:s.photoURL):null;return{id:t,email:s.email,displayName:s.displayName,photoURL:r,nombre:s.nombre,apellido:s.apellido,nacimiento:s.nacimiento,genero:s.genero,valoraciones:s.valoraciones||[],barrio:s.barrio,telefono:s.telefono,followers:s.followers||[],following:s.following||[]}}async function px(t,e){try{const n=we(he,"users",t);await $t(n,{valoraciones:za(e)}),console.log("Valoración agregada con éxito")}catch(n){throw console.error("Error al agregar la valoración:",n),n}}async function mx(){const t=Vt(he,"users");return(await pi(t)).docs.map(s=>({id:s.id,...s.data()}))}let Cs={id:null,email:null,displayName:null,photoURL:null,nombre:null,apellido:null,nacimiento:null,genero:null,valoraciones:null,comentario:null,barrio:null,telefono:null,terminos:!1,followers:[],following:[]},Ea=[];localStorage.getItem("user")&&(Cs=JSON.parse(localStorage.getItem("user")));by(Ai,async t=>{t?(ji({id:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,nombre:t.nombre,apellido:t.apellido,nacimiento:t.nacimiento,genero:t.genero,valoraciones:t.valoraciones,barrio:t.barrio,telefono:t.telefono,followers:t.followers,following:t.following}),t.photoURL&&dl(t.photoURL).then(e=>{ji({photoURL:e})}),Bn(t.uid).then(e=>{ji({nombre:e.nombre,apellido:e.apellido,nacimiento:e.nacimiento,genero:e.genero,valoraciones:e.valoraciones,barrio:e.barrio,telefono:e.telefono,followers:e.followers,following:e.following})})):yx()});async function gx({email:t,password:e}){try{const s=(await Dk(Ai,t,e)).user;return console.log(s),{id:s.uid,email:s.email}}catch(n){throw console.log("[auth.js login()] Error al autenticar el usuario",n),n}}async function Ax({email:t,password:e,nombre:n,apellido:s,nacimiento:r,genero:i,valoraciones:o,barrio:a,telefono:c,terminos:l}){try{const d=(await Ok(Ai,t,e)).user;return await hx(d.uid,{email:d.email,nombre:n,apellido:s,nacimiento:r,genero:i,barrio:a,telefono:c,terminos:l,settings:{notifications:{chat:!0,comentario:!0,like:!0,seguir:!0}},email:d.email,nombre:n,apellido:s,nacimiento:r,genero:i,valoraciones:o,barrio:a,telefono:c,terminos:l}),{id:d.uid,email:d.email,nombre:n,apellido:s,nacimiento:r,genero:i,valoraciones:o,barrio:a,telefono:c,terminos:l}}catch(u){throw console.log("[auth.js register()] Error al registrar el usuario",u),u}}function vx(){return Lk(Ai)}async function Zy(t,{displayName:e,nombre:n,apellido:s,email:r,nacimiento:i,followers:o,following:a,valoraciones:c,genero:l,barrio:u,telefono:d,photoURL:f}){const p=[];let m=Cs.photoURL;return f&&(m=Cs.id+"/avatar.jpg",p.push(dx(m,f))),p.push(Pk(Ai.currentUser,{displayName:e,nombre:n,apellido:s,email:r,nacimiento:i,followers:o,following:a,valoraciones:c,genero:l,barrio:u,telefono:d,photoURL:m})),p.push(fx(t,{displayName:e,nombre:n,apellido:s,email:r,nacimiento:i,followers:o,following:a,valoraciones:c,genero:l,barrio:u,telefono:d,photoURL:m})),Promise.all(p).then(()=>{ji({displayName:e,nombre:n,apellido:s,email:r,nacimiento:i,followers:o,following:a,valoraciones:c,genero:l,barrio:u,telefono:d,photoURL:m}),f&&dl(m).then(A=>ji({photoURL:A}))})}function ji(t){Cs={...Cs,...t},localStorage.setItem("user",JSON.stringify(Cs)),t_()}function yx(){Cs={id:null,email:null,displayName:null,nombre:null,apellido:null,nacimiento:null,genero:null,valoraciones:null,barrio:null,telefono:null,followers:[],following:[]},localStorage.removeItem("user"),t_()}function e_(t){return Ea.push(t),n_(t),()=>Ea=Ea.filter(e=>e!==t)}function t_(){Ea.forEach(t=>n_(t))}function n_(t){t({...Cs})}async function _x(t){try{await xk(Ai,t),console.log("Correo de restablecimiento enviado")}catch(e){return console.error("Error enviando el correo:",e.message),{success:!1,error:e.message}}}function ht(){const t=M({id:null,email:null,displayName:null,photoURL:null,nombre:null,apellido:null,nacimiento:null,genero:null,nivel:null,barrio:null,telefono:null,followers:null,following:null});let e=()=>{};return et(()=>{e=e_(n=>t.value=n)}),Un(()=>{e()}),{user:t}}const mo=M({message:"",type:"",title:"",closable:!0});function wx({message:t,type:e="success",title:n=""}){mo.value={...mo.value,message:t,type:e,title:n},setTimeout(()=>{s_()},5e3)}function s_(){mo.value={...mo.value,message:"",type:"",title:""}}function bx(){return{feedback:mo,setFeedbackMessage:wx,clearFeedbackMessage:s_}}let hl;const qo=M({title:"",bodyText:"",closeButtonText:"",saveButtonText:"",isVisible:!1});function Ex(t){return qo.value={...t,isVisible:!0},new Promise((e,n)=>{hl=e})}function Ix(){qo.value.isVisible=!1,hl(!1)}function Sx(){qo.value.isVisible=!1,hl("closex")}function Cx(){qo.value.isVisible=!1,hl(!0)}function kx(){return{modalData:qo,showModal:Ex,handleModalClose:Ix,handleModalCloseX:Sx,handleModalSave:Cx}}const pe=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},Tx={class:"d-flex justify-content-between align-items-center"},Rx={class:"text-white"},xx={__name:"Notification",props:{data:{type:Object,required:!0,closable:!0}},emits:["close"],setup(t){const e=t,n=ae(()=>{switch(e.data.type){case"success":return"background-noti";case"error":return"bg-danger";default:return"bg-primary"}});return(s,r)=>t.data.message!==""?(S(),k("div",{key:0,class:Le(["p-3 m-3 rounded",v(n)]),style:{"box-shadow":"0px 5px 10px rgba(0, 0, 0, 0.1)"}},[h("div",Tx,[h("div",Rx,F(t.data.message),1),t.data.closable?(S(),k("button",{key:0,type:"button",class:"px-3 btn text-white",onClick:r[0]||(r[0]=i=>s.$emit("close"))},"×")):Me("",!0)])],2)):Me("",!0)}},Ox=pe(xx,[["__scopeId","data-v-25b9a76b"]]),Dx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAACXBIWXMAABcRAAAXEQHKJvM/AAACQElEQVR4nO3d0U0CQRRA0afxXzoQOrADtQM7EDvQCtQOpAPpwBKwA+0AO8AKMENmdIP44Yfuu+49ycbEaJS5gcyGfezeer0O5bZvn/yMBGAkACMBGAnASABGAjASgJEAjARgJAAjARgJwEgARgIwEoCRAA6++RfHEXEeEaM/eginmBX7XcvO8RgRq/LXtt8+L3FuI+Li/z1+nLeIuIqIhxZpVL9xM/SVSeisRSpPq8Ohr0ZS87ZxMFBeY3d3AC3S29AXIrFli1R2dXfGSulhewtednn3bsHTuNwVqSmxpj88mT3+w5Pf/+w5Pk9my9cvJ7NKyN0dgJEAjARgJAAjARgJwEgARgIwEoCRAIwEYCQAIwEYCcBIAEYCMBKAkQCMBGAkACMB7Io0rtfelcuJ1h69HM91ymWje0mX4y/5vJQBuxZpWp89Tlfkc90ieYVkXk9uHACMBNAiOfaS1+P27s6xl1xey7RK9+VuVXd5k4iY1R9QP8qr2ryOE61+Mvoyqr+k39U+cOOD80kA7u4AjARgJAAjARgJwEgARgIwEoCRAIwEYCQAIwEYCcBIAEYCMBKAkQCMBGAkACMBfHdrnqi3y/GWOf1Y1GNj19VCt3UExgmLfr3W6yAX3UjTGuhooIuS1aRFKk+tk6GvRlJz55Pycz6JwEj5rVqk2dBXIrH7FumqDpIpl9n2Fjw695c99TY7vVrUW/OUz3Nw9IXAjQOAkQCMBGAkACMBGAnASABGAjASgJEAjARgJAAjZRcR7ycO0On7Cw9lAAAAAElFTkSuQmCC",Nx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAACXBIWXMAABcRAAAXEQHKJvM/AAAFZ0lEQVR4nO2d7XHaQBBAN5n8R6nApAJIBcYVhFRguYI4HZAKQiowrsC4gsgVBHWAO4AKlBHe8wgQ0u7pTtqT9s1o/AfJoKfT7X3tfciyDBTZfFQ/8lFJAaCSAkAlBcAnD18xAoBpCz99jAeHHQBsPH+vLR7OaCopFzIHgBmKmbj8coGT4gORAMAaHxArbEPwXEoMALdDN8HgGQBWKIwFV1JeWpYAcN3hjw2dV3zAE+rv4AQOCwD4p4IacwUAf7FERZSLUUpShBdUOe7ZY9VRGczUlaQIi6UK8sMI7++86upVJckI0oitHb5eKlFVJWmtgloludS+vNROWjR4xaXYmPPdaJSIaWDb3LsRhuhnosped1OM4ji8FNoA1o22njHHg9uW/IWF5J0ySZxAgR3zD5AxPsCc0vWl2LV0WifFjIulWOpUUDVbDLMfGedUlqQtNrbqSPEf66uNx4rx+vts7m+xJM2JgvYqyJoY+/AoxOYzRUn3xJOXKqgRS+LJZ5Jsw0bFHxPTt2ckVXZLnNDGgF6f4QxU5tWKlSRSz61yEY6kKVjOcbguvi8VFlNG3d9IUs6DimJj2pQjxolHdZINKoqOjSAwr8amU7pUVD0RNmK5gsC0W13Mu1tqxHcRJ2NyLiSNqsZCBoyzQVNXM1hV1DFOR7VdTjNWUW84n3bgei740EV5mRfiY8L+UEV5m7jDkcQZtBqaKBtBKfWDHEl5rH/H+PxQRNkIejSdpxS4rzsVdYytoJgzJmdTJ6moN5oIYmEbOAxdVGuCoGF0N1RRrQoCByH40ES1LggctZOGIqoTQeCwMdt3UZ0JAsc9Dn0V1akg8NAt1DdRnQsCT313fRElQhB4zIgSuigxgsBz2ppQRYkSBC3kFgpNlDhB0FICqFBEiRQELWbpki5KrCBoOZWaVFGiBUEH+e6kiRIvCDpKSihFVBCCoMPMkbaiOEt0qghGEHSc3tNG1JODGzXFRCBBCAIBOVi5ogAXCVDXnZ4yxxJEWcBt6FQQCEmUayPqB6YzoN68Gcp5Yq5u6FwQeEqUa8MKz3lgnHtVKFVrlHCaoHaGpcdmwqIIQSBIEliKAiwZt47zwYoRBALzgtu8+lwjShAITd6+wgR9+w7+90+JKxelZtjfYKhMni/dkPyBuGkQNXpF8jYIWxT1x/P/ecEFxGKzjYWwV8U9vv5eHF93j/Wf+GRWoWwossGbeYeJEJuwx+yM40JEKZrQdn1Z4c29wSiME1w8o+QIk/4Fk2lMUjuJQ1KoQ6ZYysxuMyb3UVL4G3R2y1AlFdn0PXOybnIVACopAFRSAKikAFBJAaCSAkAlBYBKCgCVFAAcSeQ0K4pbtCTJ5jA8o5K6g5zEXSV1B2Vu+2GKmpFEGVvROsktlHntB0lmk6sZ7iJcx2fdlscZO8Js2nxwMzElKSHOzOHss6BcJiZOdz4MVhbrJMp0pnvmriXKORHxXr/vWFaUtCbMGRhxNlZXSqFuifA+SaYoaYcC6phgMVRRfPIb/41w1mvRxWkIvjj/fCkTYRlMpBPhTacuKjieapZHdyfHIuOxyrJsXHIdPd6OOMuyHeOObk/vW9mOzRHOvuGshgOs6NZDmL1TwxjfMGZbbe6WPN9Pq50yScBoN7kiFdz+anPX0NJlN5ckAYbbv71/LcWQXqrjq/rulsytDxR70qput7oO1lhFead2H3lKL3gsYIlkX3mkLL2hDlWYJZJtrbzrO68YxZH2rOCMJ5klki7WCA0VszZqSuzdOVAV3dUxxyeB0s0xdEwb0mrRWhNJRWZ4jPGIfOzIFQCmvbfDN0+Cfxu1AV1JUjyicxwCQCUFgEoKAJUkHQD4Dz7PnMAwVrOgAAAAAElFTkSuQmCC",Px="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHcAAAB1CAYAAAB08X6BAAAACXBIWXMAAAsSAAALEgHS3X78AAAEGElEQVR4nO3dMW/TQADF8VcECBZaWWJhaSVmRMXK0MAHgG4eSUe2Dt7JxOQBJkbSBclbgA9AkGBiCWJGFCoxgOQSpAqkDmHIIVHnktjxXX15vN/oOvZJf93ZTl1YGY1GEE5nmh6A+HPW9QGTLNoEsOb6uOQGaZz/cH3QlbrLsonZBtACcL3+kP5bQwB9AD0APRexF46bZFEbQAfAet1BiNUegE4a5/uLHqBy3CSLtgE8gqKelscYR648k0vHTbJoDUAXwN2qJ5HahgC20zjvV/lQqbvlJIs2ML4eKGwzVgG8MpfC0ubOXHPD1DcnkObtpHHeLbPjzLhmKR5A19fQlAo8b1nuQ2FD9NSsqDNNjZtkUQd6bg1Zz6ysU1njmhuoBz5GJM6sA9idtcO0mdtxPhTx4YGZiFYTcc3O9zwOSNyaOnttM3fmVJfgtKf9wBZ32984xINV85XwhBNxzZKsR5/l07JtLM5c604SPOszbzHuhv9xiAdbto3FuHO/9ZDlUYyr12OWVJJFreI2vSBHTHGJKS4xxSWmuMQUl5jiElNcYopLTHGJKS4xxSXm/O9zQ5LG+cS2JIsaGEkzNHOJKS4xxSWmuMQUl5jiElNcYopLTHGJKS4xxSWmuMQUl5jiElNcYopLTHGJKS4xxSWmuMQUl1gwbz9eWbuGuzceej/P/dsvJ7YdHn1BfvSl1nEPjw7w7tOzWsdwLZi4F8+v4urlm97PYz2Hg/N+/P42uLjBLMvHv5f7fyYLcfzBxD13YaXpIdQS4viDiSvuBXPN/Xr4AU9e3XF6zPu3Xkxss53jyto1XDx/qda5Do8Oan3eh2Di/joe4uO3N97PYzvHaZy3CVqWiSkuMcUlprjEFJeY4hJTXGKKS0xxiSkuMcUlprjEFJeY4hJTXGKKS0xxiSkuMcUlFsw7VD78fRnu+PcoyFdPfaOOe+LFt5/NjaMpWpaJKS4xxSWmuMQUl5jiElNcYopLTHGJKS4xxSWmuDwGxQ3FuP3TGYe4lsb5j+K2YtyJHWQpvLdt1MzlMLEkA4W4aZwPAAxPZTjiUt+20XZD1fM7DvHA2swWt+t3HOLYnu1mCrDETeO8D+C17xGJM91pP5j2nNvxMgxx7bWZjFbWuOYDzz0NSNwYAmjP2mHWN1Rt6M45ZJ00zvdn7TA1rrlItxwPSNzYS+P80bydZn63bJ57d5wNSVx4n8Z5u8yOc39xkMZ5FwociueosJqujEbl/vn2JIs2MX5YXl9oWFLX4zTOd6t8oPSv/MwSvQlgr+qopJbPAG5VDQtUmLn/SrKohfGz8FblD0tZnwF00zjvLHqAheL+lWTRBoBdANvQcu3CEONfAvTMvU4tteL+y4TegB6fFrEPYGAufc44iyvh0TtUxBSX2B9m1PFcnH6yvAAAAABJRU5ErkJggg==",Mx="data:image/png;base64,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",Ux="data:image/png;base64,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",r_="data:image/png;base64,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",i_="data:image/png;base64,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",o_="data:image/png;base64,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",a_="data:image/png;base64,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",Lx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAACXBIWXMAABcRAAAXEQHKJvM/AAAFy0lEQVR4nO2d3XHcNhDHN5m8X1KB1UHkGbxHHeRSge0KcqnAlwosV6BzBZE7uHvHTKQKouvArEAZnP+kcB8Ud0GQAMj9zXj0YolH/g7ELj4WPzw/P5OSNz+qn/xRSQWgkgrgpxQf0RhzU9qDAk/W2qexL9o7cDDGLInomojcg78iojfRPl2Z7J1MItoS0YP7aa391udOgiShJbwnoneTerzD8ZWINtba+5AriCRBzpqIfkt+22XiWtnaWruRfHqWJGPMz+6bQES/z+qRDseOiFbW2gfOFTolGWNcf3OvfU10KojqbFWvhuAQtFVBg7AgojtjzLrrj7e2JE/QooQ7LpzP1tpV2y1clGSMuUL4qILG40Pbq69NkhP0a+DHqyB4jvTNE99eCibORhzwjpQK2iH6u++buE0BJPjLgDxyg4GBI45aEl5z/wn+6A5x/3YGz14MnudaKOtva+1RMHEq6V6QC73a2SkvGGPc6Mwts4933cWV/0ZqQnCMJnAF/aWC+CAg4A4qLzDk1uDnSe8v/84ZX6y1twPf1+RAQPCBeV9HDeDwuhP2Rb9ocBCOIHJuIr26JXFbkdIf7he8eT2GSDoLERUR3BmE5akkHZvLj6YxhKxx0FdjIAjFuSwwRRQk6Z0xRjRppTSC7oSP4tCaQlcLqSgBgYIa+izpUlEM+gqiCOvuVNQrxBBEkRZHqqgLxBJEEVewqiiPmIIo8jJjFTWAIBpgLfisRQ0gKDhP6mKWooZoQdI86RH/uMxKVICgCqtZWXAlfcOorIo6IVDQDZbLsWC/7jCHpKI8MJstFoR5IvYWGlGfpKJe8JZfc/EFiRAHDioqaHVvsCAKje7mLGpsQdQnBJ+jqBSCqG+eNCdRqQRRjGR2DqJSCqJYIw5TFpVaEMUcFpqiqBwEUeyxuymJykUQDTHAOgVROQmiocrWlCwqN0E0ZG2hEkVhsPTfnATR0AWgPFGV4NeSiAodzR5aEI1RpasEUTkLorFKqeFmshQVOKPKrmYSg9Hq3eUoKlBQ61b+oRi1KGFOokoRRCkqR+YgqiRBlKq8Z0pRpQmilDVYe4h6wB5fEW6vDyQXJYhSF8oNFOU2BTtR63qTVRdoPQ8BFUqSC6JUhXJ9nCisupEMxbj/99GFwigQcqh3WofFaGlX2He6DNxumoUgykESHYvaCOsaLdA6Di3EGBPrI2UjiHKqC+69+iRjfbGpUD8hq6mTrIq3e0NIuwSX34851CMhuwr7TpS11on6POJl3ZfiOkdBlPMxCCgw9Ycw8gvBlS67ybkUT9ZnVaDYuYvSvgzw53fofzoL1aYm+wNF8Ppzec7bSH3VHtFblv3PJbIIwTnU0R9yoJUw/6mwuH5TYpXLYiTV4NSVFRJZ/yCT08JUT/XBHqWXHy1Okg9a1+QrJ+shVwWgkgpAJRWASsqbQ4KtkvLmqFBuF+KZUCUeXElaozUh+rorAJVUACqpAFRSAaikdLCPFmdL4q5xU9hw0hpRnkR6RkU8MCfWldZU9ZR+LYkzPa3HH8SD8yybObBaEufQqqW+8vqDZyiXhMmzrnKTCxwiqPRjxRzBaWrp+X0SZ9Xmn8KTSxQPTPd/ZDyTRywTOJN0y1zjdqei5Hj1ITgcdT+NJEQS3AMVnSg9HZMJDgfm7hrZn65FPw3Bua3J8QkbuthJ2dxwoTY2rv0j2NZz1u+fnX2OFvJJ+Dwf0adtS1lwOBTIgW6wLpB7bm/NDuvgj2g7oH4rOCDwEntJSeWJ0Pdw+gqbBs6eW9u6uyWGJEIv+kYnCsWsLgmitmEhBBHLEXY0KN95dWdh69hd4KZjRU7n1s+LfZIPhjG2wr2sSjfuy7/krFPvlFTjtuQzs2Wlm69u/I67cY0tiV7Cy3VAPQTlO25/1Vq6y0MkqSZwj9BcqfdG3YbmkEGSfLw9QtfIFfrmCyVTIXV5ws8oyX1vScrw6EKUAlBJBaCSCkAlFYBKyh0i+h9+E9XBbg4xYwAAAABJRU5ErkJggg==",Bx="data:image/png;base64,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",Fx="data:image/png;base64,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",Vx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAACXBIWXMAABcRAAAXEQHKJvM/AAAExUlEQVR4nO2d7VEbMRCGl0z+kw5wKkgys/8hFcRUgF1BnApCKgipAOiAVBDzf2cCHUAHcQXOyLM2/jif7k4rnYzeZ4ZhYOCQ/aCvlbQ6ms/nBPLmrUXpmHlARAP98kFE/sG7Ha1rEjN/JKIREbnPpxHK9OxEE9GUiG4gvIUkZnZiLonoJHqpXpgR0UREbhL+zezwSmLmM/cfnVjONuOSRdVK0tpznbRE+3kvIk+ZlCUpb/b9scwEkfaDRVIpKUNBjrMMytALO5J0OH1Vxss/DKpqkuugjzMsfbFD8Q1JzDyMNPexYJppuaKzXZMuMy3nTGt4kawk6XzoQ6ZvwqjkyMN6Tcpx9PRIRJ9E5C6DsvSGSYBVm6OHiu9X9W8uNueblLr+505Eqp5ZHBaSig7ZpGBvxKEhtxAUn1BJRcbSUgNJB0CopEGDnwGBWI3uikFXpt+l3CYASQ1gZidloh+ruCYz3+vKcdSpQmhz9+pRQW7e9r0i8OzmgX91aScakFTDmiBfuOw6pihIqmfSIp4ZTRQk1dP2TY8iCpLq6bJDyokyXdmGpDh8ZWazcBkkxePCShQk1fM78PdNREFSPRZ9S7AoSKpBRNwc6ZfBo4JEQZIHEXFzpVuDR3UWBUkNEJFRn6IgqSF9ioKkFvQlCpJa0ocoSOqAsShvrA+SOmIoyhuUhaQAjEXt3UEMSYEYirrT/RM7QJIBRqLc0vxUV4M3gCQjDEXtHE6AJEOMRJ0y88Y5MUiyZ6JHdkKYrDd7kGSMbpgc6nGgrhyr7AVJN0du5SUi/ZzjIeocWKYJSiNJ5VxlfGg6R07c3MmtaUVv7jQvxBSCOrGY4Kboky7RpHVm0S1ElaQjlIuoL+N1sxjhxa5JlWEO0O79wxA8bxbdBCTljUunEF0S8jCEsTiTHFWSzr7v47+WV0t8ScokMERSMouWKLokPU96tmxfQSumSSQtRYmIizycaygfTaCf5+WB6aQBVs22VUTGLWZ2r/NLwCNW270wBI+A7v4JETRbP9EBScYYZYK+Wk/kAUmGGAl63j4XBUlGGOZS30llCkkGGAoa68G1DSApEE0HYCFob4JHJIAKQE9FWKyX3ep2sEpQkzqSShBBUjdSCiJIak9qQQRJ7TAU9Li++dEHJDXEWNBZm9SgkNSAPgURJPlh5kmfggiS6tHdtz8NHtVZEEGSF4v7pIIEESR5Cb2uKFgQISzkJeQC5MbzIB+oSXEwE0SQ5KVL5khTQQRJXtpumjEXRJBUj67vNK1NUQQRJDVi1GCf4K9YggiS/Ljhs4i4ofi44ui/q2WfNQVoNEKH4MXc/apNXy/3F4bWJBxtSUCopJ1kRcCeUEk4E5sAXLx4AIRKuqjLeAhssAiw/mHmR+OR3lRvnyz6YvolVlHwpleqNWWR4oaZ3eb1YekX1a83dzt7kDPALRVM9+UmLYWVJN0onuO51sqUlyWxPXCwWC6OgUsrNoSkl9BHroeOix1FVg3BR5nmXSi2X9qRJCJPbbbAgvhUTma12Rtn9v7nOPpMwt6IQ4aielkmyIHasJCKOs+gj/qmzXCReGN3GpoZGF2a0YUfImJ6TfWhcTSfzxsXWYOpo0R5VWd6XL74+F0rSaAfsBEld4joP9tBqM6eBfHaAAAAAElFTkSuQmCC",c_="/assets/logo-original-7cf59a76.png",$x="data:image/png;base64,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";const jx={class:"image-wrapper"},qx=["src","alt"],Hx={__name:"Image",props:{src:{required:!0},alt:{type:String,default:""}},setup(t){const e=t,n=ae(()=>e.src!==null&&e.src!==""?e.src:$x);return(s,r)=>(S(),k("div",jx,[h("img",{class:"foto-perfil",src:v(n),alt:t.alt},null,8,qx)]))}},sn=pe(Hx,[["__scopeId","data-v-a57ced4c"]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Rr=typeof window<"u";function Kx(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ne=Object.assign;function Wl(t,e){const n={};for(const s in e){const r=e[s];n[s]=bn(r)?r.map(t):t(r)}return n}const qi=()=>{},bn=Array.isArray,Jx=/\/$/,Qx=t=>t.replace(Jx,"");function Gl(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=Yx(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function Wx(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Zp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Gx(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&Zr(e.matched[s],n.matched[r])&&l_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Zr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function l_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!zx(t[n],e[n]))return!1;return!0}function zx(t,e){return bn(t)?em(t,e):bn(e)?em(e,t):t===e}function em(t,e){return bn(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function Yx(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let r=n.length-1,i,o;for(i=0;i<s.length;i++)if(o=s[i],o!==".")if(o==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var go;(function(t){t.pop="pop",t.push="push"})(go||(go={}));var Hi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Hi||(Hi={}));function Xx(t){if(!t)if(Rr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Qx(t)}const Zx=/^[^#]+#/;function eO(t,e){return t.replace(Zx,"#")+e}function tO(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const fl=()=>({left:window.pageXOffset,top:window.pageYOffset});function nO(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=tO(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function tm(t,e){return(history.state?history.state.position-e:-1)+t}const Ku=new Map;function sO(t,e){Ku.set(t,e)}function rO(t){const e=Ku.get(t);return Ku.delete(t),e}let iO=()=>location.protocol+"//"+location.host;function u_(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),Zp(c,"")}return Zp(n,t)+s+r}function oO(t,e,n,s){let r=[],i=[],o=null;const a=({state:f})=>{const p=u_(t,location),m=n.value,A=e.value;let y=0;if(f){if(n.value=p,e.value=f,o&&o===m){o=null;return}y=A?f.position-A.position:0}else s(p);r.forEach(w=>{w(n.value,m,{delta:y,type:go.pop,direction:y?y>0?Hi.forward:Hi.back:Hi.unknown})})};function c(){o=n.value}function l(f){r.push(f);const p=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return i.push(p),p}function u(){const{history:f}=window;f.state&&f.replaceState(Ne({},f.state,{scroll:fl()}),"")}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:l,destroy:d}}function nm(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?fl():null}}function aO(t){const{history:e,location:n}=window,s={value:u_(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const d=t.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+c:iO()+t+c;try{e[u?"replaceState":"pushState"](l,"",f),r.value=l}catch(p){console.error(p),n[u?"replace":"assign"](f)}}function o(c,l){const u=Ne({},e.state,nm(r.value.back,c,r.value.forward,!0),l,{position:r.value.position});i(c,u,!0),s.value=c}function a(c,l){const u=Ne({},r.value,e.state,{forward:c,scroll:fl()});i(u.current,u,!0);const d=Ne({},nm(s.value,c,null),{position:u.position+1},l);i(c,d,!1),s.value=c}return{location:s,state:r,push:a,replace:o}}function cO(t){t=Xx(t);const e=aO(t),n=oO(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=Ne({location:"",base:t,go:s,createHref:eO.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function lO(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),cO(t)}function uO(t){return typeof t=="string"||t&&typeof t=="object"}function d_(t){return typeof t=="string"||typeof t=="symbol"}const ls={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},h_=Symbol("");var sm;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(sm||(sm={}));function ei(t,e){return Ne(new Error,{type:t,[h_]:!0},e)}function jn(t,e){return t instanceof Error&&h_ in t&&(e==null||!!(t.type&e))}const rm="[^/]+?",dO={sensitive:!1,strict:!1,start:!0,end:!0},hO=/[.+*?^${}()[\]/\\]/g;function fO(t,e){const n=Ne({},dO,e),s=[];let r=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(r+="/");for(let d=0;d<l.length;d++){const f=l[d];let p=40+(n.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(hO,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:A,optional:y,regexp:w}=f;i.push({name:m,repeatable:A,optional:y});const T=w||rm;if(T!==rm){p+=10;try{new RegExp(`(${T})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${m}" (${T}): `+E.message)}}let I=A?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;d||(I=y&&l.length<2?`(?:/${I})`:"/"+I),y&&(I+="?"),r+=I,p+=20,y&&(p+=-8),A&&(p+=-20),T===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const l=s.length-1;s[l][s[l].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(l){const u=l.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",m=i[f-1];d[m.name]=p&&m.repeatable?p.split("/"):p}return d}function c(l){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:m,repeatable:A,optional:y}=p,w=m in l?l[m]:"";if(bn(w)&&!A)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const T=bn(w)?w.join("/"):w;if(!T)if(y)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);u+=T}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:c}}function pO(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function mO(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=pO(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(im(s))return 1;if(im(r))return-1}return r.length-s.length}function im(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const gO={type:0,value:""},AO=/[a-zA-Z0-9_]/;function vO(t){if(!t)return[[]];if(t==="/")return[[gO]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${l}": ${p}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,l="",u="";function d(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(l&&d(),o()):c===":"?(d(),n=1):f();break;case 4:f(),n=s;break;case 1:c==="("?n=2:AO.test(c)?f():(d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),d(),o(),r}function yO(t,e,n){const s=fO(vO(t.path),n),r=Ne(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function _O(t,e){const n=[],s=new Map;e=cm({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,d,f){const p=!f,m=wO(u);m.aliasOf=f&&f.record;const A=cm(e,u),y=[m];if("alias"in u){const I=typeof u.alias=="string"?[u.alias]:u.alias;for(const E of I)y.push(Ne({},m,{components:f?f.record.components:m.components,path:E,aliasOf:f?f.record:m}))}let w,T;for(const I of y){const{path:E}=I;if(d&&E[0]!=="/"){const O=d.record.path,G=O[O.length-1]==="/"?"":"/";I.path=d.record.path+(E&&G+E)}if(w=yO(I,d,A),f?f.alias.push(w):(T=T||w,T!==w&&T.alias.push(w),p&&u.name&&!am(w)&&o(u.name)),m.children){const O=m.children;for(let G=0;G<O.length;G++)i(O[G],w,f&&f.children[G])}f=f||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&c(w)}return T?()=>{o(T)}:qi}function o(u){if(d_(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let d=0;for(;d<n.length&&mO(u,n[d])>=0&&(u.record.path!==n[d].record.path||!f_(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!am(u)&&s.set(u.record.name,u)}function l(u,d){let f,p={},m,A;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw ei(1,{location:u});A=f.record.name,p=Ne(om(d.params,f.keys.filter(T=>!T.optional).map(T=>T.name)),u.params&&om(u.params,f.keys.map(T=>T.name))),m=f.stringify(p)}else if("path"in u)m=u.path,f=n.find(T=>T.re.test(m)),f&&(p=f.parse(m),A=f.record.name);else{if(f=d.name?s.get(d.name):n.find(T=>T.re.test(d.path)),!f)throw ei(1,{location:u,currentLocation:d});A=f.record.name,p=Ne({},d.params,u.params),m=f.stringify(p)}const y=[];let w=f;for(;w;)y.unshift(w.record),w=w.parent;return{name:A,path:m,params:p,matched:y,meta:EO(y)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function om(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function wO(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:bO(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function bO(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function am(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function EO(t){return t.reduce((e,n)=>Ne(e,n.meta),{})}function cm(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function f_(t,e){return e.children.some(n=>n===t||f_(t,n))}const p_=/#/g,IO=/&/g,SO=/\//g,CO=/=/g,kO=/\?/g,m_=/\+/g,TO=/%5B/g,RO=/%5D/g,g_=/%5E/g,xO=/%60/g,A_=/%7B/g,OO=/%7C/g,v_=/%7D/g,DO=/%20/g;function Uh(t){return encodeURI(""+t).replace(OO,"|").replace(TO,"[").replace(RO,"]")}function NO(t){return Uh(t).replace(A_,"{").replace(v_,"}").replace(g_,"^")}function Ju(t){return Uh(t).replace(m_,"%2B").replace(DO,"+").replace(p_,"%23").replace(IO,"%26").replace(xO,"`").replace(A_,"{").replace(v_,"}").replace(g_,"^")}function PO(t){return Ju(t).replace(CO,"%3D")}function MO(t){return Uh(t).replace(p_,"%23").replace(kO,"%3F")}function UO(t){return t==null?"":MO(t).replace(SO,"%2F")}function tc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function LO(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(m_," "),o=i.indexOf("="),a=tc(o<0?i:i.slice(0,o)),c=o<0?null:tc(i.slice(o+1));if(a in e){let l=e[a];bn(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function lm(t){let e="";for(let n in t){const s=t[n];if(n=PO(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(bn(s)?s.map(i=>i&&Ju(i)):[s&&Ju(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function BO(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=bn(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const FO=Symbol(""),um=Symbol(""),pl=Symbol(""),Lh=Symbol(""),Qu=Symbol("");function Ei(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function hs(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const c=d=>{d===!1?a(ei(4,{from:n,to:e})):d instanceof Error?a(d):uO(d)?a(ei(2,{from:e,to:d})):(i&&s.enterCallbacks[r]===i&&typeof d=="function"&&i.push(d),o())},l=t.call(s&&s.instances[r],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(d=>a(d))})}function zl(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(VO(a)){const l=(a.__vccOpts||a)[e];l&&r.push(hs(l,n,s,i,o))}else{let c=a();r.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=Kx(l)?l.default:l;i.components[o]=u;const f=(u.__vccOpts||u)[e];return f&&hs(f,n,s,i,o)()}))}}return r}function VO(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function dm(t){const e=Ge(pl),n=Ge(Lh),s=ae(()=>e.resolve(v(t.to))),r=ae(()=>{const{matched:c}=s.value,{length:l}=c,u=c[l-1],d=n.matched;if(!u||!d.length)return-1;const f=d.findIndex(Zr.bind(null,u));if(f>-1)return f;const p=hm(c[l-2]);return l>1&&hm(u)===p&&d[d.length-1].path!==p?d.findIndex(Zr.bind(null,c[l-2])):f}),i=ae(()=>r.value>-1&&qO(n.params,s.value.params)),o=ae(()=>r.value>-1&&r.value===n.matched.length-1&&l_(n.params,s.value.params));function a(c={}){return jO(c)?e[v(t.replace)?"replace":"push"](v(t.to)).catch(qi):Promise.resolve()}return{route:s,href:ae(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const $O=og({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:dm,setup(t,{slots:e}){const n=Ps(dm(t)),{options:s}=Ge(pl),r=ae(()=>({[fm(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[fm(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:Eg("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),y_=$O;function jO(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function qO(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!bn(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function hm(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const fm=(t,e,n)=>t??e??n,HO=og({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Ge(Qu),r=ae(()=>t.route||s.value),i=Ge(um,0),o=ae(()=>{let l=v(i);const{matched:u}=r.value;let d;for(;(d=u[l])&&!d.components;)l++;return l}),a=ae(()=>r.value.matched[o.value]);bs(um,ae(()=>o.value+1)),bs(FO,a),bs(Qu,r);const c=M();return Ye(()=>[c.value,a.value,t.name],([l,u,d],[f,p,m])=>{u&&(u.instances[d]=l,p&&p!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),l&&u&&(!p||!Zr(u,p)||!f)&&(u.enterCallbacks[d]||[]).forEach(A=>A(l))},{flush:"post"}),()=>{const l=r.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return pm(n.default,{Component:f,route:l});const p=d.props[u],m=p?p===!0?l.params:typeof p=="function"?p(l):p:null,y=Eg(f,Ne({},m,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(d.instances[u]=null)},ref:c}));return pm(n.default,{Component:y,route:l})||y}}});function pm(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const KO=HO;function JO(t){const e=_O(t.routes,t),n=t.parseQuery||LO,s=t.stringifyQuery||lm,r=t.history,i=Ei(),o=Ei(),a=Ei(),c=Nw(ls);let l=ls;Rr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Wl.bind(null,D=>""+D),d=Wl.bind(null,UO),f=Wl.bind(null,tc);function p(D,K){let j,X;return d_(D)?(j=e.getRecordMatcher(D),X=K):X=D,e.addRoute(X,j)}function m(D){const K=e.getRecordMatcher(D);K&&e.removeRoute(K)}function A(){return e.getRoutes().map(D=>D.record)}function y(D){return!!e.getRecordMatcher(D)}function w(D,K){if(K=Ne({},K||c.value),typeof D=="string"){const g=Gl(n,D,K.path),_=e.resolve({path:g.path},K),C=r.createHref(g.fullPath);return Ne(g,_,{params:f(_.params),hash:tc(g.hash),redirectedFrom:void 0,href:C})}let j;if("path"in D)j=Ne({},D,{path:Gl(n,D.path,K.path).path});else{const g=Ne({},D.params);for(const _ in g)g[_]==null&&delete g[_];j=Ne({},D,{params:d(D.params)}),K.params=d(K.params)}const X=e.resolve(j,K),Ee=D.hash||"";X.params=u(f(X.params));const We=Wx(s,Ne({},D,{hash:NO(Ee),path:X.path})),Ae=r.createHref(We);return Ne({fullPath:We,hash:Ee,query:s===lm?BO(D.query):D.query||{}},X,{redirectedFrom:void 0,href:Ae})}function T(D){return typeof D=="string"?Gl(n,D,c.value.path):Ne({},D)}function I(D,K){if(l!==D)return ei(8,{from:K,to:D})}function E(D){return Y(D)}function O(D){return E(Ne(T(D),{replace:!0}))}function G(D){const K=D.matched[D.matched.length-1];if(K&&K.redirect){const{redirect:j}=K;let X=typeof j=="function"?j(D):j;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=T(X):{path:X},X.params={}),Ne({query:D.query,hash:D.hash,params:"path"in X?{}:D.params},X)}}function Y(D,K){const j=l=w(D),X=c.value,Ee=D.state,We=D.force,Ae=D.replace===!0,g=G(j);if(g)return Y(Ne(T(g),{state:typeof g=="object"?Ne({},Ee,g.state):Ee,force:We,replace:Ae}),K||j);const _=j;_.redirectedFrom=K;let C;return!We&&Gx(s,X,j)&&(C=ei(16,{to:_,from:X}),Oe(X,X,!0,!1)),(C?Promise.resolve(C):me(_,X)).catch(R=>jn(R)?jn(R,2)?R:Zt(R):be(R,_,X)).then(R=>{if(R){if(jn(R,2))return Y(Ne({replace:Ae},T(R.to),{state:typeof R.to=="object"?Ne({},Ee,R.to.state):Ee,force:We}),K||_)}else R=xe(_,X,!0,Ae,Ee);return oe(_,X,R),R})}function H(D,K){const j=I(D,K);return j?Promise.reject(j):Promise.resolve()}function me(D,K){let j;const[X,Ee,We]=QO(D,K);j=zl(X.reverse(),"beforeRouteLeave",D,K);for(const g of X)g.leaveGuards.forEach(_=>{j.push(hs(_,D,K))});const Ae=H.bind(null,D,K);return j.push(Ae),Sr(j).then(()=>{j=[];for(const g of i.list())j.push(hs(g,D,K));return j.push(Ae),Sr(j)}).then(()=>{j=zl(Ee,"beforeRouteUpdate",D,K);for(const g of Ee)g.updateGuards.forEach(_=>{j.push(hs(_,D,K))});return j.push(Ae),Sr(j)}).then(()=>{j=[];for(const g of D.matched)if(g.beforeEnter&&!K.matched.includes(g))if(bn(g.beforeEnter))for(const _ of g.beforeEnter)j.push(hs(_,D,K));else j.push(hs(g.beforeEnter,D,K));return j.push(Ae),Sr(j)}).then(()=>(D.matched.forEach(g=>g.enterCallbacks={}),j=zl(We,"beforeRouteEnter",D,K),j.push(Ae),Sr(j))).then(()=>{j=[];for(const g of o.list())j.push(hs(g,D,K));return j.push(Ae),Sr(j)}).catch(g=>jn(g,8)?g:Promise.reject(g))}function oe(D,K,j){for(const X of a.list())X(D,K,j)}function xe(D,K,j,X,Ee){const We=I(D,K);if(We)return We;const Ae=K===ls,g=Rr?history.state:{};j&&(X||Ae?r.replace(D.fullPath,Ne({scroll:Ae&&g&&g.scroll},Ee)):r.push(D.fullPath,Ee)),c.value=D,Oe(D,K,j,Ae),Zt()}let qe;function _t(){qe||(qe=r.listen((D,K,j)=>{if(!Qo.listening)return;const X=w(D),Ee=G(X);if(Ee){Y(Ne(Ee,{replace:!0}),X).catch(qi);return}l=X;const We=c.value;Rr&&sO(tm(We.fullPath,j.delta),fl()),me(X,We).catch(Ae=>jn(Ae,12)?Ae:jn(Ae,2)?(Y(Ae.to,X).then(g=>{jn(g,20)&&!j.delta&&j.type===go.pop&&r.go(-1,!1)}).catch(qi),Promise.reject()):(j.delta&&r.go(-j.delta,!1),be(Ae,X,We))).then(Ae=>{Ae=Ae||xe(X,We,!1),Ae&&(j.delta&&!jn(Ae,8)?r.go(-j.delta,!1):j.type===go.pop&&jn(Ae,20)&&r.go(-1,!1)),oe(X,We,Ae)}).catch(qi)}))}let kt=Ei(),ze=Ei(),Ce;function be(D,K,j){Zt(D);const X=ze.list();return X.length?X.forEach(Ee=>Ee(D,K,j)):console.error(D),Promise.reject(D)}function Te(){return Ce&&c.value!==ls?Promise.resolve():new Promise((D,K)=>{kt.add([D,K])})}function Zt(D){return Ce||(Ce=!D,_t(),kt.list().forEach(([K,j])=>D?j(D):K()),kt.reset()),D}function Oe(D,K,j,X){const{scrollBehavior:Ee}=t;if(!Rr||!Ee)return Promise.resolve();const We=!j&&rO(tm(D.fullPath,0))||(X||!j)&&history.state&&history.state.scroll||null;return zi().then(()=>Ee(D,K,We)).then(Ae=>Ae&&nO(Ae)).catch(Ae=>be(Ae,D,K))}const ft=D=>r.go(D);let Qe;const Er=new Set,Qo={currentRoute:c,listening:!0,addRoute:p,removeRoute:m,hasRoute:y,getRoutes:A,resolve:w,options:t,push:E,replace:O,go:ft,back:()=>ft(-1),forward:()=>ft(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ze.add,isReady:Te,install(D){const K=this;D.component("RouterLink",y_),D.component("RouterView",KO),D.config.globalProperties.$router=K,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>v(c)}),Rr&&!Qe&&c.value===ls&&(Qe=!0,E(r.location).catch(Ee=>{}));const j={};for(const Ee in ls)j[Ee]=ae(()=>c.value[Ee]);D.provide(pl,K),D.provide(Lh,Ps(j)),D.provide(Qu,c);const X=D.unmount;Er.add(D),D.unmount=function(){Er.delete(D),Er.size<1&&(l=ls,qe&&qe(),qe=null,c.value=ls,Qe=!1,Ce=!1),X()}}};return Qo}function Sr(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function QO(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>Zr(l,a))?s.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>Zr(l,c))||r.push(c))}return[n,s,r]}function In(){return Ge(pl)}function Bs(){return Ge(Lh)}const ml=async(t,e,n=null,s=null,r=null)=>{var i;try{const o=we(he,"users",t),a=await It(o);if(!a.exists())return;const c=((i=a.data().settings)==null?void 0:i.notifications)||{};if(n&&c[n]===!1)return;const l=Vt(he,"notificaciones");await ol(l,{userId:t,mensaje:e,leida:!1,tipo:n,referenciaId:s,ruta:r,created_at:Lo()})}catch(o){console.error("Error al crear la notificación:",o)}},WO=(t,e)=>{const n=ns(Vt(he,"notificaciones"),Gn("userId","==",t),il("created_at","desc"));return wr(n,s=>{if(s.empty)e([]);else{const r=s.docs.map(i=>({id:i.id,...i.data()}));e(r)}},s=>{console.error("Error al obtener las notificaciones:",s)})},GO=(t,e)=>{const n=ns(Vt(he,"notificaciones"),Gn("userId","==",t),Gn("leida","==",!1));return wr(n,s=>{console.log("Número de notificaciones no leídas:",s.size),e(s.size)})},zO=async t=>{try{const e=we(he,"notificaciones",t);await $t(e,{leida:!0})}catch(e){console.error("Error al marcar la notificación como leída:",e)}},YO=async t=>{try{const e=we(he,"notificaciones",t);await $C(e)}catch(e){console.error("Error al eliminar la notificación:",e)}};const nt=t=>(Ke("data-v-e49f4bba"),t=t(),Je(),t),XO={class:"navbar container-fluid d-flex flex-column justify-content-between fixed-bottom bg-dark p-3 py-4"},ZO={class:"w-100 align-items-center p-0"},eD={class:"row m-0 p-0 justify-content-between nav-bottom"},tD=nt(()=>h("li",{class:"col-2 p-0 mx-1"},[h("a",{class:"col-2 w-auto d-flex justify-content-center",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar","aria-label":"Toggle navigation"},[h("img",{src:Dx,alt:"Sobre para mandar mensajes",class:"icono-nav"})])],-1)),nD={class:"col-2 p-0 mx-1"},sD=nt(()=>h("img",{src:Nx,alt:"Sobre para mandar mensajes",class:"icono-nav"},null,-1)),rD={class:"col-2 p-0 mx-1"},iD=nt(()=>h("img",{src:Px,alt:"Icono de agregar partido",class:"icono-nav"},null,-1)),oD={class:"col-2 p-0 mx-1"},aD=nt(()=>h("img",{src:Mx,alt:"Campanas de notificaciones",class:"icono-nav"},null,-1)),cD={key:0,class:"badge bg-danger position-absolute top-0 start-100 translate-middle"},lD={class:"col-2 p-0 mx-1"},uD=nt(()=>h("img",{src:Ux,alt:"Icono de usuario",class:"icono-nav"},null,-1)),dD={class:"offcanvas offcanvas-start ancho-offcanvas rounded-end",tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel"},hD={class:"offcanvas-body pt-5"},fD={class:"navbar-nav justify-content-start flex-grow-1 px-3 pt-4"},pD={class:"row d-flex align-items-center mb-3"},mD={class:"col-5"},gD={class:"col-7 p-0"},AD={class:"text-start h4 m-0"},vD={class:"text-start m-0 email"},yD=nt(()=>h("img",{src:r_,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),_D=nt(()=>h("p",{class:"text-start col-8 m-0"},"Home",-1)),wD=nt(()=>h("img",{src:i_,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),bD=nt(()=>h("p",{class:"text-start col-8 m-0"},"Feed",-1)),ED=nt(()=>h("img",{src:o_,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),ID=nt(()=>h("p",{class:"text-start col-8 m-0"},"Mis partidos",-1)),SD=nt(()=>h("img",{src:a_,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),CD=nt(()=>h("p",{class:"text-start col-8 m-0"},"Red",-1)),kD=nt(()=>h("img",{src:Lx,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),TD=nt(()=>h("p",{class:"text-start col-8 m-0"},"Mensajes",-1)),RD=nt(()=>h("img",{src:Bx,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),xD=nt(()=>h("p",{class:"text-start col-8 m-0"},"Notificaciones",-1)),OD=nt(()=>h("hr",{style:{border:"none",height:"3px","background-color":"#5d880d",width:"100%",opacity:"100"}},null,-1)),DD=nt(()=>h("img",{src:Fx,alt:"Icono de home",class:"col-4 icono-nav-offcanvas px-2"},null,-1)),ND=nt(()=>h("p",{class:"text-start col-8 m-0"},"Ajustes",-1)),PD=nt(()=>h("button",{type:"submit",class:"btn row text-decoration-none d-flex mb-3 p-0"},[h("img",{src:Vx,alt:"Icono de logout",class:"col-4 icono-nav-offcanvas px-2"}),h("p",{class:"text-start col-8 m-0"},"Cerrar Sesión")],-1)),MD=[PD],UD=nt(()=>h("div",{class:"row d-flex justify-content-center pt-6"},[h("img",{src:c_,alt:"Logo Doble-5",class:"ancho-logo"})],-1)),LD={__name:"Navbar",setup(t){const{user:e}=ht(),{handleLogout:n}=i(),s=M(0);let r=null;function i(){const o=In();return{handleLogout(){vx(),o.push({path:"/iniciar-sesion"})}}}return et(()=>{e.value&&e.value.id&&(r=GO(e.value.id,o=>{console.log("Actualizando badge de notificaciones:",o),s.value=o}))}),Un(()=>{r&&r()}),(o,a)=>{const c=Xt("router-link");return S(),k("nav",XO,[h("div",ZO,[h("ul",eD,[tD,h("li",nD,[b(c,{to:"/chat",class:"d-flex justify-content-center"},{default:$(()=>[sD]),_:1})]),h("li",rD,[b(c,{to:"/carga-partidos",class:"d-flex justify-content-center"},{default:$(()=>[iD]),_:1})]),h("li",oD,[b(c,{to:"/notificaciones",class:"d-flex justify-content-center position-relative"},{default:$(()=>[aD,s.value>0?(S(),k("span",cD,F(s.value),1)):Me("",!0)]),_:1})]),h("li",lD,[b(c,{to:"/perfil",class:"d-flex justify-content-center"},{default:$(()=>[uD]),_:1})])]),h("div",dD,[h("div",hD,[h("ul",fD,[h("li",pD,[h("div",mD,[b(sn,{src:v(e).photoURL},null,8,["src"])]),h("div",gD,[h("p",AD,F(v(e).displayName?v(e).displayName:v(e).nombre),1),h("p",vD,F(v(e).email),1)])]),h("li",null,[b(c,{to:"/home",class:"row text-decoration-none d-flex align-items-center my-3","data-bs-dismiss":"offcanvas"},{default:$(()=>[yD,_D]),_:1})]),h("li",null,[b(c,{to:"/feed",class:"row text-decoration-none d-flex mb-3","data-bs-dismiss":"offcanvas"},{default:$(()=>[wD,bD]),_:1})]),h("li",null,[b(c,{to:"/partidos",class:"row text-decoration-none d-flex mb-3","data-bs-dismiss":"offcanvas"},{default:$(()=>[ED,ID]),_:1})]),h("li",null,[b(c,{to:"/red",class:"row text-decoration-none d-flex mb-3","data-bs-dismiss":"offcanvas"},{default:$(()=>[SD,CD]),_:1})]),h("li",null,[b(c,{to:"/chat",class:"row text-decoration-none d-flex mb-3","data-bs-dismiss":"offcanvas"},{default:$(()=>[kD,TD]),_:1})]),h("li",null,[b(c,{to:"/notificaciones",class:"row text-decoration-none d-flex mb-3","data-bs-dismiss":"offcanvas"},{default:$(()=>[RD,xD]),_:1})]),OD,h("li",null,[b(c,{to:"/ajustes",class:"row text-decoration-none d-flex my-3","data-bs-dismiss":"offcanvas"},{default:$(()=>[DD,ND]),_:1})]),h("li",null,[h("form",{action:"#",method:"post",onSubmit:a[0]||(a[0]=En((...l)=>v(n)&&v(n)(...l),["prevent"]))},MD,32)])]),UD])])])])}}},BD=pe(LD,[["__scopeId","data-v-e49f4bba"]]),FD="/assets/circulo-cruzado-1c7ce2c8.png";const VD=t=>(Ke("data-v-fd1cace2"),t=t(),Je(),t),$D=VD(()=>h("img",{src:FD,alt:"close icon"},null,-1)),jD=[$D],qD={__name:"Modal",props:{title:{type:String,required:!0},bodyText:{type:String,required:!1},closeButtonText:{type:String,required:!1},saveButtonText:{type:String,required:!1}},emits:["close","save","closex"],setup(t,{emit:e}){const n=i=>{e("close",i)},s=()=>{e("closex")},r=()=>{e("save")};return(i,o)=>(S(),k("div",{class:"overlay",onClick:o[4]||(o[4]=a=>e("close"))},[h("div",{class:"modals",onClick:o[3]||(o[3]=En(()=>{},["stop"]))},[h("header",null,[h("h3",null,F(t.title),1),h("button",{onClick:o[0]||(o[0]=a=>s())},jD)]),h("main",null,[h("p",null,F(t.bodyText),1)]),h("footer",null,[h("button",{class:"btn",onClick:o[1]||(o[1]=a=>r())},F(t.saveButtonText),1),h("button",{class:"btn",onClick:o[2]||(o[2]=a=>n())},F(t.closeButtonText),1)])])]))}},HD=pe(qD,[["__scopeId","data-v-fd1cace2"]]),os=Symbol("notificationProvider"),Bh=Symbol("modalProvider");const KD={class:"layout poppins-regular"},JD={style:{"padding-bottom":"85px"}},QD={__name:"App",setup(t){const e=Bs(),{user:n}=ht(),{feedback:s,setFeedbackMessage:r,clearFeedbackMessage:i}=bx(),{modalData:o,showModal:a,handleModalClose:c,handleModalCloseX:l,handleModalSave:u}=kx(),d=M(!1);return et(()=>{var p;e.fullPath.startsWith("/info-partido/")?d.value=!1:d.value=!!((p=n.value)!=null&&p.id)}),Ye(()=>e.fullPath,f=>{var p;f.startsWith("/info-partido/")?d.value=!1:d.value=!!((p=n.value)!=null&&p.id)},{immediate:!0}),Ye(()=>n.value,f=>{f.id!=null?d.value=!0:d.value=!1},{immediate:!0}),bs(os,{feedback:s,setFeedbackMessage:r,clearFeedbackMessage:i}),bs(Bh,{modalData:o,showModal:a}),(f,p)=>{const m=Xt("router-view");return S(),k("div",KD,[h("header",null,[b(Ox,{data:v(s),onClose:v(i)},null,8,["data","onClose"]),v(o).isVisible?(S(),Nt(HD,{key:0,title:v(o).title,bodyText:v(o).bodyText,closeButtonText:v(o).closeButtonText,saveButtonText:v(o).saveButtonText,onClose:v(c),onClosex:v(l),onSave:v(u)},null,8,["title","bodyText","closeButtonText","saveButtonText","onClose","onClosex","onSave"])):Me("",!0)]),h("main",JD,[b(m)]),lt(h("footer",null,[b(BD)],512),[[pa,d.value]])])}}},WD=pe(QD,[["__scopeId","data-v-87c6cb3f"]]),GD="modulepreload",zD=function(t){return"/"+t},mm={},__=function(e,n,s){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=zD(i),i in mm)return;mm[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!s)for(let u=r.length-1;u>=0;u--){const d=r[u];if(d.href===i&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":GD,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((u,d)=>{l.addEventListener("load",u),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},YD="/assets/logo-blanco-fa932924.png";const XD={},ZD=t=>(Ke("data-v-fbb5b1a4"),t=t(),Je(),t),eN={class:"row m-auto d-flex justify-content-center align-items-center vh-100 background-inicio"},tN=ZD(()=>h("div",{class:"col-12 mt-5 d-flex justify-content-center"},[h("img",{src:YD,alt:"Logo Doble-5",class:"ancho-logo"})],-1)),nN={class:"row justify-content-evenly mt-5"},sN={class:"col-6 boton-inicio d-flex justify-content-center px-6"},rN={class:"col-6 boton-registro d-flex justify-content-center px-6"};function iN(t,e){const n=Xt("router-link");return S(),k("section",eN,[tN,h("div",nN,[h("div",sN,[b(n,{to:"/iniciar-sesion",class:"text-white text-decoration-none fw-semibold"},{default:$(()=>[ge("INICIAR SESIÓN")]),_:1})]),h("div",rN,[b(n,{to:"/registro",class:"text-white text-decoration-none fw-semibold"},{default:$(()=>[ge("REGISTRARME")]),_:1})])])])}const oN=pe(XD,[["render",iN],["__scopeId","data-v-fbb5b1a4"]]),Fh="data:image/png;base64,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",aN="data:image/png;base64,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",cN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAACXBIWXMAABcRAAAXEQHKJvM/AAAEtUlEQVR4nO2d7W3bMBCGeUX/2xskG9SdoNqgGcGdoOkG7gT1CO4G7gS1N3A2iDewJ2DB4oyoBGnJH7q7V70HEII4gUTqET9E8miKMQYkiOgxhPAUQmhCCLMQwkOP5L+EEDanI8Z4gMozgiQimoYQ5nx8uMMpf4YQVjHGzR3ONTimJbGcZz4mA1wilbBn67LMSiKiJGYxkJycbSqlMcZXgWtdjDlJ3Oase1Zrp7bmwD/bpPZq2mq7+sj+FmNc3paDAUiSrBzcIUg3PJ45Ntw2TS9JN5971eP860vPPfRhSdC84+alG/x4h+tMuRo9J2tnSRSCoHTDmgGumWQtEURZF7QQuH5qs14ti9IW1FRuzoF7W1LpmLKQYhv130riG1NqF9JnM6X0rCqinjUlqXXBiSj1oj4X/vQxxrhTSNJfiGhX6f6rpeudxkWJ6Kki6IumIKbh968cvfcnpaqu1FCvNKuULH2zSrUn1k62D/GSRETzwsj1kcfnTMCl+XshLQuN9Im3SUT0WpCUqrmVaEJ6YCWtoiWJiJpCpvcWBTGlkjOXToR0dVfKoEoV0gd+ePbZv37iQWAxpCU9Zb8fDZeiE6X05fkYFDFJRFSaLljLZfVqSpIayQRIlqRSxsxL4onA/L1ptJJmhc8g1hgU0jmRbJckJeWZ2gOt2ilNq49SUl6STK4nqFAaqirVDIMgKSnvNGiP0d3KVOpCKgOsDMwCRe0lX5qSYOD1f2poShJ9a78RsfanhKSkY/Y7kiRVJCXlHQX0kiTWO5WUlGfqQbuuv4D/RlKpyy06vHIDpXSKvUJISip1Y0VHk6+BB4bzObAXydESMUk8JZ3PzTwBVHmlOTDR9ybpLng+6j2xXJpawWs5450+r2TO7MxsJXhtL73sTFQSZ26bffzAAWOmaEUZ5og/VBqrhVJP6Xf28ZHDWsyM5xFRWgz5Nfs4lSLx9zvxYSEerMxL08TSLC2vsM0FBbW1gUorRGvRFIOHuvRI22MlkEAtukLzZtQCuFSW8sbzITAHzTglTUnTM8Fb4qI6BImH4piQFN8WxtdiV8WqPk6HmQfGlKTYHY45eCQ4X7/2oKgLMiGph6hBQjO5g7A5c827B1NDS4rdT3Tk6uhmWSynFnZ5CmZWbYPMSordbUP7KV9e8qSzmPmZknM6ltY22oiaMbM1eDhmVQnXLLFlsaVJuIYFdW23ZnojKMsbQDUsq89+dtdyZDmmIzvM73fH4ZuLO8va8wOwRFjqDLNzJJesOc8/Xbu92pYDqK3HRP0D3Pae4W0AtOGja8u1U6lZWd3PrgtISW1as6c/sj/94vYGUkwb+GXG3KaUZkp3YxAUfC04Bi4JAJcEgEsCwCUB4JIAcEkAuCQAXBIALgkAlwSASwLAJQHgkgBwSQC4JABcEgAuCQCXBIBLAsAlAeCSAHBJALgkAFwSAC4JAJcEgEsCwCUB4JIAcEkAuCQAXBIALgkAlwSASwLAJQEwFkmjiDKvMQpJY9kKoIZXdwC4JABcEgAuCQCXBIBLAsAlATAmSfn32I7m3WlMkvKv9jG5M/E1jFXSy5hGIUYjKca4blV5UBvhdvHedvIuJm2ce/qKnXEQQvgDSKYuXFt2tpkAAAAASUVORK5CYII=",lN="/assets/jugador-de-futbol-e59bd8cc.png";async function uN(t){try{const e=await It(we(he,"admin-canchas",t));return e.exists()?e.data():(console.log("No se encontró la cancha con el ID proporcionado."),null)}catch(e){throw console.error("Error al obtener la cancha:",e),e}}async function dN(t,e){try{let n=await uN(t);n!=null&&n.reservas[e.fecha]||(n.reservas[e.fecha]={});const s=n.reservas[e.fecha][e.hora];if(s&&s.disponible===!1)throw new Error("Fecha y hora ya reservadas anteriormente, intente otra fecha u hora");n.reservas[e.fecha][e.hora]={disponible:!1},await hN(t,n),console.log("cancha actualizada correctamente.")}catch(n){throw console.error("Error al actualizar la cancha:",n),n}}async function hN(t,e){try{const n=we(he,"admin-canchas",t);await $t(n,{reservas:e.reservas}),console.log("cancha actualizada correctamente")}catch(n){throw console.error("Error al actualizar las reservas de la cancha:",n),n}}async function fN(t,e){try{const n=Vt(he,"partidos");return await dN(t.complejo.id,e),ol(n,{...t,created_at:Lo()})}catch(n){throw console.log(n),n}}async function pN(t){const e=ns(Vt(he,"partidos"),Gn("estado","==",t||"activo")),n=await pi(e),s=[];return n.forEach(r=>{s.push({id:r.id,...r.data()})}),s}async function gl(t){try{const e=await It(we(he,"partidos",t));return e.exists()?e.data():null}catch(e){throw console.error("Error al obtener el partido:",e),e}}async function Vh(t,e){try{let n=await gl(t),s={uid:e.value.id,nombre:e.value.displayName,image:e.value.photoURL};if(n.contadorInscriptos.some(i=>i.uid===s.uid)&&n.contadorInscriptos.length<10)throw new Error("El usuario ya está inscripto en este partido.");n.contadorInscriptos.push(s),await w_(t,n.contadorInscriptos)}catch(n){throw console.error("Error al inscribirse al partido:",n),n}}async function w_(t,e){try{const n=we(he,"partidos",t);await $t(n,{contadorInscriptos:e}),console.log("Lista actualizada correctamente")}catch(n){throw console.error("Error al actualizar contador de inscriptos:",n),n}}async function mN(t,e){try{let n=await gl(e),s={uid:t};const r=n.contadorInscriptos.filter(i=>i.uid!==s.uid);await w_(e,r),console.log("Usuario eliminado correctamente.")}catch(n){throw console.error("Error al eliminar al jugador del partido:",n),n}}async function gN(t,e){try{const n=we(he,"partidos",t),s=await It(n);if(!s.exists())throw new Error("El partido no existe.");if(s.data().userId!==e)throw new Error("No sos el creador de este partido.");return await $t(n,{estado:"eliminado"}),console.log("Partido marcado como eliminado correctamente."),!0}catch(n){throw console.error("Error al eliminar el partido:",n.message),n}}function Wu(t){if(t==null)return"xxxx-xx-xx xx:xx:xx";typeof t.toDate=="function"&&(t=t.toDate());const e=new Intl.DateTimeFormat("es-AR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(t),n=new Intl.DateTimeFormat("es-AR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(t);return`${e} ${n}`}function AN(t){const[e,n,s]=t.split("-");return`${s}-${n}-${e}`}const Al=t=>(Ke("data-v-a5ecd2d8"),t=t(),Je(),t),vN={class:"row px-3"},yN={class:"card p-3 mb-3"},_N={class:"card-body"},wN={class:"row mb-3"},bN={class:"col-10"},EN={class:"card-title h4 text-start"},IN={class:"col-2 d-flex justify-content-end"},SN=Al(()=>h("img",{src:Fh,alt:"Icono flechas dobles",class:"icono-h2"},null,-1)),CN={class:"row mb-3"},kN=Al(()=>h("div",{class:"col-2 d-flex justify-content-start"},[h("img",{src:aN,alt:"Icono flechas dobles",class:"icono-h2"})],-1)),TN={class:"col-10 d-flex align-items-end"},RN={class:"card-subtitle text-body-secondary text-start"},xN={class:"row mb-3"},ON=Al(()=>h("div",{class:"col-2 d-flex justify-content-start"},[h("img",{src:cN,alt:"Icono flechas dobles",class:"icono-h2"})],-1)),DN={class:"col-10 d-flex align-items-end"},NN={class:"card-subtitle text-body-secondary text-start"},PN={class:"row mb-3"},MN=Al(()=>h("div",{class:"col-2 d-flex justify-content-start"},[h("img",{src:lN,alt:"Icono flechas dobles",class:"icono-h2"})],-1)),UN={class:"col-10 d-flex align-items-end"},LN={class:"card-subtitle text-body-secondary text-start"},BN={class:"row justify-content-around"},FN={class:"col-6 fondo-boton-card-negro rounded d-flex justify-content-center"},VN={__name:"CardPartido",props:{partido:Object},setup(t){const e=t;hi();const{user:n}=ht(),{setFeedbackMessage:s,clearFeedbackMessage:r}=Ge(os),i=M(!1);et(()=>{var c;const a=((c=e.partido)==null?void 0:c.contadorInscriptos)||[];i.value=a.some(l=>l.uid===n.value.id)}),Ye(()=>e.partido,a=>{const c=(a==null?void 0:a.contadorInscriptos)||[];i.value=c.some(l=>l.uid===n.value.id)},{immediate:!0,deep:!0});async function o(a){try{r(),a?(await Vh(a,n),s({type:"success",message:"Usuario inscripto correctamente."})):console.error("No se ha encontrado el partido para inscribirse.")}catch(c){console.error("Error al inscribirse al partido:",c),s({type:"error",message:c})}}return(a,c)=>{var u,d,f,p,m,A,y,w,T;const l=Xt("router-link");return S(),k("div",vN,[h("div",yN,[h("div",_N,[h("div",wN,[h("div",bN,[h("p",EN,F((u=t.partido)==null?void 0:u.nombre),1)]),h("div",IN,[b(l,{to:`/info-partido/${(d=t.partido)==null?void 0:d.id}`},{default:$(()=>[SN]),_:1},8,["to"])])]),h("div",CN,[kN,h("div",TN,[h("p",RN,[h("b",null,F(v(AN)((f=t.partido)==null?void 0:f.fecha))+" - "+F((p=t.partido)==null?void 0:p.hora)+"hs.",1)])])]),h("div",xN,[ON,h("div",DN,[h("p",NN,[ge(" Complejo: "),h("b",null,F((A=(m=t.partido)==null?void 0:m.complejo)==null?void 0:A.name),1)])])]),h("div",PN,[MN,h("div",UN,[h("p",LN,[ge(" Vacantes: "),h("b",null,F(((y=t.partido)==null?void 0:y.cantidadJ)*2-((w=t.partido)==null?void 0:w.contadorInscriptos.length)),1)])])]),h("div",BN,[h("div",FN,[b(l,{to:`/info-partido/${(T=t.partido)==null?void 0:T.id}`,class:"text-white fw-light py-2"},{default:$(()=>[ge("VER MÁS")]),_:1},8,["to"])]),h("div",{onClick:c[0]||(c[0]=I=>{var E;return i.value?null:o((E=t.partido)==null?void 0:E.id)}),class:"col-6 fondo-boton-card rounded d-flex justify-content-center text-white align-items-center"},F(i.value?"INSCRIPTO":"INSCRIBIRME"),1)])])])])}}},nc=pe(VN,[["__scopeId","data-v-a5ecd2d8"]]);const on=t=>(Ke("data-v-8095db08"),t=t(),Je(),t),$N={class:"px-3 py-4"},jN={class:"header row mb-3"},qN={class:"col-5 w-home"},HN={class:"col-7 d-flex align-items-center"},KN={class:"text-start h3"},JN=on(()=>h("br",null,null,-1)),QN=on(()=>h("span",{class:"h4 bienvenida"},"¡Bienvenido!",-1)),WN={class:"px-3 pb-3"},GN={class:"row d-flex justify-content-between mb-3"},zN=on(()=>h("img",{src:r_,alt:"Icono home",class:"icono-card m-auto"},null,-1)),YN=on(()=>h("p",{class:"m-auto"},"Home",-1)),XN=on(()=>h("img",{src:i_,alt:"Icono feed",class:"icono-card m-auto"},null,-1)),ZN=on(()=>h("p",{class:"m-auto"},"Feed",-1)),eP=on(()=>h("img",{src:o_,alt:"Icono pelota",class:"icono-card m-auto"},null,-1)),tP=on(()=>h("p",{class:"m-auto"},"Partidos",-1)),nP=on(()=>h("img",{src:a_,alt:"Icono red",class:"icono-card m-auto"},null,-1)),sP=on(()=>h("p",{class:"m-auto"},"Red",-1)),rP={class:"pb-3 px-4"},iP={class:"row mb-3"},oP=on(()=>h("div",{class:"col-10"},[h("h2",{class:"text-start h3 mb-3 fw-bold"},[h("span",null,"Próximos"),ge(" partidos ")])],-1)),aP={class:"col-2"},cP=on(()=>h("img",{src:Fh,alt:"Icono flechas dobles",class:"icono-h2"},null,-1)),lP={key:0,class:"row px-3"},uP={key:1,class:"row"},dP=on(()=>h("div",{class:"col-12"},[h("p",null,"No hay partidos para mostrar")],-1)),hP=[dP],fP={__name:"Home",setup(t){const e=Bs(),{user:n}=ht(),s=hi(),r=M([]);let i=null;function o(c){return e.path===c?"active-button":""}function a(){const c=ns(Vt(s,"partidos"),il("fecha","asc"),Gn("estado","==","activo"),BC(3));i=wr(c,l=>{const u=[];l.forEach(d=>{u.push({...d.data(),id:d.id})}),r.value=u})}return dd(()=>{a()}),Un(()=>{i&&i()}),(c,l)=>{const u=Xt("router-link");return S(),k(re,null,[h("section",$N,[h("div",jN,[h("div",qN,[b(sn,{src:v(n).photoURL},null,8,["src"])]),h("div",HN,[h("p",KN,[ge(F(v(n).displayName?v(n).displayName:v(n).nombre)+" ",1),JN,QN])])])]),h("section",WN,[h("div",GN,[h("div",{class:Le(["col-3 m-auto justify-content-center botonera-home",["botonera-home",o("/home")]])},[b(u,{to:"/home",class:"d-flex flex-column"},{default:$(()=>[zN,YN]),_:1})],2),h("div",{class:Le(["col-3 m-auto justify-content-center botonera-home",["botonera-home",o("/feed")]])},[b(u,{to:"/feed",class:"d-flex flex-column"},{default:$(()=>[XN,ZN]),_:1})],2),h("div",{class:Le(["col-3 m-auto justify-content-center botonera-home",["botonera-home",o("/partidos")]])},[b(u,{to:"/partidos",class:"d-flex flex-column"},{default:$(()=>[eP,tP]),_:1})],2),h("div",{class:Le(["col-3 m-auto justify-content-center botonera-home",["botonera-home",o("/red")]])},[b(u,{to:"/red",class:"d-flex flex-column"},{default:$(()=>[nP,sP]),_:1})],2)])]),h("section",rP,[h("div",iP,[oP,h("div",aP,[b(u,{to:"/partidos"},{default:$(()=>[cP]),_:1})])]),r.value.length>0?(S(),k("div",lP,[(S(!0),k(re,null,it(r.value,d=>(S(),Nt(nc,{class:"m-auto",key:d.id,partido:d},null,8,["partido"]))),128))])):(S(),k("div",uP,hP))])],64)}}},pP=pe(fP,[["__scopeId","data-v-8095db08"]]);async function mP(t){const e=Vt(he,"private-chats",t,"messages"),n=await pi(e),s=[];return n.forEach(r=>{s.push({id:r.id,...r.data()})}),s}async function gP(t){const e=ns(Vt(he,"private-chats"),Gn(`users.${t}`,"==",!0)),n=await pi(e),s=[];for(const r of n.docs){const i=r.data(),o={};await Promise.all(Object.keys(i.users).map(async c=>{const l=await Bn(c);o[c]=l}));const a=await mP(r.id);s.push({id:r.id,users:o,messages:a})}return s}const AP={},vP={class:"p-3 pb-2",style:{margin:"85px 0 0 0"}};function yP(t,e){return S(),k("section",vP,[vc(t.$slots,"default")])}const St=pe(AP,[["render",yP]]),b_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjJBRTc5NTA4MURGODExRUZCMUM0RTU1Qzc5QUNFRkQyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjJBRTc5NTA5MURGODExRUZCMUM0RTU1Qzc5QUNFRkQyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MkFFNzk1MDYxREY4MTFFRkIxQzRFNTVDNzlBQ0VGRDIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MkFFNzk1MDcxREY4MTFFRkIxQzRFNTVDNzlBQ0VGRDIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4bhRvSAAAABlBMVEX///////9VfPVsAAAAAnRSTlP/AOW3MEoAAASNSURBVHja7N1LigJAFATBeve/tFthGMSdmpE30IpuBH87pZunAAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAAMBTAIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABMC/j/kpANLzI9ADsL8B0N6/LWDmbwuY/dsCZv+2gNm/LWD2B8D+YQGzPwD2B8D+VQGzPwD2B8D+ANT3ByC+PwDx/QGI7w+A/QEI7w9AfH8AXAAAhM8/APYHwAsAAOwPgPsfAOcfAPsD4P4HwPkHwP4AuP8BcP4BsD8A7n8AnH8A7A+A+x8A5x8A+wNgfwDsD4D9AbA/APYHwP4A2B8A+wNgfwDsD4D9AbA/APYHwP4A2B8A+wNgfwDsD4D9AbA/APYHwP4A2B8A+wNgfwDsD4D9AbA/APYHwP4A2B8A+wNgfwDsD4D9AbB/GcB+KgDa+38YAgDiBGb/NgEA4gIAiAuY/dsCAIgLmP0BACAsAAAAACgLAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC8GQQAAAT4QAgAAADwc/v7WHh8fwDi+wMQ39+XQ9vzAxCf3w9EpMf/GgB+IgYAAtIACKgDIKAOgIA6AALqAAioAyCgDoCAOgAC6gAIqAMgoA6AgDoAAuoACKgDIKAOgIA6AALqAAioAyCgDoCAOgAC6gAIqAMgoA6AgDoAAuoACKgDIKAOgIA6AALqAAioAyCgDoCAOgAC6gAIqAMgoA6AgDoAAuoACKgDIKAOgIA6AALqAAioAyCgDoCAOgAC6gAIqAMgoA6AgDoAAuoA3v2TGQDcAQAQAAABABAAQFMAAAQAkBYAQFwAAAQAkBYAQFwAAHEBAMQFABAXAEBcAABxAQC0BRwAbQEAxAUA0BZwALQFANAWcACkBRwAaQEHQFrAAZAWcACUCdwBECZwB4AAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIBe9hBgAPUmyPTf3QHfAAAAAElFTkSuQmCC",$h="data:image/png;base64,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";const _P={class:"col-3"},wP=["src"],bP={class:"col-9"},EP={__name:"HeaderPage",props:{route:{type:String,required:!0},title:{type:String,required:!0},hasBackground:{type:Boolean,default:!0}},setup(t){const e=t;function n(){Jo.back()}return(s,r)=>(S(),k("div",{class:Le(["row sectionHeader",{"with-background":e.hasBackground,"no-background":!e.hasBackground}])},[h("div",_P,[h("button",{onClick:n},[h("img",{src:e.hasBackground?v(b_):v($h),alt:"Volver"},null,8,wP)])]),h("div",bP,[h("h1",null,F(e.title),1)])],2))}},Kt=pe(EP,[["__scopeId","data-v-c954fee4"]]);const IP=t=>(Ke("data-v-29a5fa0e"),t=t(),Je(),t),SP={key:0,class:"loader-container"},CP=IP(()=>h("div",{class:"spinner-border",role:"status"},[h("span",{class:"sr-only"})],-1)),kP=[CP],TP={__name:"Loading",props:{loading:{type:Boolean,required:!0}},setup(t){return(e,n)=>t.loading?(S(),k("div",SP,kP)):Me("",!0)}},Vn=pe(TP,[["__scopeId","data-v-29a5fa0e"]]);function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function mr(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Jt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function $n(t){Jt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||sc(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function RP(t,e){Jt(2,arguments);var n=$n(t).getTime(),s=mr(e);return new Date(n+s)}var xP={};function vl(){return xP}function OP(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function DP(t){return Jt(1,arguments),t instanceof Date||sc(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function NP(t){if(Jt(1,arguments),!DP(t)&&typeof t!="number")return!1;var e=$n(t);return!isNaN(Number(e))}function PP(t,e){Jt(2,arguments);var n=mr(e);return RP(t,-n)}var MP=864e5;function UP(t){Jt(1,arguments);var e=$n(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var s=e.getTime(),r=n-s;return Math.floor(r/MP)+1}function rc(t){Jt(1,arguments);var e=1,n=$n(t),s=n.getUTCDay(),r=(s<e?7:0)+s-e;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}function E_(t){Jt(1,arguments);var e=$n(t),n=e.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(n+1,0,4),s.setUTCHours(0,0,0,0);var r=rc(s),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=rc(i);return e.getTime()>=r.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function LP(t){Jt(1,arguments);var e=E_(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var s=rc(n);return s}var BP=6048e5;function FP(t){Jt(1,arguments);var e=$n(t),n=rc(e).getTime()-LP(e).getTime();return Math.round(n/BP)+1}function ic(t,e){var n,s,r,i,o,a,c,l;Jt(1,arguments);var u=vl(),d=mr((n=(s=(r=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&r!==void 0?r:u.weekStartsOn)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=$n(t),p=f.getUTCDay(),m=(p<d?7:0)+p-d;return f.setUTCDate(f.getUTCDate()-m),f.setUTCHours(0,0,0,0),f}function I_(t,e){var n,s,r,i,o,a,c,l;Jt(1,arguments);var u=$n(t),d=u.getUTCFullYear(),f=vl(),p=mr((n=(s=(r=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:f.firstWeekContainsDate)!==null&&s!==void 0?s:(c=f.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(d+1,0,p),m.setUTCHours(0,0,0,0);var A=ic(m,e),y=new Date(0);y.setUTCFullYear(d,0,p),y.setUTCHours(0,0,0,0);var w=ic(y,e);return u.getTime()>=A.getTime()?d+1:u.getTime()>=w.getTime()?d:d-1}function VP(t,e){var n,s,r,i,o,a,c,l;Jt(1,arguments);var u=vl(),d=mr((n=(s=(r=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&r!==void 0?r:u.firstWeekContainsDate)!==null&&s!==void 0?s:(c=u.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&n!==void 0?n:1),f=I_(t,e),p=new Date(0);p.setUTCFullYear(f,0,d),p.setUTCHours(0,0,0,0);var m=ic(p,e);return m}var $P=6048e5;function jP(t,e){Jt(1,arguments);var n=$n(t),s=ic(n,e).getTime()-VP(n,e).getTime();return Math.round(s/$P)+1}function De(t,e){for(var n=t<0?"-":"",s=Math.abs(t).toString();s.length<e;)s="0"+s;return n+s}var qP={y:function(e,n){var s=e.getUTCFullYear(),r=s>0?s:1-s;return De(n==="yy"?r%100:r,n.length)},M:function(e,n){var s=e.getUTCMonth();return n==="M"?String(s+1):De(s+1,2)},d:function(e,n){return De(e.getUTCDate(),n.length)},a:function(e,n){var s=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h:function(e,n){return De(e.getUTCHours()%12||12,n.length)},H:function(e,n){return De(e.getUTCHours(),n.length)},m:function(e,n){return De(e.getUTCMinutes(),n.length)},s:function(e,n){return De(e.getUTCSeconds(),n.length)},S:function(e,n){var s=n.length,r=e.getUTCMilliseconds(),i=Math.floor(r*Math.pow(10,s-3));return De(i,n.length)}};const us=qP;var Cr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},HP={G:function(e,n,s){var r=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})}},y:function(e,n,s){if(n==="yo"){var r=e.getUTCFullYear(),i=r>0?r:1-r;return s.ordinalNumber(i,{unit:"year"})}return us.y(e,n)},Y:function(e,n,s,r){var i=I_(e,r),o=i>0?i:1-i;if(n==="YY"){var a=o%100;return De(a,2)}return n==="Yo"?s.ordinalNumber(o,{unit:"year"}):De(o,n.length)},R:function(e,n){var s=E_(e);return De(s,n.length)},u:function(e,n){var s=e.getUTCFullYear();return De(s,n.length)},Q:function(e,n,s){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return De(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,s){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return De(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,s){var r=e.getUTCMonth();switch(n){case"M":case"MM":return us.M(e,n);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,s){var r=e.getUTCMonth();switch(n){case"L":return String(r+1);case"LL":return De(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,s,r){var i=jP(e,r);return n==="wo"?s.ordinalNumber(i,{unit:"week"}):De(i,n.length)},I:function(e,n,s){var r=FP(e);return n==="Io"?s.ordinalNumber(r,{unit:"week"}):De(r,n.length)},d:function(e,n,s){return n==="do"?s.ordinalNumber(e.getUTCDate(),{unit:"date"}):us.d(e,n)},D:function(e,n,s){var r=UP(e);return n==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):De(r,n.length)},E:function(e,n,s){var r=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,s,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return De(o,2);case"eo":return s.ordinalNumber(o,{unit:"day"});case"eee":return s.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(i,{width:"short",context:"formatting"});case"eeee":default:return s.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,s,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return De(o,n.length);case"co":return s.ordinalNumber(o,{unit:"day"});case"ccc":return s.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(i,{width:"narrow",context:"standalone"});case"cccccc":return s.day(i,{width:"short",context:"standalone"});case"cccc":default:return s.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,s){var r=e.getUTCDay(),i=r===0?7:r;switch(n){case"i":return String(i);case"ii":return De(i,n.length);case"io":return s.ordinalNumber(i,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});case"iiii":default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,s){var r=e.getUTCHours(),i=r/12>=1?"pm":"am";switch(n){case"a":case"aa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,s){var r=e.getUTCHours(),i;switch(r===12?i=Cr.noon:r===0?i=Cr.midnight:i=r/12>=1?"pm":"am",n){case"b":case"bb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,s){var r=e.getUTCHours(),i;switch(r>=17?i=Cr.evening:r>=12?i=Cr.afternoon:r>=4?i=Cr.morning:i=Cr.night,n){case"B":case"BB":case"BBB":return s.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,s){if(n==="ho"){var r=e.getUTCHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return us.h(e,n)},H:function(e,n,s){return n==="Ho"?s.ordinalNumber(e.getUTCHours(),{unit:"hour"}):us.H(e,n)},K:function(e,n,s){var r=e.getUTCHours()%12;return n==="Ko"?s.ordinalNumber(r,{unit:"hour"}):De(r,n.length)},k:function(e,n,s){var r=e.getUTCHours();return r===0&&(r=24),n==="ko"?s.ordinalNumber(r,{unit:"hour"}):De(r,n.length)},m:function(e,n,s){return n==="mo"?s.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):us.m(e,n)},s:function(e,n,s){return n==="so"?s.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):us.s(e,n)},S:function(e,n){return us.S(e,n)},X:function(e,n,s,r){var i=r._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return Am(o);case"XXXX":case"XX":return Ks(o);case"XXXXX":case"XXX":default:return Ks(o,":")}},x:function(e,n,s,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"x":return Am(o);case"xxxx":case"xx":return Ks(o);case"xxxxx":case"xxx":default:return Ks(o,":")}},O:function(e,n,s,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+gm(o,":");case"OOOO":default:return"GMT"+Ks(o,":")}},z:function(e,n,s,r){var i=r._originalDate||e,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+gm(o,":");case"zzzz":default:return"GMT"+Ks(o,":")}},t:function(e,n,s,r){var i=r._originalDate||e,o=Math.floor(i.getTime()/1e3);return De(o,n.length)},T:function(e,n,s,r){var i=r._originalDate||e,o=i.getTime();return De(o,n.length)}};function gm(t,e){var n=t>0?"-":"+",s=Math.abs(t),r=Math.floor(s/60),i=s%60;if(i===0)return n+String(r);var o=e||"";return n+String(r)+o+De(i,2)}function Am(t,e){if(t%60===0){var n=t>0?"-":"+";return n+De(Math.abs(t)/60,2)}return Ks(t,e)}function Ks(t,e){var n=e||"",s=t>0?"-":"+",r=Math.abs(t),i=De(Math.floor(r/60),2),o=De(r%60,2);return s+i+n+o}const KP=HP;var vm=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},S_=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},JP=function(e,n){var s=e.match(/(P+)(p+)?/)||[],r=s[1],i=s[2];if(!i)return vm(e,n);var o;switch(r){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",vm(r,n)).replace("{{time}}",S_(i,n))},QP={p:S_,P:JP};const WP=QP;var GP=["D","DD"],zP=["YY","YYYY"];function YP(t){return GP.indexOf(t)!==-1}function XP(t){return zP.indexOf(t)!==-1}function ym(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ZP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eM=function(e,n,s){var r,i=ZP[e];return typeof i=="string"?r=i:n===1?r=i.one:r=i.other.replace("{{count}}",n.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};const tM=eM;function Yl(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,s=t.formats[n]||t.formats[t.defaultWidth];return s}}var nM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rM={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iM={date:Yl({formats:nM,defaultWidth:"full"}),time:Yl({formats:sM,defaultWidth:"full"}),dateTime:Yl({formats:rM,defaultWidth:"full"})};const oM=iM;var aM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cM=function(e,n,s,r){return aM[e]};const lM=cM;function Ii(t){return function(e,n){var s=n!=null&&n.context?String(n.context):"standalone",r;if(s==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):i;r=t.formattingValues[o]||t.formattingValues[i]}else{var a=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[c]||t.values[a]}var l=t.argumentCallback?t.argumentCallback(e):e;return r[l]}}var uM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gM=function(e,n){var s=Number(e),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},AM={ordinalNumber:gM,era:Ii({values:uM,defaultWidth:"wide"}),quarter:Ii({values:dM,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ii({values:hM,defaultWidth:"wide"}),day:Ii({values:fM,defaultWidth:"wide"}),dayPeriod:Ii({values:pM,defaultWidth:"wide",formattingValues:mM,defaultFormattingWidth:"wide"})};const vM=AM;function Si(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;var o=i[0],a=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?_M(a,function(d){return d.test(o)}):yM(a,function(d){return d.test(o)}),l;l=t.valueCallback?t.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;var u=e.slice(o.length);return{value:l,rest:u}}}function yM(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function _M(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function wM(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=e.match(t.matchPattern);if(!s)return null;var r=s[0],i=e.match(t.parsePattern);if(!i)return null;var o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(r.length);return{value:o,rest:a}}}var bM=/^(\d+)(th|st|nd|rd)?/i,EM=/\d+/i,IM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},SM={any:[/^b/i,/^(a|c)/i]},CM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kM={any:[/1/i,/2/i,/3/i,/4/i]},TM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PM={ordinalNumber:wM({matchPattern:bM,parsePattern:EM,valueCallback:function(e){return parseInt(e,10)}}),era:Si({matchPatterns:IM,defaultMatchWidth:"wide",parsePatterns:SM,defaultParseWidth:"any"}),quarter:Si({matchPatterns:CM,defaultMatchWidth:"wide",parsePatterns:kM,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Si({matchPatterns:TM,defaultMatchWidth:"wide",parsePatterns:RM,defaultParseWidth:"any"}),day:Si({matchPatterns:xM,defaultMatchWidth:"wide",parsePatterns:OM,defaultParseWidth:"any"}),dayPeriod:Si({matchPatterns:DM,defaultMatchWidth:"any",parsePatterns:NM,defaultParseWidth:"any"})};const MM=PM;var UM={code:"en-US",formatDistance:tM,formatLong:oM,formatRelative:lM,localize:vM,match:MM,options:{weekStartsOn:0,firstWeekContainsDate:1}};const LM=UM;var BM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,VM=/^'([^]*?)'?$/,$M=/''/g,jM=/[a-zA-Z]/;function C_(t,e,n){var s,r,i,o,a,c,l,u,d,f,p,m,A,y,w,T,I,E;Jt(2,arguments);var O=String(e),G=vl(),Y=(s=(r=n==null?void 0:n.locale)!==null&&r!==void 0?r:G.locale)!==null&&s!==void 0?s:LM,H=mr((i=(o=(a=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(l=n.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:G.firstWeekContainsDate)!==null&&o!==void 0?o:(d=G.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(H>=1&&H<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var me=mr((p=(m=(A=(y=n==null?void 0:n.weekStartsOn)!==null&&y!==void 0?y:n==null||(w=n.locale)===null||w===void 0||(T=w.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&A!==void 0?A:G.weekStartsOn)!==null&&m!==void 0?m:(I=G.locale)===null||I===void 0||(E=I.options)===null||E===void 0?void 0:E.weekStartsOn)!==null&&p!==void 0?p:0);if(!(me>=0&&me<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!Y.localize)throw new RangeError("locale must contain localize property");if(!Y.formatLong)throw new RangeError("locale must contain formatLong property");var oe=$n(t);if(!NP(oe))throw new RangeError("Invalid time value");var xe=OP(oe),qe=PP(oe,xe),_t={firstWeekContainsDate:H,weekStartsOn:me,locale:Y,_originalDate:oe},kt=O.match(FM).map(function(ze){var Ce=ze[0];if(Ce==="p"||Ce==="P"){var be=WP[Ce];return be(ze,Y.formatLong)}return ze}).join("").match(BM).map(function(ze){if(ze==="''")return"'";var Ce=ze[0];if(Ce==="'")return qM(ze);var be=KP[Ce];if(be)return!(n!=null&&n.useAdditionalWeekYearTokens)&&XP(ze)&&ym(ze,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&YP(ze)&&ym(ze,e,String(t)),be(qe,ze,Y.localize,_t);if(Ce.match(jM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ce+"`");return ze}).join("");return kt}function qM(t){var e=t.match(VM);return e?e[1].replace($M,"'"):t}const HM={class:"card d-flex flex-row align-items-center p-2"},KM=["src"],JM={class:"flex-grow-1"},QM={class:"d-flex justify-content-between align-items-center"},WM={class:"mb-1"},GM={class:"text-muted"},zM={class:"card-text mb-0"},YM={__name:"cardChats",props:{chat:Object,userAuthenticatedID:String},setup(t){const e=t,n=M(null),s=M(null);et(()=>{n.value=e.chat,s.value=e.userAuthenticatedID});const r=c=>{if(!c||!s.value)return"";const l=Object.keys(c).find(u=>u!==s.value);return l?c[l].displayName||c[l].nombre:""},i=c=>{if(!c||!s.value)return"";const l=Object.keys(c).find(u=>u!==s.value);return l&&c[l].photoURL||""},o=c=>{if(!c||c.length===0)return"";const l=c.sort((u,d)=>{const f=new Date(u.created_at.seconds*1e3+u.created_at.nanoseconds/1e6),p=new Date(d.created_at.seconds*1e3+d.created_at.nanoseconds/1e6);return f-p});return l[l.length-1].message},a=c=>{if(!c||c.length===0)return"";const l=c[c.length-1].created_at,u=l.seconds*1e3+l.nanoseconds/1e6,d=new Date(u);return C_(d,"HH:mm")};return(c,l)=>{var u,d,f,p;return S(),k("div",HM,[h("img",{src:i((u=n.value)==null?void 0:u.users),alt:"User Photo",class:"user-photo me-3"},null,8,KM),h("div",JM,[h("div",QM,[h("h5",WM,F(r((d=n.value)==null?void 0:d.users)),1),h("p",GM,F(a((f=n.value)==null?void 0:f.messages)),1)]),h("p",zM,F(o((p=n.value)==null?void 0:p.messages)),1)])])}}},XM=pe(YM,[["__scopeId","data-v-23438fa9"]]);const ZM={class:"mb-3"},eU=["onClick"],tU={key:0},nU={__name:"Chat",setup(t){const{user:e}=ht(),n=M([]),s=M(!0),r=In(),i=M(""),o=M([]);et(async()=>{try{e.value&&(n.value=await gP(e.value.id),o.value=await mx(),o.value=o.value.filter(l=>l.id!==e.value.id))}catch(l){console.error("Error: ",l)}finally{s.value=!1}});function a(l){const u=Object.keys(l.users).find(d=>d!==e.value.id);l.id?r.push(`/usuario/${u}/chat`):r.push(`/usuario/${u}/chat?nuevo=true`)}const c=ae(()=>{if(!i.value)return n.value;const l=i.value.toLowerCase().trim(),u=n.value.map(y=>Object.keys(y.users).find(w=>w!==e.value.id)),d=o.value.filter(y=>{var I,E;const w=((I=y.nombre)==null?void 0:I.toLowerCase())||"",T=((E=y.displayName)==null?void 0:E.toLowerCase())||"";return w.includes(l)||T.includes(l)}),f=d.filter(y=>u.includes(y.id)),p=d.filter(y=>!u.includes(y.id)),m=n.value.filter(y=>{const w=Object.keys(y.users).find(T=>T!==e.value.id);return f.some(T=>T.id===w)}),A=p.map(y=>({id:null,isNew:!0,users:{[e.value.id]:{nombre:e.value.nombre},[y.id]:{nombre:y.nombre,displayName:y.displayName}}}));return[...m,...A]});return(l,u)=>(S(),k(re,null,[b(Vn,{loading:s.value},null,8,["loading"]),b(Kt,{title:"Mensajes",route:"home",hasBackground:!0}),b(St,null,{default:$(()=>[h("div",ZM,[lt(h("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=d=>i.value=d),class:"form-control",placeholder:"Buscar chat por nombre"},null,512),[[Rs,i.value]])]),h("div",null,[h("ul",null,[(S(!0),k(re,null,it(v(c),d=>{var f;return S(),k("li",{key:d.id,onClick:p=>a(d)},[b(XM,{chat:d,userAuthenticatedID:(f=v(e))==null?void 0:f.id},null,8,["chat","userAuthenticatedID"])],8,eU)}),128))]),!v(c).length&&i.value?(S(),k("p",tU," No se encontraron chats con ese nombre. ")):Me("",!0)])]),_:1})],64))}},sU=pe(nU,[["__scopeId","data-v-8816c807"]]);const rU={},iU=t=>(Ke("data-v-2abd6d44"),t=t(),Je(),t),oU={class:"d-flex justify-content-center"},aU=iU(()=>h("div",{class:"spinner-border",role:"status"},[h("span",{class:"sr-only"})],-1)),cU=[aU];function lU(t,e){return S(),k("div",oU,cU)}const jh=pe(rU,[["render",lU],["__scopeId","data-v-2abd6d44"]]),k_={__name:"LoadingContext",props:{loading:{type:Boolean,default:!1}},setup(t){return(e,n)=>t.loading?(S(),Nt(jh,{key:1})):vc(e.$slots,"default",{key:0})}};const uU={__name:"Button",props:{full:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(t){return(e,n)=>(S(),k("button",{type:"submit",class:Le(["btn",{"w-full":t.full}])},[b(k_,{loading:t.loading},{default:$(()=>[vc(e.$slots,"default",{},()=>[ge("Enviar")],!0)]),_:3},8,["loading"])],2))}},gr=pe(uU,[["__scopeId","data-v-fc451b7c"]]);const dU={class:"input-wrapper"},hU=["type","placeholder","value"],fU={__name:"Input",props:{modelValue:String,type:{type:String,default:"text"},placeholder:{type:String,default:""}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,s=M(!1),r=ae(()=>n.type==="password"?s.value?"text":"password":n.type);function i(){s.value=!s.value}return(o,a)=>(S(),k("div",dU,[h("input",{type:v(r),placeholder:t.placeholder,class:"w-100 p-2 border border-slate-400 rounded-xl",value:t.modelValue,onInput:a[0]||(a[0]=c=>o.$emit("update:modelValue",c.target.value))},null,40,hU),n.type==="password"?(S(),k("span",{key:0,class:"toggle-icon",onClick:i},[h("i",{class:Le(s.value?"fa fa-eye-slash":"fa fa-eye")},null,2)])):Me("",!0)]))}},vt=pe(fU,[["__scopeId","data-v-96a15026"]]);const qh=t=>(Ke("data-v-02716286"),t=t(),Je(),t),pU=qh(()=>h("div",{class:"d-flex justify-content-center mb-4"},[h("img",{src:c_,alt:"Logo Doble-5",class:"ancho-logo my-4"})],-1)),mU={class:"row mb-3"},gU=["onSubmit"],AU={class:"mb-4"},vU=qh(()=>h("label",{for:"email",style:{"margin-left":"0.3rem","font-weight":"500","padding-bottom":"0.5rem"}},"Email",-1)),yU={class:"mb-2"},_U=qh(()=>h("label",{for:"password",style:{"margin-left":"0.3rem","font-weight":"500","padding-bottom":"0.5rem"}},"Contraseña",-1)),wU={class:"row"},bU={class:"col-12 text-center mb-2"},EU={class:"col-12 mt-3 d-flex justify-content-center"},IU={__name:"Login",setup(t){const{setFeedbackMessage:e,clearFeedbackMessage:n}=Ge(os),s=In(),r=M({email:"",password:""}),i=M(!1);async function o(){i.value=!0,n();try{await gx({...r.value}),s.push("/home")}catch{e({type:"error",message:"Usuario y/o contraseña incorrectos."})}finally{i.value=!1}}return(a,c)=>{const l=Xt("router-link");return S(),k(re,null,[b(Vn,{loading:i.value},null,8,["loading"]),b(St,null,{default:$(()=>[pU,h("div",mU,[h("form",{onSubmit:En(o,["prevent"])},[h("div",AU,[vU,b(vt,{type:"email",name:"email",id:"email",placeholder:"E-mail",modelValue:r.value.email,"onUpdate:modelValue":c[0]||(c[0]=u=>r.value.email=u)},null,8,["modelValue"])]),h("div",yU,[_U,b(vt,{type:"password",name:"password",id:"password",placeholder:"Contraseña",class:"mb-4",modelValue:r.value.password,"onUpdate:modelValue":c[1]||(c[1]=u=>r.value.password=u)},null,8,["modelValue"])]),b(gr,{disabled:i.value,class:"fw-semibold text-white py-3 my-2"},{default:$(()=>[ge("INICIAR SESIÓN")]),_:1},8,["disabled"])],40,gU)]),h("div",wU,[h("div",bU,[b(l,{to:"/reset-user",class:"fw-semibold"},{default:$(()=>[ge("¿Olvidaste tu contraseña?")]),_:1})]),h("div",EU,[b(l,{to:"/registro"},{default:$(()=>[b(gr,{class:"fw-semibold text-white py-3 px-5 register-button"},{default:$(()=>[ge("CREAR UNA CUENTA")]),_:1})]),_:1})])])]),_:1})],64)}}},SU=pe(IU,[["__scopeId","data-v-02716286"]]);function _m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function fs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_m(Object(n),!0).forEach(function(s){CU(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_m(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function CU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(t).reduce((n,s)=>(e.includes(s)||(n[s]=v(t[s])),n),{})}function oc(t){return typeof t=="function"}function kU(t){return tr(t)||ar(t)}function T_(t,e,n){let s=t;const r=e.split(".");for(let i=0;i<r.length;i++){if(!s[r[i]])return n;s=s[r[i]]}return s}function Xl(t,e,n){return ae(()=>t.some(s=>T_(e,s,{[n]:!1})[n]))}function bm(t,e,n){return ae(()=>t.reduce((s,r)=>{const i=T_(e,r,{[n]:!1})[n]||[];return s.concat(i)},[]))}function R_(t,e,n,s){return t.call(s,v(e),v(n),s)}function x_(t){return t.$valid!==void 0?!t.$valid:!t}function TU(t,e,n,s,r,i,o){let{$lazy:a,$rewardEarly:c}=r,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0,f=arguments.length>10?arguments[10]:void 0;const p=M(!!s.value),m=M(0);n.value=!1;const A=Ye([e,s].concat(l,f),()=>{if(a&&!s.value||c&&!d.value&&!n.value)return;let y;try{y=R_(t,e,u,o)}catch(w){y=Promise.reject(w)}m.value++,n.value=!!m.value,p.value=!1,Promise.resolve(y).then(w=>{m.value--,n.value=!!m.value,i.value=w,p.value=x_(w)}).catch(w=>{m.value--,n.value=!!m.value,i.value=w,p.value=!0})},{immediate:!0,deep:typeof e=="object"});return{$invalid:p,$unwatch:A}}function RU(t,e,n,s,r,i,o,a){let{$lazy:c,$rewardEarly:l}=s;const u=()=>({}),d=ae(()=>{if(c&&!n.value||l&&!a.value)return!1;let f=!0;try{const p=R_(t,e,o,i);r.value=p,f=x_(p)}catch(p){r.value=p}return f});return{$unwatch:u,$invalid:d}}function xU(t,e,n,s,r,i,o,a,c,l,u){const d=M(!1),f=t.$params||{},p=M(null);let m,A;t.$async?{$invalid:m,$unwatch:A}=TU(t.$validator,e,d,n,s,p,r,t.$watchTargets,c,l,u):{$invalid:m,$unwatch:A}=RU(t.$validator,e,n,s,p,r,c,l);const y=t.$message;return{$message:oc(y)?ae(()=>y(wm({$pending:d,$invalid:m,$params:wm(f),$model:e,$response:p,$validator:i,$propertyPath:a,$property:o}))):y||"",$params:f,$pending:d,$invalid:m,$response:p,$unwatch:A}}function OU(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=v(t),n=Object.keys(e),s={},r={},i={};let o=null;return n.forEach(a=>{const c=e[a];switch(!0){case oc(c.$validator):s[a]=c;break;case oc(c):s[a]={$validator:c};break;case a==="$validationGroups":o=c;break;case a.startsWith("$"):i[a]=c;break;default:r[a]=c}}),{rules:s,nestedValidators:r,config:i,validationGroups:o}}const DU="__root";function NU(t,e,n,s,r,i,o,a,c){const l=Object.keys(t),u=s.get(r,t),d=M(!1),f=M(!1),p=M(0);if(u){if(!u.$partial)return u;u.$unwatch(),d.value=u.$dirty.value}const m={$dirty:d,$path:r,$touch:()=>{d.value||(d.value=!0)},$reset:()=>{d.value&&(d.value=!1)},$commit:()=>{}};return l.length?(l.forEach(A=>{m[A]=xU(t[A],e,m.$dirty,i,o,A,n,r,c,f,p)}),m.$externalResults=ae(()=>a.value?[].concat(a.value).map((A,y)=>({$propertyPath:r,$property:n,$validator:"$externalResults",$uid:`${r}-externalResult-${y}`,$message:A,$params:{},$response:null,$pending:!1})):[]),m.$invalid=ae(()=>{const A=l.some(y=>v(m[y].$invalid));return f.value=A,!!m.$externalResults.value.length||A}),m.$pending=ae(()=>l.some(A=>v(m[A].$pending))),m.$error=ae(()=>m.$dirty.value?m.$pending.value||m.$invalid.value:!1),m.$silentErrors=ae(()=>l.filter(A=>v(m[A].$invalid)).map(A=>{const y=m[A];return Ps({$propertyPath:r,$property:n,$validator:A,$uid:`${r}-${A}`,$message:y.$message,$params:y.$params,$response:y.$response,$pending:y.$pending})}).concat(m.$externalResults.value)),m.$errors=ae(()=>m.$dirty.value?m.$silentErrors.value:[]),m.$unwatch=()=>l.forEach(A=>{m[A].$unwatch()}),m.$commit=()=>{f.value=!0,p.value=Date.now()},s.set(r,t,m),m):(u&&s.set(r,t,m),m)}function PU(t,e,n,s,r,i,o){const a=Object.keys(t);return a.length?a.reduce((c,l)=>(c[l]=Gu({validations:t[l],state:e,key:l,parentKey:n,resultsCache:s,globalConfig:r,instance:i,externalResults:o}),c),{}):{}}function MU(t,e,n){const s=ae(()=>[e,n].filter(m=>m).reduce((m,A)=>m.concat(Object.values(v(A))),[])),r=ae({get(){return t.$dirty.value||(s.value.length?s.value.every(m=>m.$dirty):!1)},set(m){t.$dirty.value=m}}),i=ae(()=>{const m=v(t.$silentErrors)||[],A=s.value.filter(y=>(v(y).$silentErrors||[]).length).reduce((y,w)=>y.concat(...w.$silentErrors),[]);return m.concat(A)}),o=ae(()=>{const m=v(t.$errors)||[],A=s.value.filter(y=>(v(y).$errors||[]).length).reduce((y,w)=>y.concat(...w.$errors),[]);return m.concat(A)}),a=ae(()=>s.value.some(m=>m.$invalid)||v(t.$invalid)||!1),c=ae(()=>s.value.some(m=>v(m.$pending))||v(t.$pending)||!1),l=ae(()=>s.value.some(m=>m.$dirty)||s.value.some(m=>m.$anyDirty)||r.value),u=ae(()=>r.value?c.value||a.value:!1),d=()=>{t.$touch(),s.value.forEach(m=>{m.$touch()})},f=()=>{t.$commit(),s.value.forEach(m=>{m.$commit()})},p=()=>{t.$reset(),s.value.forEach(m=>{m.$reset()})};return s.value.length&&s.value.every(m=>m.$dirty)&&d(),{$dirty:r,$errors:o,$invalid:a,$anyDirty:l,$error:u,$pending:c,$touch:d,$reset:p,$silentErrors:i,$commit:f}}function Gu(t){let{validations:e,state:n,key:s,parentKey:r,childResults:i,resultsCache:o,globalConfig:a={},instance:c,externalResults:l}=t;const u=r?`${r}.${s}`:s,{rules:d,nestedValidators:f,config:p,validationGroups:m}=OU(e),A=fs(fs({},a),p),y=s?ae(()=>{const Oe=v(n);return Oe?v(Oe[s]):void 0}):n,w=fs({},v(l)||{}),T=ae(()=>{const Oe=v(l);return s?Oe?v(Oe[s]):void 0:Oe}),I=NU(d,y,s,o,u,A,c,T,n),E=PU(f,y,u,o,A,c,T),O={};m&&Object.entries(m).forEach(Oe=>{let[ft,Qe]=Oe;O[ft]={$invalid:Xl(Qe,E,"$invalid"),$error:Xl(Qe,E,"$error"),$pending:Xl(Qe,E,"$pending"),$errors:bm(Qe,E,"$errors"),$silentErrors:bm(Qe,E,"$silentErrors")}});const{$dirty:G,$errors:Y,$invalid:H,$anyDirty:me,$error:oe,$pending:xe,$touch:qe,$reset:_t,$silentErrors:kt,$commit:ze}=MU(I,E,i),Ce=s?ae({get:()=>v(y),set:Oe=>{G.value=!0;const ft=v(n),Qe=v(l);Qe&&(Qe[s]=w[s]),rt(ft[s])?ft[s].value=Oe:ft[s]=Oe}}):null;s&&A.$autoDirty&&Ye(y,()=>{G.value||qe();const Oe=v(l);Oe&&(Oe[s]=w[s])},{flush:"sync"});async function be(){return qe(),A.$rewardEarly&&(ze(),await zi()),await zi(),new Promise(Oe=>{if(!xe.value)return Oe(!H.value);const ft=Ye(xe,()=>{Oe(!H.value),ft()})})}function Te(Oe){return(i.value||{})[Oe]}function Zt(){rt(l)?l.value=w:Object.keys(w).length===0?Object.keys(l).forEach(Oe=>{delete l[Oe]}):Object.assign(l,w)}return Ps(fs(fs(fs({},I),{},{$model:Ce,$dirty:G,$error:oe,$errors:Y,$invalid:H,$anyDirty:me,$pending:xe,$touch:qe,$reset:_t,$path:u||DU,$silentErrors:kt,$validate:be,$commit:ze},i&&{$getResultsForChild:Te,$clearExternalResults:Zt,$validationGroups:O}),E))}class UU{constructor(){this.storage=new Map}set(e,n,s){this.storage.set(e,{rules:n,result:s})}checkRulesValidity(e,n,s){const r=Object.keys(s),i=Object.keys(n);return i.length!==r.length||!i.every(a=>r.includes(a))?!1:i.every(a=>n[a].$params?Object.keys(n[a].$params).every(c=>v(s[a].$params[c])===v(n[a].$params[c])):!0)}get(e,n){const s=this.storage.get(e);if(!s)return;const{rules:r,result:i}=s,o=this.checkRulesValidity(e,n,r),a=i.$unwatch?i.$unwatch:()=>({});return o?i:{$dirty:i.$dirty,$partial:!0,$unwatch:a}}}const Ia={COLLECT_ALL:!0,COLLECT_NONE:!1},Em=Symbol("vuelidate#injectChildResults"),Im=Symbol("vuelidate#removeChildResults");function LU(t){let{$scope:e,instance:n}=t;const s={},r=M([]),i=ae(()=>r.value.reduce((u,d)=>(u[d]=v(s[d]),u),{}));function o(u,d){let{$registerAs:f,$scope:p,$stopPropagation:m}=d;m||e===Ia.COLLECT_NONE||p===Ia.COLLECT_NONE||e!==Ia.COLLECT_ALL&&e!==p||(s[f]=u,r.value.push(f))}n.__vuelidateInjectInstances=[].concat(n.__vuelidateInjectInstances||[],o);function a(u){r.value=r.value.filter(d=>d!==u),delete s[u]}n.__vuelidateRemoveInstances=[].concat(n.__vuelidateRemoveInstances||[],a);const c=Ge(Em,[]);bs(Em,n.__vuelidateInjectInstances);const l=Ge(Im,[]);return bs(Im,n.__vuelidateRemoveInstances),{childResults:i,sendValidationResultsToParent:c,removeValidationResultsFromParent:l}}function O_(t){return new Proxy(t,{get(e,n){return typeof e[n]=="object"?O_(e[n]):ae(()=>e[n])}})}let Sm=0;function BU(t,e){var n;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(s=t,t=void 0,e=void 0);let{$registerAs:r,$scope:i=Ia.COLLECT_ALL,$stopPropagation:o,$externalResults:a,currentVueInstance:c}=s;const l=c||((n=_g())===null||n===void 0?void 0:n.proxy),u=l?l.$options:{};r||(Sm+=1,r=`_vuelidate_${Sm}`);const d=M({}),f=new UU,{childResults:p,sendValidationResultsToParent:m,removeValidationResultsFromParent:A}=l?LU({$scope:i,instance:l}):{childResults:M({})};if(!t&&u.validations){const y=u.validations;e=M({}),dd(()=>{e.value=l,Ye(()=>oc(y)?y.call(e.value,new O_(e.value)):y,w=>{d.value=Gu({validations:w,state:e,childResults:p,resultsCache:f,globalConfig:s,instance:l,externalResults:a||l.vuelidateExternalResults})},{immediate:!0})}),s=u.validationsConfig||s}else{const y=rt(t)||kU(t)?t:Ps(t||{});Ye(y,w=>{d.value=Gu({validations:w,state:e,childResults:p,resultsCache:f,globalConfig:s,instance:l??{},externalResults:a})},{immediate:!0})}return l&&(m.forEach(y=>y(d,{$registerAs:r,$scope:i,$stopPropagation:o})),hd(()=>A.forEach(y=>y(r)))),ae(()=>fs(fs({},v(d.value)),p.value))}function Cm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function Ao(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cm(Object(n),!0).forEach(function(s){FU(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cm(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function FU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ac(t){return typeof t=="function"}function zu(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function yl(t){return ac(t.$validator)?Ao({},t):{$validator:t}}function D_(t){return typeof t=="object"?t.$valid:t}function N_(t){return t.$validator||t}function VU(t,e){if(!zu(t))throw new Error(`[@vuelidate/validators]: First parameter to "withParams" should be an object, provided ${typeof t}`);if(!zu(e)&&!ac(e))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const n=yl(e);return n.$params=Ao(Ao({},n.$params||{}),t),n}function $U(t,e){if(!ac(t)&&typeof v(t)!="string")throw new Error(`[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided ${typeof t}`);if(!zu(e)&&!ac(e))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const n=yl(e);return n.$message=t,n}function jU(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=yl(t);return Ao(Ao({},n),{},{$async:!0,$watchTargets:e})}function qU(t){return{$validator(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return v(e).reduce((i,o,a)=>{const c=Object.entries(o).reduce((l,u)=>{let[d,f]=u;const p=t[d]||{},m=Object.entries(p).reduce((A,y)=>{let[w,T]=y;const E=N_(T).call(this,f,o,a,...s),O=D_(E);if(A.$data[w]=E,A.$data.$invalid=!O||!!A.$data.$invalid,A.$data.$error=A.$data.$invalid,!O){let G=T.$message||"";const Y=T.$params||{};typeof G=="function"&&(G=G({$pending:!1,$invalid:!O,$params:Y,$model:f,$response:E})),A.$errors.push({$property:d,$message:G,$params:Y,$response:E,$model:f,$pending:!1,$validator:w})}return{$valid:A.$valid&&O,$data:A.$data,$errors:A.$errors}},{$valid:!0,$data:{},$errors:[]});return l.$data[d]=m.$data,l.$errors[d]=m.$errors,{$valid:l.$valid&&m.$valid,$data:l.$data,$errors:l.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:i.$valid&&c.$valid,$data:i.$data.concat(c.$data),$errors:i.$errors.concat(c.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:e=>{let{$response:n}=e;return n?n.$errors.map(s=>Object.values(s).map(r=>r.map(i=>i.$message)).reduce((r,i)=>r.concat(i),[])):[]}}}const _l=t=>{if(t=v(t),Array.isArray(t))return!!t.length;if(t==null)return!1;if(t===!1)return!0;if(t instanceof Date)return!isNaN(t.getTime());if(typeof t=="object"){for(let e in t)return!0;return!1}return!!String(t).length},P_=t=>(t=v(t),Array.isArray(t)?t.length:typeof t=="object"?Object.keys(t).length:String(t).length);function Fs(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return s=>(s=v(s),!_l(s)||e.every(r=>(r.lastIndex=0,r.test(s))))}var HU=Object.freeze({__proto__:null,forEach:qU,len:P_,normalizeValidatorObject:yl,regex:Fs,req:_l,unwrap:v,unwrapNormalizedValidator:N_,unwrapValidatorResponse:D_,withAsync:jU,withMessage:$U,withParams:VU});Fs(/^[a-zA-Z]*$/);Fs(/^[a-zA-Z0-9]*$/);Fs(/^\d*(\.\d+)?$/);const KU=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var JU=Fs(KU),QU={$validator:JU,$message:"Value is not a valid email address",$params:{type:"email"}};function WU(t){return e=>!_l(e)||P_(e)>=v(t)}function GU(t){return{$validator:WU(t),$message:e=>{let{$params:n}=e;return`This field should be at least ${n.min} characters long`},$params:{min:t,type:"minLength"}}}function zU(t){return typeof t=="string"&&(t=t.trim()),_l(t)}var qn={$validator:zU,$message:"Value is required",$params:{type:"required"}};const YU=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;Fs(YU);Fs(/(^[0-9]*$)|(^-[0-9]+$)/);Fs(/^[-]?\d*(\.\d+)?$/);const hn=t=>(Ke("data-v-66536597"),t=t(),Je(),t),XU=hn(()=>h("section",{class:"col-12"},[h("p",{class:"h6 fw-bold ms-3 mt-3"},"TUS DATOS"),h("p",{class:"border m-line w-15"})],-1)),ZU={class:""},eL=hn(()=>h("label",{for:"nombre"},"Nombre:",-1)),tL={key:0,class:"text-danger"},nL={class:""},sL=hn(()=>h("label",{for:"apellido"},"Apellido:",-1)),rL={key:0,class:"text-danger"},iL={class:""},oL=hn(()=>h("label",{for:"email"},"Email:",-1)),aL={key:0,class:"text-danger"},cL={class:""},lL=hn(()=>h("label",{for:"password"},"Contraseña:",-1)),uL={key:0,class:"text-danger"},dL={class:""},hL=hn(()=>h("label",{for:"nacimiento"},"Fecha de nacimiento:",-1)),fL={key:0,class:"text-danger"},pL={class:""},mL=hn(()=>h("label",{for:"genero"},"Genero:",-1)),gL=hn(()=>h("option",{value:"",disabled:""},"Género",-1)),AL=hn(()=>h("option",{value:"Masculino"},"Masculino",-1)),vL=hn(()=>h("option",{value:"Femenino"},"Femenino",-1)),yL=[gL,AL,vL],_L={key:0,class:"text-danger"},wL={class:""},bL=hn(()=>h("label",{for:"barrio"},"Barrio:",-1)),EL=["value"],IL={key:0,class:"text-danger"},SL={class:""},CL=hn(()=>h("label",{for:"telefono"},"Telefono:",-1)),kL={key:0,class:"text-danger"},TL={class:"mb-3 row d-flex align-items-center"},RL={class:"col-2"},xL={class:"col-10"},OL={class:"m-0"},DL={key:0,class:"text-danger"},NL={__name:"Register",setup(t){const e=hi(),n=M([]);function s(){const f=In(),p=M({email:"",password:"",nombre:"",apellido:"",nacimiento:"",genero:"",comentario:"",barrio:"",telefono:"",terminos:null}),m=M(!1);async function A(){m.value=!0,d.value=!0,u.value.$touch(),!u.value.$invalid&&(await Ax({...p.value}),f.push("/home"),m.value=!1)}return{fields:p,loading:m,handleSubmit:A}}const{fields:r,loading:i,handleSubmit:o}=s(),a=f=>/^\d+$/.test(f),c=HU.withMessage("Debes aceptar los términos y condiciones",f=>f===!0),l={nombre:{required:qn},apellido:{required:qn},email:{required:qn,email:QU},password:{required:qn,minLength:GU(8)},nacimiento:{required:qn},genero:{required:qn},barrio:{required:qn},telefono:{required:qn,soloNumeros:a},terminos:{required:qn,mustBeTrue:c}},u=BU(l,r),d=M(!1);return et(async()=>{const f=we(e,"barrios","capital_federal"),p=await It(f);p.exists()?(n.value=p.data().nombres||[],console.log(n.value)):console.warn("Documento capital_federal no encontrado")}),(f,p)=>(S(),k(re,null,[b(Vn,{loading:v(i)},null,8,["loading"]),b(Kt,{route:"/iniciar-sesion",title:"Registrarme"}),b(St,null,{default:$(()=>[XU,h("form",{onSubmit:p[18]||(p[18]=En((...m)=>v(o)&&v(o)(...m),["prevent"]))},[h("div",ZU,[eL,b(vt,{class:Le(v(u).nombre.$error?"inputError":""),type:"text",name:"nombre",id:"nombre",placeholder:"Nombre",modelValue:v(r).nombre,"onUpdate:modelValue":p[0]||(p[0]=m=>v(r).nombre=m),onBlur:p[1]||(p[1]=m=>v(u).nombre.$touch())},null,8,["class","modelValue"]),v(u).nombre.$error?(S(),k("span",tL,"Por favor, ingrese un nombre.")):Me("",!0)]),h("div",nL,[sL,b(vt,{class:Le(v(u).apellido.$error?"inputError":""),type:"text",name:"apellido",id:"apellido",placeholder:"Apellido",modelValue:v(r).apellido,"onUpdate:modelValue":p[2]||(p[2]=m=>v(r).apellido=m),onBlur:p[3]||(p[3]=m=>v(u).apellido.$touch())},null,8,["class","modelValue"]),v(u).apellido.$error?(S(),k("span",rL,"Por favor, ingrese un apellido.")):Me("",!0)]),h("div",iL,[oL,b(vt,{class:Le((v(u).email.$error,"")),type:"email",name:"email",id:"email",placeholder:"E-mail",modelValue:v(r).email,"onUpdate:modelValue":p[4]||(p[4]=m=>v(r).email=m),onBlur:p[5]||(p[5]=m=>v(u).email.$touch())},null,8,["class","modelValue"]),v(u).email.$error?(S(),k("span",aL,"Por favor, ingrese un correo electrónico válido.")):Me("",!0)]),h("div",cL,[lL,b(vt,{class:Le((v(u).password.$error,"")),type:"password",name:"password",id:"password",placeholder:"Contraseña",modelValue:v(r).password,"onUpdate:modelValue":p[6]||(p[6]=m=>v(r).password=m),onBlur:p[7]||(p[7]=m=>v(u).password.$touch())},null,8,["class","modelValue"]),v(u).password.$error?(S(),k("span",uL,"La contraseña es obligatoria y debe tener al menos 8 caracteres.")):Me("",!0)]),h("div",dL,[hL,b(vt,{class:Le((v(u).nacimiento.$error,"")),type:"date",name:"nacimiento",id:"nacimiento",placeholder:"Nacimiento",modelValue:v(r).nacimiento,"onUpdate:modelValue":p[8]||(p[8]=m=>v(r).nacimiento=m),onBlur:p[9]||(p[9]=m=>v(u).nacimiento.$touch())},null,8,["class","modelValue"]),v(u).nacimiento.$error?(S(),k("span",fL,"Por favor, ingrese una fecha de nacimiento.")):Me("",!0)]),h("div",pL,[mL,lt(h("select",{name:"genero",id:"genero","onUpdate:modelValue":p[10]||(p[10]=m=>v(r).genero=m),onBlur:p[11]||(p[11]=m=>v(u).genero.$touch()),class:Le((v(u).genero.$error,""))},yL,34),[[zs,v(r).genero]]),v(u).genero.$error?(S(),k("span",_L,"Por favor, seleccione una opción.")):Me("",!0)]),h("div",wL,[bL,lt(h("select",{name:"barrio",id:"barrio","onUpdate:modelValue":p[12]||(p[12]=m=>v(r).barrio=m),onBlur:p[13]||(p[13]=m=>v(u).barrio.$touch()),class:Le((v(u).barrio.$error,""))},[(S(!0),k(re,null,it(n.value,m=>(S(),k("option",{key:m,value:m},F(m),9,EL))),128))],34),[[zs,v(r).barrio]]),v(u).barrio.$error?(S(),k("span",IL,"Por favor, seleccione un barrio.")):Me("",!0)]),h("div",SL,[CL,b(vt,{class:Le((v(u).telefono.$error,"")),type:"number",name:"telefono",id:"telefono",placeholder:"Teléfono",modelValue:v(r).telefono,"onUpdate:modelValue":p[14]||(p[14]=m=>v(r).telefono=m),onBlur:p[15]||(p[15]=m=>v(u).telefono.$touch())},null,8,["class","modelValue"]),v(u).telefono.$error?(S(),k("span",kL,"Por favor, ingrese un número de teléfono.")):Me("",!0)]),h("div",TL,[h("div",RL,[lt(h("input",{type:"checkbox",name:"terminos",id:"terminos","onUpdate:modelValue":p[16]||(p[16]=m=>v(r).terminos=m),onBlur:p[17]||(p[17]=m=>v(u).terminos.$touch())},null,544),[[c0,v(r).terminos]])]),h("div",xL,[h("p",OL,[ge(" Acepto los "),b(v(y_),{to:"/terminos"},{default:$(()=>[ge("términos y condiciones")]),_:1}),ge(" de uso. ")])]),v(u).terminos.$error?(S(),k("span",DL," Por favor, acepte los términos y condiciones para continuar. ")):Me("",!0)]),b(gr,{full:"",class:"mb-3 fw-semibold text-white"},{default:$(()=>[ge("REGISTRARME")]),_:1})],32)]),_:1})],64))}},PL=pe(NL,[["__scopeId","data-v-66536597"]]),ML={},UL={class:"d-block mb-2"};function LL(t,e){return S(),k("label",UL,[vc(t.$slots,"default")])}const kn=pe(ML,[["render",LL]]);const BL=t=>(Ke("data-v-18f94b0d"),t=t(),Je(),t),FL={class:"row d-flex"},VL={class:"col-12 mb-3 d-flex justify-content-center"},$L={class:"w-50"},jL={class:"col-12"},qL={class:"mb-3"},HL={class:"mb-3"},KL={class:"mb-3"},JL={class:"mb-3"},QL={class:"mb-3"},WL={class:"mb-3"},GL={class:"mb-3"},zL={class:"mb-3"},YL={class:"mb-3"},XL={key:0,class:"row mb-3"},ZL={class:"col-12 d-flex flex-column align-items-center"},eB=BL(()=>h("p",{class:"mb-3 fw-bold"},"Previsualización de la imagen:",-1)),tB={class:"w-50"},nB=["src"],sB={__name:"UserProfileForm",setup(t){const{user:e}=ht(),{form:n,loading:s,handleSubmit:r,handleFile:i}=l(e),{feedback:o,setFeedbackMessage:a,clearFeedbackMessage:c}=Ge(os);function l(u){const d=M({displayName:"",nombre:"",apellido:"",email:"",nacimiento:"",followers:[],following:[],genero:"",barrio:"",telefono:"",photoURL:null}),f=M(!1);M({message:"",type:"success",title:""}),Ye(u,A=>{d.value.displayName=A.displayName,d.value.nombre=A.nombre,d.value.apellido=A.apellido,d.value.email=A.email,d.value.nacimiento=A.nacimiento,d.value.followers=A.followers,d.value.following=A.following,d.value.genero=A.genero,d.value.barrio=A.barrio,d.value.telefono=A.telefono});async function p(){f.value=!0;try{c(),console.log("Valores en form:",d.value),await Zy(u.value.id,{...d.value}),f.value=!1,d.value.photoURL=null,a({type:"success",message:"La información de tu perfil fue actualizada con éxito."});const A=new CustomEvent("profile-updated");window.dispatchEvent(A)}catch(A){console.error("[MyProfile handleSubmit]",A),a({type:"error",message:"Ocurrió un error inesperado al tratar de actualizar la información de tu perfil."})}}async function m(A){const y=A.target.files[0],w=new FileReader;w.addEventListener("load",()=>{d.value.photoURL=w.result}),w.readAsDataURL(y)}return{form:d,loading:f,handleSubmit:p,handleFile:m}}return(u,d)=>(S(),k("div",FL,[h("div",VL,[h("div",$L,[b(sn,{src:v(e).photoURL},null,8,["src"])])]),h("div",jL,[h("form",{action:"#",method:"POST",onSubmit:d[8]||(d[8]=En((...f)=>v(r)&&v(r)(...f),["prevent"]))},[h("div",qL,[b(kn,{for:"displayName",class:"me-3 fw-bold"},{default:$(()=>[ge("NOMBRE DE USUARIO: ")]),_:1}),b(vt,{id:"displayName",modelValue:v(n).displayName,"onUpdate:modelValue":d[0]||(d[0]=f=>v(n).displayName=f)},null,8,["modelValue"])]),h("div",HL,[b(kn,{for:"nombre",class:"me-3 fw-bold"},{default:$(()=>[ge("NOMBRE: ")]),_:1}),b(vt,{id:"nombre",modelValue:v(n).nombre,"onUpdate:modelValue":d[1]||(d[1]=f=>v(n).nombre=f)},null,8,["modelValue"])]),h("div",KL,[b(kn,{for:"apellido",class:"me-3 fw-bold"},{default:$(()=>[ge("APELLIDO: ")]),_:1}),b(vt,{id:"apellido",modelValue:v(n).apellido,"onUpdate:modelValue":d[2]||(d[2]=f=>v(n).apellido=f)},null,8,["modelValue"])]),h("div",JL,[b(kn,{for:"email",class:"me-3 fw-bold"},{default:$(()=>[ge("EMAIL: ")]),_:1}),b(vt,{id:"Email",modelValue:v(n).email,"onUpdate:modelValue":d[3]||(d[3]=f=>v(n).email=f)},null,8,["modelValue"])]),h("div",QL,[b(kn,{for:"nacimiento",class:"me-3 fw-bold"},{default:$(()=>[ge("FECHA DE NACIMIENTO: ")]),_:1}),b(vt,{type:"date",id:"nacimiento",modelValue:v(n).nacimiento,"onUpdate:modelValue":d[4]||(d[4]=f=>v(n).nacimiento=f)},null,8,["modelValue"])]),h("div",WL,[b(kn,{for:"genero",class:"me-3 fw-bold"},{default:$(()=>[ge("GÉNERO: ")]),_:1}),b(vt,{id:"genero",modelValue:v(n).genero,"onUpdate:modelValue":d[5]||(d[5]=f=>v(n).genero=f)},null,8,["modelValue"])]),h("div",GL,[b(kn,{for:"barrio",class:"me-3 fw-bold"},{default:$(()=>[ge("BARRIO: ")]),_:1}),b(vt,{id:"barrio",modelValue:v(n).barrio,"onUpdate:modelValue":d[6]||(d[6]=f=>v(n).barrio=f)},null,8,["modelValue"])]),h("div",zL,[b(kn,{for:"telefono",class:"me-3 fw-bold"},{default:$(()=>[ge("TELÉFONO: ")]),_:1}),b(vt,{id:"telefono",modelValue:v(n).telefono,"onUpdate:modelValue":d[7]||(d[7]=f=>v(n).telefono=f)},null,8,["modelValue"])]),h("div",YL,[b(kn,{for:"photoURL",class:"fw-bold"},{default:$(()=>[ge("FOTO DE PERFIL: ")]),_:1}),b(vt,{type:"file",id:"photoURL",onChange:v(i)},null,8,["onChange"])]),v(n).photoURL!==null?(S(),k("div",XL,[h("div",ZL,[eB,h("div",tB,[h("img",{src:v(n).photoURL,alt:"Previsualización foto de perfil",class:"w-100"},null,8,nB)])])])):Me("",!0),b(gr,{class:"btn w-100 save_changes"},{default:$(()=>[b(k_,{loading:v(s)},{default:$(()=>[ge(" GUARDAR CAMBIOS ")]),_:1},8,["loading"])]),_:1})],32)])]))}},rB=pe(sB,[["__scopeId","data-v-18f94b0d"]]),iB="/assets/lapiz-c0a7bbac.png",oB=["onSubmit"],aB={class:"col-12 mb-3"},cB={class:"col-12 d-grid gap-2"},lB={__name:"changePhoto",emits:["preview","saved"],setup(t,{emit:e}){const{user:n}=ht(),{setFeedbackMessage:s,clearFeedbackMessage:r}=Ge(os),i=M({photoURL:null}),o=M(!1);function a(l){const u=l.target.files[0];if(!u)return;const d=new FileReader;d.addEventListener("load",()=>{i.value.photoURL=d.result,e("preview",d.result)}),d.readAsDataURL(u)}async function c(){if(i.value.photoURL){o.value=!0,r();try{await Zy(n.value.id,{displayName:n.value.displayName,nombre:n.value.nombre,apellido:n.value.apellido,email:n.value.email,nacimiento:n.value.nacimiento,followers:n.value.followers,following:n.value.following,valoraciones:n.value.valoraciones,genero:n.value.genero,barrio:n.value.barrio,telefono:n.value.telefono,photoURL:i.value.photoURL}),s({type:"success",message:"La foto de perfil fue actualizada con éxito."}),e("saved",!0)}catch(l){console.error("[handleSubmit] error al actualizar foto:",l),s({type:"error",message:"Ocurrió un error inesperado al tratar de actualizar la foto de perfil: "+(l.message||l)})}finally{o.value=!1}}}return(l,u)=>(S(),k("form",{onSubmit:En(c,["prevent"]),class:"row d-flex"},[h("div",aB,[b(kn,{for:"photoURL",class:"fw-bold"},{default:$(()=>[ge("Foto de Perfil:")]),_:1}),b(vt,{type:"file",id:"photoURL",onChange:a})]),h("div",cB,[b(gr,{class:"btn w-100",type:"submit",loading:o.value},{default:$(()=>[ge(" ACTUALIZAR MI FOTO ")]),_:1},8,["loading"])])],40,oB))}};const an=t=>(Ke("data-v-228630e9"),t=t(),Je(),t),uB={class:"row"},dB={class:"col-12 mb-3"},hB={class:"d-flex justify-content-center mb-3"},fB={class:"w-50"},pB=an(()=>h("img",{src:iB,alt:"icono lapiz"},null,-1)),mB=an(()=>h("button",null,"Editar foto.",-1)),gB=[pB,mB],AB={class:"h2 text-center m-0"},vB={class:"col-12 mb-3"},yB={class:"row"},_B={class:"col-6 mt-3 seguidores"},wB={class:"text-center fw-bold"},bB=an(()=>h("p",{class:"text-center fw-bold"},"Seguidores",-1)),EB={class:"col-6 mt-3 seguidores"},IB={class:"text-center fw-bold"},SB=an(()=>h("p",{class:"text-center fw-bold"},"Siguiendo",-1)),CB={class:"row"},kB={key:0,class:"d-grid gap-2 col-6"},TB={key:1,class:"d-grid gap-2 col-6"},RB={class:"col-12 mt-3"},xB={class:"d-flex flex-column justify-content-center ps-3"},OB=an(()=>h("dt",{class:"fw-light"},"NOMBRE DE USUARIO",-1)),DB={class:"mb-3 fw-bold"},NB=an(()=>h("dt",{class:"fw-light"},"NOMBRE",-1)),PB={class:"mb-3 fw-bold"},MB=an(()=>h("dt",{class:"fw-light"},"APELLIDO",-1)),UB={class:"mb-3 fw-bold"},LB=an(()=>h("dt",{class:"fw-light"},"EMAIL",-1)),BB={class:"mb-3 fw-bold"},FB=an(()=>h("dt",{class:"fw-light"},"FECHA DE NACIMIENTO",-1)),VB={class:"mb-3 fw-bold"},$B=an(()=>h("b",{style:{color:"var(--primary-color)"}},">>",-1)),jB={class:"estrellas"},qB={class:"promedio"},HB={class:"mb-1 text-muted"},KB={class:"comentario"},JB=an(()=>h("dt",{class:"fw-light"},"GÉNERO",-1)),QB={class:"mb-3 fw-bold"},WB=an(()=>h("dt",{class:"fw-light"},"BARRIO",-1)),GB={class:"mb-3 fw-bold"},zB=an(()=>h("dt",{class:"fw-light"},"TELÉFONO",-1)),YB={class:"mb-3 fw-bold"},XB={__name:"UserProfileData",props:{user:{type:Object,required:!0},totalSeguidores:{type:Number,default:0},totalSiguiendo:{type:Number,default:0},seguirDejarSeguir:{type:Function},userFollowing:{type:Boolean},mostrarBoton:{type:Boolean,default:!0},loading:{type:Boolean},isMyProfile:{type:Boolean}},setup(t){const e=t,n=In(),s=M(!1);M([]);function r(){s.value=!s.value,console.log("cambiar foto")}et(()=>{console.log(e)});function i(){Jo.push("/usuario/"+e.user.id+"/valorationList")}const o=ae(()=>{const u=e.user.valoraciones||[];if(u.length===0)return 0;const d=u.reduce((f,p)=>f+p.estrellas,0);return parseFloat((d/u.length).toFixed(1))}),a=ae(()=>{const u=e.user.valoraciones||[];return u.length===0?null:[...u].sort((f,p)=>new Date(p.fecha)-new Date(f.fecha))[0]});function c(){n.push(`/usuario/${e.user.id}/chat`)}function l(u){e.user.photoURL=u}return(u,d)=>{var p;const f=Xt("router-link");return S(),k("div",uB,[h("div",dB,[h("div",hB,[h("div",fB,[b(sn,{src:t.user.photoURL},null,8,["src"])])]),e.isMyProfile?(S(),k("div",{key:0,class:"change_photo d-flex justify-content-center mb-3",onClick:r},gB)):Me("",!0),s.value?(S(),Nt(lB,{key:1,class:"mb-3",onPreview:l,onSaved:d[0]||(d[0]=()=>s.value=!1)})):Me("",!0),h("p",AB,F(t.user.nombre)+" "+F(t.user.apellido),1)]),h("div",vB,[h("div",yB,[h("div",_B,[b(f,{to:"/red/",class:"text-decoration-none text-dark"},{default:$(()=>[h("p",wB,F(t.totalSeguidores),1),bB]),_:1})]),h("div",EB,[b(f,{to:"/red/",class:"text-decoration-none text-dark"},{default:$(()=>[h("p",IB,F(t.totalSiguiendo),1),SB]),_:1})])]),h("div",CB,[e.isMyProfile?Me("",!0):(S(),k("div",kB,[t.mostrarBoton?(S(),k("button",{key:0,onClick:d[1]||(d[1]=(...m)=>t.seguirDejarSeguir&&t.seguirDejarSeguir(...m)),class:"button_top"},F(t.userFollowing?"DEJAR DE SEGUIR":"SEGUIR"),1)):Me("",!0)])),t.userFollowing?(S(),k("div",TB,[h("button",{class:"button_top",onClick:d[2]||(d[2]=m=>c())},"MENSAJE")])):Me("",!0)])]),h("div",RB,[h("dl",xB,[OB,h("dd",DB,F(t.user.displayName||"No especificado"),1),NB,h("dd",PB,F(t.user.nombre||"No especificado"),1),MB,h("dd",UB,F(t.user.apellido||"No especificado"),1),LB,h("dd",BB,F(t.user.email),1),FB,h("dd",VB,F(t.user.nacimiento),1),h("dt",{class:"fw-bold",onClick:d[3]||(d[3]=m=>i())},[ge(" VALORACIONES "),$B]),h("div",{class:"valoracion-general",onClick:d[4]||(d[4]=m=>i())},[h("div",jB,[(S(),k(re,null,it(5,m=>h("span",{key:m,class:Le(["estrella",{activa:m<=Math.round(v(o))}])},"★",2)),64)),h("span",qB,"("+F(v(o))+"/5)",1)]),h("div",HB,[h("p",KB,F(((p=v(a))==null?void 0:p.comentario)||"No especificado"),1)])]),JB,h("dd",QB,F(t.user.genero||"No especificado"),1),WB,h("dd",GB,F(t.user.barrio||"No especificado"),1),zB,h("dd",YB,F(t.user.telefono||"No especificado"),1)])])])}}},ZB=pe(XB,[["__scopeId","data-v-228630e9"]]);async function M_(t){try{const e=we(he,"users",t),n=await It(e);if(n.exists()){const s=n.data().followers||[],r=[];for(const i of s){const o=await Bn(i);o&&r.push(o)}return r}else return console.error("[red.js obtenerSeguidores] El usuario no existe:",t),[]}catch(e){return console.error("[red.js obtenerSeguidores] Error:",e),[]}}async function U_(t){try{const e=we(he,"users",t),n=await It(e);if(n.exists()){const s=n.data().following||[],r=[];for(const i of s){const o=await Bn(i);o&&r.push(o)}return r}else return console.error("[red.js obtenerSiguiendo] El usuario no existe:",t),[]}catch(e){return console.error("[red.js obtenerSiguiendo] Error:",e),[]}}async function eF(t,e){try{const n=we(he,"users",t),s=we(he,"users",e);await $t(n,{following:za(e)}),await $t(s,{followers:za(t)});const r=await Bn(t);if(r){const i=`${r.displayName||r.name} te ha empezado a seguir`;await ml(e,i,"seguir",t,`/usuario/${t}`)}return console.log("[red.js seguirUsuario] Usuario seguido con éxito:",e),await Bn(e)}catch(n){console.error("[red.js seguirUsuario] Error al seguir usuario:",n)}}async function tF(t,e){try{const n=we(he,"users",t),s=we(he,"users",e);return await $t(n,{following:$u(e)}),await $t(s,{followers:$u(t)}),console.log("[red.js dejarDeSeguirUsuario] Usuario dejado de seguir con éxito:",e),await Bn(e)}catch(n){console.error("[red.js dejarDeSeguirUsuario] Error al dejar de seguir usuario:",n)}}function L_(t){const e=M({id:null,email:null,displayName:null,photoURL:null,nombre:null,apellido:null,nacimiento:null,genero:null,nivel:null,barrio:null,telefono:null,terminos:!1,followers:[],following:[]}),n=M(!0);s();async function s(){const r=await Bn(t);e.value=r,e.value.photoURL=await dl(r.photoURL),n.value=!1}return{user:e,loading:n}}const nF={key:0,class:"my-3"},sF={class:"col-12"},rF={key:0,class:"my-3"},iF={__name:"UserProfile",setup(t){const e=Bs(),{user:n,loading:s}=L_(e.params.id),{user:r}=ht(),i=M(0),o=M(0),a=M(!1),c=M(!1),l=M(!1),u=async()=>{l.value=!l.value,l.value||await d()},d=async()=>{try{n.value.id===r.value.id?c.value=!0:c.value=!1;const p=await M_(n.value.id),m=await U_(n.value.id);i.value=p.length,o.value=m.length,a.value=p.some(A=>A.id===r.value.id)}catch(p){console.error("Error al obtener seguidores y siguiendo:",p)}};et(async()=>{n.value.id&&r.value&&await d()}),Ye([n,r],async()=>{n.value.id&&r.value&&await d()},{immediate:!0,flush:"post"}),Ye(l,async()=>{},{flush:"post"}),Ye(a,async()=>{n.value.id&&r.value&&await d()},{flush:"post"});const f=async()=>{try{a.value?(await tF(r.value.id,n.value.id),a.value=!1):(await eF(r.value.id,n.value.id),a.value=!0),await d()}catch(p){console.error("Error al seguir/dejar de seguir usuario:",p)}};return(p,m)=>{var A,y;return S(),k(re,null,[v(s)?Me("",!0):(S(),Nt(Kt,{key:0,route:"/home",title:v(n)?((A=v(n))==null?void 0:A.displayName)||((y=v(n))==null?void 0:y.nombre):"perfil",hasBackground:!1},null,8,["title"])),b(Vn,{loading:v(s)},null,8,["loading"]),l.value?(S(),Nt(St,{key:1},{default:$(()=>[b(rB,{onProfileUpdated:d}),c.value?(S(),k("div",nF,[b(gr,{class:"btn w-100",onClick:u},{default:$(()=>[ge(F(l.value?"DEJAR DE EDITAR":"EDITAR MI PERFIL"),1)]),_:1})])):Me("",!0)]),_:1})):(S(),Nt(St,{key:2},{default:$(()=>[h("div",sF,[b(ZB,{user:v(n),totalSeguidores:i.value,totalSiguiendo:o.value,seguirDejarSeguir:f,userFollowing:a.value,isMyProfile:c.value},null,8,["user","totalSeguidores","totalSiguiendo","userFollowing","isMyProfile"])]),c.value?(S(),k("div",rF,[b(gr,{class:"btn w-100",onClick:u},{default:$(()=>[ge(F(l.value?"DEJAR DE EDITAR":"EDITAR MI PERFIL"),1)]),_:1})])):Me("",!0)]),_:1}))],64)}}},oF=pe(iF,[["__scopeId","data-v-cf06d541"]]);async function aF(t,e,n){const s=await Ki(t,e),r=Vt(he,"private-chats",s.id,"messages"),i=ns(r,il("created_at"));return wr(i,o=>{const a=o.docs.map(c=>{var l;return{userId:c.data().userId,message:c.data().message,created_at:(l=c.data().created_at)==null?void 0:l.toDate()}});n(a)})}async function cF(t,e,n){var i,o;const s=await Ki(t,e),r=Vt(he,"private-chats",s.id,"messages");await ol(r,{userId:t,message:n,created_at:Lo()});try{const c=(await It(s)).data();if(!((i=c==null?void 0:c.presence)==null?void 0:i[e])){const d=((o=(await It(we(he,"users",t))).data())==null?void 0:o.displayName)||"Alguien";await ml(e,`${d} te ha enviado un mensaje`,"chat",t,`usuario/${t}/chat`)}}catch(a){console.error("Error al verificar la presencia o crear la notificación:",a)}return!0}async function Ki(t,e){const n=lF(t,e),s=we(he,"private-chats",n);return(await It(s)).exists()||await ty(s,{users:{[t]:!0,[e]:!0},presence:{[t]:!1,[e]:!1}}),s}function lF(t,e){return[t,e].sort().join("_")}const uF=["src"],dF={class:"col-10 d-flex justify-content-start title_chat"},hF={class:"image-container"},fF={class:"truncate-title"},pF={__name:"HeaderChat",props:{otherUser:{type:Object,required:!0},isOnline:Boolean,hasBackground:{type:Boolean,default:!0}},setup(t){const e=t,n=In();function s(){n.back()}return(r,i)=>(S(),k("div",{class:Le(["row sectionHeader",{"with-background":e.hasBackground,"no-background":!e.hasBackground}])},[h("div",{class:"col-2",onClick:s},[h("img",{src:e.hasBackground?v(b_):v($h),alt:"Volver"},null,8,uF)]),h("div",dF,[h("div",hF,[b(sn,{src:t.otherUser.photoURL},null,8,["src"])]),h("div",null,[h("h1",fF,F(t.otherUser.displayName||t.otherUser.nombre),1),h("span",{style:cc({color:e.hasBackground?"white":"black",fontSize:"0.8rem"})}," ● "+F(t.isOnline?"En línea":"Desconectado"),5)])])],2))}},mF=pe(pF,[["__scopeId","data-v-88249997"]]);const gF={class:"card-content"},AF={class:"m-0"},vF={key:0,class:"font-date"},yF={__name:"cardMessage",props:{message:Object,userName:String,messageClass:String},setup(t){function e(n){const s={hour:"2-digit",minute:"2-digit",hour12:!1};return new Intl.DateTimeFormat("es-AR",s).format(new Date(n))}return(n,s)=>(S(),k("div",{class:Le(["card-message",t.messageClass])},[h("div",gF,[h("p",AF,F(t.message.message),1),t.message.created_at?(S(),k("div",vF,F(e(t.message.created_at)),1)):Me("",!0)])],2))}},_F=pe(yF,[["__scopeId","data-v-85115c94"]]);const wF=t=>(Ke("data-v-2426eeac"),t=t(),Je(),t),bF={class:"mb-0"},EF={class:"chat-input bg-light p-2 border-top"},IF={class:"flex-grow-1 me-2"},SF=["disabled"],CF={key:0,class:"spinner-border spinner-border-sm text-light",role:"status"},kF=wF(()=>h("span",{class:"visually-hidden"},"Enviando…",-1)),TF=[kF],RF={key:1,class:"bi bi-send-fill"},xF={__name:"PrivateChat",setup(t){const e=Bs(),{user:n,loading:s}=L_(e.params.id),{user:r}=ht(),i=M(null),o=M(!1),{handleSubmit:a,fields:c,formLoading:l}=m(r,n),{messages:u,loading:d,chatId:f}=p(r,n);function p(y,w){const T=M(!0),I=M([]),E=M(null);let O=()=>{};Ye(w,async oe=>{if(oe.id!=null){const xe=await Ki(y.value.id,oe.id);E.value=xe.id,G(),me()}});async function G(){O=await aF(y.value.id,w.value.id,oe=>{I.value=oe,T.value=!1,Y()})}function Y(){zi(()=>{i.value.scrollTop=i.value.scrollHeight})}let H=()=>{};async function me(){const oe=await Ki(y.value.id,w.value.id),xe=we(he,"private-chats",oe.id);H=wr(xe,qe=>{var kt;const _t=((kt=qe.data())==null?void 0:kt.presence)||{};o.value=_t[w.value.id]||!1})}return Un(()=>{O(),H()}),{loading:T,messages:I,chatId:E}}function m(y,w){const T=M(!1),I=M({message:""});async function E(){T.value=!0;try{await cF(y.value.id,w.value.id,I.value.message),T.value=!1,I.value.message=""}catch(O){console.error("[PrivateChat]",O)}}return{formLoading:T,fields:I,handleSubmit:E}}async function A(y){if(!r.value||!n.value)return;const w=await Ki(r.value.id,n.value.id),T=we(he,"private-chats",w.id);await $t(T,{[`presence.${r.value.id}`]:y,[`users.${r.value.id}`]:!0,[`lastSeen.${r.value.id}`]:Lo()})}return Ye([r,n],async([y,w])=>{y!=null&&y.id&&(w!=null&&w.id)&&await A(!0)}),Un(async()=>{await A(!1)}),(y,w)=>(S(),k(re,null,[b(mF,{otherUser:v(n),isOnline:o.value},null,8,["otherUser","isOnline"]),b(St,null,{default:$(()=>[b(Vn,{loading:v(s)},null,8,["loading"]),h("div",{class:"messages-wrapper",ref_key:"messagesContainerRef",ref:i},[h("ul",bF,[(S(!0),k(re,null,it(v(u),T=>(S(),k("li",{key:T.id,class:Le(["mb-1",{"text-end":T.userId==v(r).id}])},[b(_F,{message:T,userName:T.userId===v(r).id?v(r).displayName||v(r).nombre:v(n).displayName||v(n).nombre,messageClass:T.userId===v(r).id?"message-sent":"message-received"},null,8,["message","userName","messageClass"])],2))),128))])],512),h("div",EF,[h("form",{onSubmit:w[1]||(w[1]=En((...T)=>v(a)&&v(a)(...T),["prevent"])),class:"d-flex align-items-end"},[h("div",IF,[lt(h("textarea",{"onUpdate:modelValue":w[0]||(w[0]=T=>v(c).message=T),rows:"1",class:"form-control chat-textarea",placeholder:"Escribe un mensaje..."},null,512),[[Rs,v(c).message]])]),h("button",{type:"submit",class:"btn btn-primary d-flex align-items-center justify-content-center position-relative",disabled:!v(c).message||v(l)},[v(l)?(S(),k("span",CF,TF)):(S(),k("i",RF))],8,SF)],32)])]),_:1})],64))}},OF=pe(xF,[["__scopeId","data-v-2426eeac"]]);async function DF(){const t=Vt(he,"admin-canchas"),e=await pi(t),n=[];return e.forEach(s=>{n.push({id:s.id,...s.data()})}),n}const Qt=t=>(Ke("data-v-85a60246"),t=t(),Je(),t),NF={class:"col-12 px-3"},PF=Qt(()=>h("h3",{class:"mb-3"},"Datos del encuentro",-1)),MF=Qt(()=>h("p",{class:"border m-line w-15 mb-4"},null,-1)),UF={class:"mb-3"},LF=Qt(()=>h("label",{for:"nombre"},"Nombre del partido:",-1)),BF={class:"mb-3"},FF=Qt(()=>h("label",{for:"complejo"},"Complejo:",-1)),VF=["disabled"],$F=Qt(()=>h("option",{disabled:"",value:""},"Complejo",-1)),jF=["value"],qF={class:"mb-3"},HF=Qt(()=>h("label",{for:"fecha"},"Fecha:",-1)),KF=["min","disabled"],JF={class:"mb-3"},QF=Qt(()=>h("label",{for:"hora"},"Hora:",-1)),WF=["disabled"],GF=Qt(()=>h("option",{disabled:"",value:""},"Hora",-1)),zF=["value","disabled"],YF={class:"mb-3"},XF=Qt(()=>h("label",{for:"cantidadJ"},"Cantidad de jugadores:",-1)),ZF=["disabled"],eV=Qt(()=>h("option",{disabled:"",value:""},"Cantidad de jugadores",-1)),tV=["value"],nV={class:"mb-3"},sV=Qt(()=>h("label",{for:"tipo"},"Tipo:",-1)),rV=["disabled"],iV=Qt(()=>h("option",{disabled:"",value:""},"Tipo de partido",-1)),oV=Qt(()=>h("option",null,"Femenino",-1)),aV=Qt(()=>h("option",null,"Masculino",-1)),cV=Qt(()=>h("option",null,"Mixto",-1)),lV=[iV,oV,aV,cV],uV={class:"mb-3"},dV={for:"valorCancha"},hV=["disabled"],fV={__name:"CargaPartido",setup(t){const{feedback:e,setFeedbackMessage:n,clearFeedbackMessage:s}=Ge(os),{showModal:r}=Ge(Bh),{fields:i,user:o,loading:a,handleSubmit:c}=p(),l=M([]),u=M(""),d=M([]),f=M(null);function p(){const{user:I}=ht(),E=In(),O=M({nombre:"",complejo:"",fecha:"",hora:"",cantidadJ:0,contadorInscriptos:[],totalJ:0,tipo:"",usuarioCreador:"",estado:"activo"}),G=M(!1);async function Y(){try{s(),G.value=!0;let H={fecha:u.value,hora:O.value.hora};const me=await fN({...O.value,userId:I.value.id,usuarioCreador:I.value.displayName,complejo:f.value,fecha:u.value},H);G.value=!1,n({type:"success",message:"Partido creado correctamente"});const oe=await r({title:"Partido creado",bodyText:"¿Desea sumarse como jugador a este partido?",closeButtonText:"NO",saveButtonText:"SI"});if(oe)try{s(),me.id?(await Vh(me.id,I),n({type:"success",message:"Usuario inscripto correctamente."}),E.push(`/info-partido/${me.id}`)):console.error("No se ha encontrado el partido para inscribirse.")}catch(xe){console.error("Error al inscribirse al partido:",xe),n({type:"error",message:xe})}else if(!oe)E.push("/home");else if(oe==="closex"){E.push("/home");return}}catch(H){n({type:"error",message:H.message||"Error al crear el partido"})}}return{fields:O,user:I,loading:G,handleSubmit:Y}}et(async()=>{try{const I=await DF();l.value=I}catch(I){console.error(I.message)}});const m=ae(()=>new Date().toISOString().split("T")[0]),A=ae(()=>f.value&&f.value.prices?Object.keys(f.value.prices):[]);function y(){if(f.value&&u.value){const I=Object.keys(f.value.horarios||{});d.value=I.map(E=>({horario:E,disponible:T(u.value,E,f.value)})).sort((E,O)=>{const G=parseInt(E.horario.split(" ")[0]),Y=parseInt(O.horario.split(" ")[0]);return G-Y})}else d.value=[]}const w=ae(()=>i.value.nombre&&f.value&&u.value&&i.value.hora&&i.value.cantidadJ&&i.value.tipo&&i.value.valorCancha);Ye([()=>i.value.cantidadJ,f],([I,E])=>{if(E&&E.prices&&I){const O=E.prices[I];O?i.value.valorCancha=O:i.value.valorCancha=""}});function T(I,E,O){var H;const Y=(((H=O.reservas)==null?void 0:H[I])||{})[E];return Y?Y.disponible!==!1:!0}return Ye([f,u],y),(I,E)=>(S(),k(re,null,[b(Vn,{loading:v(a)},null,8,["loading"]),b(Kt,{route:"/home",title:"Crear partido",hasBackground:!1}),b(St,null,{default:$(()=>[h("div",NF,[h("form",{action:"#",method:"POST",onSubmit:E[6]||(E[6]=En((...O)=>v(c)&&v(c)(...O),["prevent"]))},[PF,MF,h("div",UF,[LF,lt(h("input",{type:"text",class:"form-control",id:"nombre",placeholder:"Nombre","onUpdate:modelValue":E[0]||(E[0]=O=>v(i).nombre=O)},null,512),[[Rs,v(i).nombre]])]),h("div",BF,[FF,lt(h("select",{id:"complejo",class:"form-select","onUpdate:modelValue":E[1]||(E[1]=O=>f.value=O),disabled:!v(i).nombre},[$F,(S(!0),k(re,null,it(l.value,O=>(S(),k("option",{value:O,key:O.id},F(O.name),9,jF))),128))],8,VF),[[zs,f.value]])]),h("div",qF,[HF,lt(h("input",{type:"date",id:"fecha","onUpdate:modelValue":E[2]||(E[2]=O=>u.value=O),min:v(m),disabled:!f.value},null,8,KF),[[Rs,u.value]])]),h("div",JF,[QF,lt(h("select",{id:"hora",class:"form-select","onUpdate:modelValue":E[3]||(E[3]=O=>v(i).hora=O),disabled:!u.value},[GF,(S(!0),k(re,null,it(d.value,O=>(S(),k("option",{value:O.horario,key:O.horario,disabled:!O.disponible},F(O.horario),9,zF))),128))],8,WF),[[zs,v(i).hora]])]),h("div",YF,[XF,lt(h("select",{id:"cantidadJ",class:"form-select","onUpdate:modelValue":E[4]||(E[4]=O=>v(i).cantidadJ=O),disabled:!v(i).hora},[eV,(S(!0),k(re,null,it(v(A),O=>(S(),k("option",{value:O,key:O},F(O)+" vs "+F(O),9,tV))),128))],8,ZF),[[zs,v(i).cantidadJ]])]),h("div",nV,[sV,lt(h("select",{id:"tipo",class:"form-select","onUpdate:modelValue":E[5]||(E[5]=O=>v(i).tipo=O),disabled:!v(i).cantidadJ},lV,8,rV),[[zs,v(i).tipo]])]),h("div",uV,[h("label",dV,"Valor total de la cancha: $"+F(v(i).valorCancha),1)]),h("button",{type:"submit",class:"btn cargar-button fw-semibold text-white py-2",disabled:!v(w)}," CREAR PARTIDO ",8,hV)],32)])]),_:1})],64))}},pV=pe(fV,[["__scopeId","data-v-85a60246"]]);const Hh=t=>(Ke("data-v-5b275206"),t=t(),Je(),t),mV={class:"px-3 pb-3 my-5"},gV={class:"row mb-3"},AV=Hh(()=>h("div",{class:"col-10"},[h("h2",{class:"text-start h3"},[h("span",{class:"text-decoration-underline"},"Mis"),ge(" partidos ")])],-1)),vV={class:"col-2"},yV=Hh(()=>h("img",{src:Fh,alt:"Icono flechas dobles",class:"icono-h2"},null,-1)),_V={key:1,class:"row px-3"},wV=Hh(()=>h("div",{class:"col-12"},[h("p",null,"No hay partidos para mostrar")],-1)),bV=[wV],EV={__name:"MisPartidos",setup(t){const e=Rh(),n=M([]);by(e,r=>{if(r){const i=r.uid;s(i)}else console.log("Usuario no autenticado")});async function s(r){const o=(await pN()).filter(a=>{var u;const c=a.userId===r,l=(u=a.contadorInscriptos)==null?void 0:u.some(d=>d.uid===r);return c||l});n.value=o}return et(async()=>{const r=e.currentUser;if(r){const i=r.uid;await s(i)}}),(r,i)=>{const o=Xt("router-link");return S(),k("section",mV,[h("div",gV,[AV,h("div",vV,[b(o,{to:"/partidos"},{default:$(()=>[yV]),_:1})])]),n.value.length>0?(S(!0),k(re,{key:0},it(n.value,a=>(S(),Nt(nc,{key:a.id,partido:a},null,8,["partido"]))),128)):(S(),k("div",_V,bV))])}}},IV=pe(EV,[["__scopeId","data-v-5b275206"]]);const Kh=t=>(Ke("data-v-914d5862"),t=t(),Je(),t),SV={class:"row py-3 m-0"},CV={class:"col-3 d-flex justify-content-center align-items-center"},kV=Kh(()=>h("img",{src:$h},null,-1)),TV=Kh(()=>h("i",{class:"fi fi-sr-angle-left"},null,-1)),RV=Kh(()=>h("div",{class:"col-9 d-flex align-items-center"},[h("h1",{class:"text-center"}," En construcción ")],-1)),xV={__name:"ListaChatsPrivados",setup(t){return M([]),In(),ht(),(e,n)=>{const s=Xt("router-link");return S(),k("section",SV,[h("div",CV,[b(s,{to:"/home"},{default:$(()=>[kV,TV]),_:1})]),RV])}}},OV=pe(xV,[["__scopeId","data-v-914d5862"]]),DV="/assets/cancha-af0cca62.jpg";function NV(t){const e=M({id:null,nombre:null,complejo:null,fecha:null,hora:null,cantidadJ:null,tipo:null,userId:null,usuarioCreador:null,valorCancha:null,contadorInscriptos:[]}),n=M(!0);s();async function s(){try{const r=await gl(t);e.value=r,n.value=!1}catch(r){console.error(r),n.value=!1}}return{partido:e,loading:n}}const Vs=t=>(Ke("data-v-e90b741d"),t=t(),Je(),t),PV=Vs(()=>h("div",{class:"col-12 fotoCancha mb-3"},[h("img",{src:DV})],-1)),MV={class:"row mx-auto infoPartido"},UV={class:"col-9 fw-bold nombreComplejo"},LV={class:"col-3 d-flex justify-content-center"},BV={class:"text-center mb-0 lh-sm"},FV={class:"row mx-auto my-2 infoPartido"},VV={class:"col-12"},$V={class:"mb-0"},jV=Vs(()=>h("span",{class:"fw-bold text-black"},"Dirección:",-1)),qV={class:"col-12"},HV=Vs(()=>h("span",{class:"fw-bold"}," Día:",-1)),KV={class:"col-12"},JV={class:"mb-0"},QV=Vs(()=>h("span",{class:"fw-bold"}," Horario:",-1)),WV={class:"row mx-auto mt-2 infoPartido"},GV={class:"col-12"},zV=Vs(()=>h("br",null,null,-1)),YV={style:{color:"var(--primary-color)"}},XV=Vs(()=>h("div",{class:"row mx-auto"},[h("div",{class:"col-12"},[h("p",{class:"text-center fs-2 fw-bold"},"Jugadores")])],-1)),ZV={class:"row d-flex align-items-center border-bottom mb-2 pb-2 mx-auto"},e2={class:"col-3"},t2={class:"col-8 pt-3 jugadores"},n2={class:"fw-bold"},s2=Vs(()=>h("br",null,null,-1)),r2={class:"col-1 pt-0"},i2=["onClick"],o2=Vs(()=>h("i",{class:"fa-solid fa-trash-can"},null,-1)),a2=[o2],c2={class:"botones_inferiores"},l2={__name:"InfoPartidos",setup(t){const{showModal:e}=Ge(Bh),n=M([]),s=hi(),{user:r}=ht(),i=Bs(),{loading:o}=NV(i.params.id),{setFeedbackMessage:a,clearFeedbackMessage:c}=Ge(os),l=we(s,"partidos",i.params.id),u=M(null),d=M(!1),f=M(!1);et(async()=>{try{const I=await gl(i.params.id);u.value=I,d.value=w(),p(),r.value.id===u.value.userId?f.value=!0:f.value=!1}catch(I){console.error(I.message)}}),Ye(u,(I,E)=>{I&&(d.value=w())});function p(){const I=wr(l,async E=>{if(E.exists()){const O=E.data();u.value={...O,id:E.id};const G=await Promise.all(O.contadorInscriptos.map(async Y=>{const H=await It(we(s,"usuarios",Y.uid));if(H.exists()){const me=H.data();return{uid:Y.uid,nombre:me.displayName||Y.nombre,image:me.photoURL||Y.image}}return Y}));n.value=G}else u.value=null});Un(I)}async function m(){try{c(),u.value&&(await Vh(i.params.id,r),d.value=w(),a({type:"success",message:"Usuario inscripto correctamente."}))}catch(I){a({type:"error",message:I})}}async function A(I){try{c(),u.value&&(await mN(I,i.params.id),d.value=w(),a({type:"success",message:"Usuario eliminado correctamente."}))}catch(E){a({type:"error",message:E.message})}}async function y(I){try{const E=await e({title:"Eliminar partido",bodyText:"¿Desea eliminar el partido?",closeButtonText:"NO",saveButtonText:"SI"});if(E)try{c(),u.value&&(await gN(i.params.id,I),a({type:"success",message:"Partido eliminado con éxito."}),Jo.push("/home"));return}catch(O){console.error("Error al eliminar el partido:",O),a({type:"error",message:O})}else if(E==="closex")return}catch(E){a({type:"error",message:E.message})}}function w(){return!u.value||!u.value.contadorInscriptos?!1:u.value.contadorInscriptos.some(I=>I.uid===r.value.id)}function T(I){const E=new Date(I),O=String(E.getDate()).padStart(2,"0"),G=String(E.getMonth()+1).padStart(2,"0"),Y=E.getFullYear();return`${O}/${G}/${Y}`}return(I,E)=>{const O=Xt("router-link");return S(),k(re,null,[b(Vn,{loading:v(o)},null,8,["loading"]),b(Kt,{title:"Información",route:"/home",hasBackground:!1}),b(St,{class:"row p-1",style:{margin:"75px 0 120px 0"}},{default:$(()=>{var G;return[PV,h("div",MV,[h("div",UV,[h("p",null,F(u.value?u.value.complejo.name:"-"),1)]),h("div",LV,[h("p",BV,F(u.value?u.value.cantidadJ+" vs "+u.value.cantidadJ:"-")+" "+F(u.value?u.value.tipo:"-"),1)])]),h("div",FV,[h("div",VV,[h("p",$V,[jV,ge(" "+F(u.value?u.value.complejo.direction:"-"),1)])]),h("div",qV,[h("p",null,[HV,ge(" "+F(u.value?T(u.value.fecha):"-"),1)])]),h("div",KV,[h("p",JV,[QV,ge(" "+F(u.value?u.value.hora:"-")+" hs. ",1)])])]),h("div",WV,[h("div",GV,[h("p",null,[ge(" Organizado por: "),zV,b(O,{to:`/usuario/${(G=u.value)==null?void 0:G.userId}`,class:"col-12 mb-3 text-decoration-none text-dark"},{default:$(()=>[h("small",YV,F(u.value?u.value.usuarioCreador:"-"),1)]),_:1},8,["to"])])])]),XV,(S(!0),k(re,null,it(n.value,Y=>(S(),k("div",ZV,[h("div",e2,[b(sn,{src:Y.image},null,8,["src"])]),h("div",t2,[h("p",null,[h("span",n2,F(Y.nombre),1),s2,b(O,{to:`/usuario/${Y.uid}`,style:{color:"var(--primary-color)"}},{default:$(()=>[ge(" Ver Perfil ")]),_:2},1032,["to"])])]),h("div",r2,[lt(h("button",{class:"button__delete",onClick:H=>A(Y.uid)},a2,8,i2),[[pa,f.value||Y.uid===v(r).id]])])]))),256)),h("div",c2,[lt(h("button",{onClick:m}," UNIRME AL PARTIDO ",512),[[pa,!d.value]]),lt(h("button",{onClick:E[0]||(E[0]=Y=>y(v(r).id))}," ELIMINAR PARTIDO ",512),[[pa,f.value]])])]}),_:1})],64)}}},u2=pe(l2,[["__scopeId","data-v-e90b741d"]]),d2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsSAAALEgHS3X78AAAB7UlEQVRogdXa0W3CMBCA4Z8sACN0g1LpBqAbsAHZoIzQEToC3aAblL77ATZgg8IE6UOiKkBCHOfOce4tJrL8KbZz5zArigIRWQBL4OCcOzPByCrECfgGfkXkY9whhUVG+STmtbY3EdmNM5zwyFraN1PDZM65PfDZ8NukMBmAcy5n4pj/qTV1zKwoiquGatCbhnuPwCrV7fkOAp2YrfGYOqNa11fRCIGHmBTibna0bb+P1kwK8czNzGiFQPKYVf3iIQSSxhzqF50QSBJzBN7rDV4QSArT+BrwhkASmNZ3WS8IjIp5+ELuDYFRMJ1ZRRAEomK8UqNgCETBeOd3gyBgiumVpA6GgAmmd6atAgFVTFC5oAYBFUxwzaMKgUGYQYWbOgSCMIOrTxMI9MKolNBmEPDCqJ0DqEJEZCsiy3pbB0btrFn7iSyAfQ+M2lGTxdSaMwLGao1Ex1gu9qgY012LiBhrCETCxIBABEwsCBhjYkLAEBMbAkYYbcih+xagxKxvG4dgtAurL+BnYB85ARiLqbWmzGqDIwRjUSGeKY/8o2KsKsToGMsKsQuz9+wnxwNjXSG2YS6U/3/x7SenA9P6MVQ7RCSn3AhOwM4557tV1/vY0fyB9iUaRCtaMK+Tg8Ad5gI8TRICUKU4C6oDjD9wpF5NhZ56xAAAAABJRU5ErkJggg==";const vi=t=>(Ke("data-v-0e615590"),t=t(),Je(),t),h2={class:"row mb-3"},f2=vi(()=>h("ul",{class:"nav nav-tabs mb-5 mt-3 px-3",role:"tablist"},[h("li",{class:"nav-item",role:"presentation"},[h("button",{class:"nav-link active",id:"mis-partidos-tab","data-bs-toggle":"tab","data-bs-target":"#mis-partidos-tab-pane",type:"button",role:"tab","aria-controls":"mis-partidos-tab-pane","aria-selected":"true"}," Mis Partidos ")]),h("li",{class:"nav-item",role:"presentation"},[h("button",{class:"nav-link",id:"proximos-partidos-tab","data-bs-toggle":"tab","data-bs-target":"#proximos-partidos-tab-pane",type:"button",role:"tab","aria-controls":"proximos-partidos-tab-pane","aria-selected":"false"}," Próximos partidos ")])],-1)),p2={class:"tab-content",id:"myTabContent"},m2={class:"tab-pane fade show active",id:"mis-partidos-tab-pane",role:"tabpanel","aria-labelledby":"mis-partidos-tab",tabindex:"0"},g2={key:1,class:"row px-3"},A2=vi(()=>h("div",{class:"col-12"},[h("p",null,"No hay partidos para mostrar")],-1)),v2=[A2],y2={class:"tab-pane fade",id:"proximos-partidos-tab-pane",role:"tabpanel","aria-labelledby":"proximos-partidos-tab",tabindex:"0"},_2={class:"row mb-3 align-items-end"},w2={class:"col-10"},b2=vi(()=>h("label",{for:"barrioSelect",class:"form-label fw-bold"},"Filtrar por barrio",-1)),E2=vi(()=>h("option",{disabled:"",value:""},"Selecciona un barrio",-1)),I2=["value"],S2=vi(()=>h("img",{class:"img_filtro",src:d2,alt:"icono-filtro"},null,-1)),C2=[S2],k2={key:1,class:"row px-3"},T2=vi(()=>h("div",{class:"col-12"},[h("p",null,"No existen partidos en la zona seleccionada.")],-1)),R2=[T2],x2={__name:"Partidos",setup(t){e();function e(){const{user:d}=ht();return{user:d}}const n=hi(),s=M([]),r=M([]),i=Rh(),o=M([]),a=M("");let c=null;function l(d){c&&c();let f;a.value?f=ns(Vt(n,"partidos"),Gn("estado","==","activo"),Gn("complejo.localidad","==",a.value)):f=ns(Vt(n,"partidos"),Gn("estado","==","activo")),c=wr(f,p=>{const m=[],A=[];p.forEach(y=>{var E;const w={...y.data(),id:y.id};m.push(w);const T=w.userId===d,I=(E=w.contadorInscriptos)==null?void 0:E.some(O=>O.uid===d);(T||I)&&A.push(w)}),s.value=m,r.value=A})}Ye(a,d=>{const f=i.currentUser;f&&l(f.uid)});function u(){a.value="";const d=i.currentUser;d&&l(d.uid)}return et(async()=>{const d=we(n,"barrios","capital_federal"),f=await It(d);f.exists()?o.value=f.data().nombres||[]:console.warn("Documento capital_federal no encontrado");const p=i.currentUser;p&&l(p.uid)}),Un(()=>{c&&c()}),(d,f)=>(S(),k(re,null,[b(Kt,{route:"/home",title:"Partidos"}),b(St,null,{default:$(()=>[h("div",h2,[f2,h("div",p2,[h("div",m2,[r.value.length>0?(S(!0),k(re,{key:0},it(r.value,p=>(S(),Nt(nc,{key:p.id,partido:p},null,8,["partido"]))),128)):(S(),k("div",g2,v2))]),h("div",y2,[h("div",_2,[h("div",w2,[b2,lt(h("select",{id:"barrioSelect",class:"form-select","onUpdate:modelValue":f[0]||(f[0]=p=>a.value=p)},[E2,(S(!0),k(re,null,it(o.value,p=>(S(),k("option",{key:p,value:p},F(p),9,I2))),128))],512),[[zs,a.value]])]),h("div",{class:"col-2"},[h("button",{class:"boton_filtro",onClick:u},C2)])]),s.value.length>0?(S(!0),k(re,{key:0},it(s.value,p=>(S(),Nt(nc,{key:p.id,partido:p},null,8,["partido"]))),128)):(S(),k("div",k2,R2))])])])]),_:1})],64))}},O2=pe(x2,[["__scopeId","data-v-0e615590"]]),D2={};function N2(t,e){return null}const P2=pe(D2,[["render",N2]]),B_="data:image/png;base64,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",F_="/assets/comment-43a9a0da.png";async function M2(t,e){try{const n=Vt(he,"publicaciones");await ol(n,{...t,likes:t.likes||[],comments:t.comments||[],created_at:Lo()})}catch(n){throw console.error("Error al publicar la publicación:",n),n}}async function km(){try{const t=Vt(he,"publicaciones"),e=ns(t,il("created_at","desc"));return await pi(e)}catch(t){throw console.error("Error al obtener las publicaciones:",t),t}}async function U2(t){try{const e=we(he,"publicaciones",t),n=await It(e);if(n.exists())return{id:n.id,...n.data()};throw new Error("La publicación no existe.")}catch(e){throw console.error("Error al obtener la publicación por ID:",e),e}}async function L2(t,e,n){try{const s=we(he,"publicaciones",t),r=await It(s);if(r.exists()){const i={id:r.id,...r.data()},o={userId:e.id,userDisplayName:e.displayName,userPhoto:e.photoURL,content:n,created_at:dt.now()};return i.comments.push(o),await $t(s,{comments:i.comments}),i.userId!==e.id&&await ml(i.userId,`${e.displayName} comentó tu publicación: "${n}"`,"comentario",i.id,`/comments/${i.id}`),o.formattedDate=C_(o.created_at.toDate(),"dd/MM/yyyy HH:mm"),i}else throw new Error("La publicación no existe.")}catch(s){throw console.error("Error al agregar el comentario:",s),s}}async function V_(t,e){try{const n=we(he,"publicaciones",t),s=await It(n);if(s.exists()){const r={id:s.id,...s.data()},i=r.likes.includes(e.id);return i?(r.likes=r.likes.filter(o=>o!==e.id),await F2(t,e.id)):(r.likes.push(e.id),await B2(t,e.id)),r.liked=!i,await $t(n,{likes:r.likes}),!i&&r.userId!==e.id&&await ml(r.userId,`A ${e.displayName} le gustó tu publicación.`,"like",r.id,`/comments/${r.id}`),r}else throw new Error("La publicación no existe.")}catch(n){throw console.error("Error al manejar el 'Me gusta':",n),n}}async function B2(t,e){try{const n=we(he,"publicaciones",t);await $t(n,{likes:za(e)})}catch(n){throw console.error("Error al agregar el 'Me gusta':",n),n}}async function F2(t,e){try{const n=we(he,"publicaciones",t);await $t(n,{likes:$u(e)})}catch(n){throw console.error("Error al quitar el 'Me gusta':",n),n}}const Jh=t=>(Ke("data-v-7621e522"),t=t(),Je(),t),V2={class:"feed-wrapper"},$2={class:"container-fluid p-3 mt-6"},j2={class:"row mb-3 px-2 align-items-center"},q2={class:"col-2 p-0"},H2={class:"col-10"},K2={class:"row"},J2={class:"col-12"},Q2=Jh(()=>h("div",{class:"col-12 d-flex justify-content-end"},[h("button",{type:"submit",class:"btn-publish ms-2"},[h("img",{src:B_,alt:"Enviar"})])],-1)),W2=Jh(()=>h("hr",null,null,-1)),G2={key:1,class:"p-3"},z2={class:"card-body"},Y2={class:"row mb-3 align-items-center"},X2={class:"col-2"},Z2={class:"col-10"},e$={class:"m-0"},t$={class:"font-date"},n$={class:"row"},s$={class:"col-12"},r$={class:"font-content"},i$={class:"row mt-3"},o$={class:"col-6 d-flex align-items-center"},a$=["onClick"],c$=["src"],l$={class:"ms-2"},u$={class:"col-6 d-flex align-items-center justify-content-end"},d$={class:"action-btn"},h$=Jh(()=>h("img",{src:F_,alt:"Comentarios"},null,-1)),f$={class:"ms-2"},p$={__name:"Feed",setup(t){const{user:e,newPostContent:n,loading:s,posts:r,handleSubmit:i,toggleLikeView:o}=a();function a(){const{user:c}=ht(),l=M(""),u=M(!1),d=M([]);return et(async()=>{u.value=!0;try{const m=await km();d.value=m.docs.map(A=>{console.log("doc",A);const y=A.data();return y.likes=y.likes||[],y.liked=y.likes.includes(c.value.id),{id:A.id,...y}}),console.log("post value",d.value)}catch(m){console.error("Error al obtener las publicaciones:",m)}u.value=!1}),{user:c,newPostContent:l,loading:u,posts:d,handleSubmit:async()=>{u.value=!0;try{if(l.value.trim()!==""&&c.value.id){await M2({content:l.value,userId:c.value.id,userDisplayName:c.value.displayName,photoURL:c.value.photoURL,likes:[],comments:[]}),l.value="";const m=await km();d.value=m.docs.map(A=>{const y=A.data();return console.log("postData",y),y.likes=y.likes||[],y.liked=y.likes.includes(c.value.id),{id:A.id,...y}})}else console.error("El ID del usuario no está definido o es inválido.")}catch(m){console.error("Error al publicar la publicación:",m)}u.value=!1},toggleLikeView:async m=>{try{const A=await V_(m.id,c.value),y=d.value.findIndex(w=>w.id===A.id);y!==-1&&(d.value[y]=A)}catch(A){console.error("Error al manejar el 'Me gusta':",A)}}}}return(c,l)=>{const u=Xt("router-link");return S(),k("div",V2,[b(Kt,{route:"/home",title:"Feed",class:""}),h("section",$2,[h("div",j2,[h("div",q2,[b(sn,{src:v(e).photoURL},null,8,["src"])]),h("div",H2,[h("form",{onSubmit:l[1]||(l[1]=En((...d)=>v(i)&&v(i)(...d),["prevent"])),class:"create-post-bar"},[h("div",K2,[h("div",J2,[lt(h("textarea",{"onUpdate:modelValue":l[0]||(l[0]=d=>rt(n)?n.value=d:null),placeholder:"¿Qué estás pensando?",rows:"1",class:"form-control flex-grow-1"},null,512),[[Rs,v(n)]])]),Q2])],32)])])]),W2,v(s)?(S(),Nt(jh,{key:0})):(S(),k("section",G2,[(S(!0),k(re,null,it(v(r),d=>(S(),k("div",{class:"card mb-3",key:d.id},[h("div",z2,[b(u,{to:`/usuario/${d==null?void 0:d.userId}`,class:"col-12 mb-3 text-decoration-none text-dark"},{default:$(()=>[h("div",Y2,[h("div",X2,[b(sn,{src:d.photoURL},null,8,["src"])]),h("div",Z2,[h("p",e$,[h("strong",null,F(d.userDisplayName),1)]),h("p",t$,F(v(Wu)(d.created_at)),1)])])]),_:2},1032,["to"]),h("div",n$,[h("div",s$,[h("p",r$,F(d.content),1)])]),h("div",i$,[h("div",o$,[h("button",{onClick:f=>v(o)(d),class:"action-btn"},[h("img",{src:d.liked?"src/assets/img/like-filled.png":"src/assets/img/like.png",alt:"Me gusta"},null,8,c$),h("span",l$,F(d.likes.length),1)],8,a$)]),h("div",u$,[b(u,{to:`/comments/${d.id}`,class:"text-decoration-none"},{default:$(()=>[h("button",d$,[h$,h("span",f$,F(d.comments.length),1)])]),_:2},1032,["to"])])])])]))),128))]))])}}},m$=pe(p$,[["__scopeId","data-v-7621e522"]]);const Ho=t=>(Ke("data-v-bcac9a17"),t=t(),Je(),t),g$={key:0,class:"not-found text-center py-4"},A$=Ho(()=>h("p",null,"La publicación no se ha encontrado o ha sido eliminada.",-1)),v$=[A$],y$={key:1},_$={class:"post-card mb-4 p-3"},w$={class:"row mb-2 align-items-center"},b$={class:"col-2"},E$={class:"col-10"},I$={class:"m-0"},S$={class:"font-date"},C$={class:"row"},k$={class:"col-12"},T$={class:"post-content"},R$={class:"row mt-3"},x$={class:"col-6 d-flex align-items-center"},O$=["src"],D$={class:"ms-2"},N$={class:"col-6 d-flex align-items-center justify-content-end"},P$={class:"action-btn"},M$=Ho(()=>h("img",{src:F_,alt:"Comentarios"},null,-1)),U$={class:"ms-2"},L$={class:"create-comment-bar mb-3 px-1 pt-2"},B$={class:"d-flex align-items-center justify-content-center"},F$={class:"col-2 d-flex align-items-center"},V$={class:"col-8 d-flex align-items-center"},$$=Ho(()=>h("div",{class:"col-2 d-flex align-items-center justify-content-end"},[h("button",{type:"submit",class:"btn-publish ms-2"},[h("img",{src:B_,alt:"Enviar"})])],-1)),j$=Ho(()=>h("div",{class:"px-3"},[h("h2",{class:"comments-title"},"Comentarios")],-1)),q$={class:"px-3 pb-4"},H$={key:0,class:"comments-list"},K$={class:"row"},J$={class:"col-2 pt-2"},Q$={class:"col-10"},W$={class:"m-0"},G$={class:"font-date"},z$={class:"comment-content mt-1"},Y$={key:1,class:"text-center text-muted"},X$=Ho(()=>h("p",null,"No hay comentarios aún",-1)),Z$=[X$],ej={__name:"Comments",setup(t){const{post:e,user:n,newComment:s,loading:r,addCommentView:i,toggleLikeView:o}=a();function a(){const c=Bs(),{user:l}=ht(),u=M(c.params.postId),d=M(null),f=M(""),p=M(!1);return et(async()=>{try{p.value=!0;const y=await U2(u.value);y?(d.value=y,console.log("Post onMounted:",d),l.value.id&&(d.value.liked=d.value.likes.includes(l.value.id),console.log("Liked status:",d.value.liked)),p.value=!1):console.error("La publicación no se ha encontrado o ha sido eliminada.")}catch(y){console.error("Error al recuperar la publicación:",y)}}),{post:d,user:l,newComment:f,loading:p,addCommentView:async()=>{if(!d||!d.value||!d.value.comments||!f||f.value.trim()===""){console.error("No se puede agregar el comentario. Datos insuficientes.");return}try{d.value=await L2(d.value.id,l.value,f.value),f.value=""}catch(y){console.error("Error al agregar el comentario:",y)}},toggleLikeView:async()=>{try{const y=await V_(d.value.id,l.value);d.value=y}catch(y){console.error("Error al manejar el 'Me gusta':",y)}}}}return(c,l)=>{const u=Xt("router-link");return S(),k(re,null,[b(Kt,{route:"/feed",title:"Publicación",hasBackground:!1}),v(r)?(S(),Nt(jh,{key:0})):(S(),Nt(St,{key:1,class:"p-0"},{default:$(()=>{var d;return[v(e)?(S(),k("div",y$,[h("div",_$,[b(u,{to:`/usuario/${(d=v(e))==null?void 0:d.userId}`,class:"col-12 mb-3 text-decoration-none text-dark"},{default:$(()=>[h("div",w$,[h("div",b$,[b(sn,{src:v(e).photoURL},null,8,["src"])]),h("div",E$,[h("p",I$,[h("strong",null,F(v(e).userDisplayName),1)]),h("p",S$,F(v(Wu)(v(e).created_at)),1)])])]),_:1},8,["to"]),h("div",C$,[h("div",k$,[h("p",T$,F(v(e).content),1)])]),h("div",R$,[h("div",x$,[h("button",{onClick:l[0]||(l[0]=(...f)=>v(o)&&v(o)(...f)),class:"action-btn"},[h("img",{src:v(e).liked?"src/assets/img/like-filled.png":"src/assets/img/like.png",alt:"Me gusta"},null,8,O$),h("span",D$,F(v(e).likes.length)+" Me gusta",1)])]),h("div",N$,[h("button",P$,[M$,h("span",U$,F(v(e).comments.length)+" Comentarios",1)])])])]),h("div",L$,[h("div",B$,[h("form",{onSubmit:l[2]||(l[2]=En((...f)=>v(i)&&v(i)(...f),["prevent"])),class:"row w-100"},[h("div",F$,[b(sn,{src:v(n).photoURL,class:"comment-avatar me-3"},null,8,["src"])]),h("div",V$,[lt(h("textarea",{"onUpdate:modelValue":l[1]||(l[1]=f=>rt(s)?s.value=f:null),placeholder:"Dejá un comentario",rows:"1",class:"form-control flex-grow-1"},null,512),[[Rs,v(s)]])]),$$],32)])]),j$,h("div",q$,[v(e).comments&&v(e).comments.length?(S(),k("div",H$,[(S(!0),k(re,null,it(v(e).comments,(f,p)=>(S(),k("div",{key:p,class:"comment-card mb-3 p-3"},[b(u,{to:`/usuario/${f==null?void 0:f.userId}`,class:"col-12 mb-3 text-decoration-none text-dark"},{default:$(()=>[h("div",K$,[h("div",J$,[b(sn,{src:f.photoURL||f.userPhoto,class:"comment-avatar"},null,8,["src"])]),h("div",Q$,[h("p",W$,[h("strong",null,F(f.userDisplayName),1)]),h("p",G$,F(v(Wu)(f.created_at)),1),h("p",z$,F(f.content),1)])])]),_:2},1032,["to"])]))),128))])):(S(),k("div",Y$,Z$))])])):(S(),k("div",g$,v$))]}),_:1}))],64)}}},tj=pe(ej,[["__scopeId","data-v-bcac9a17"]]);const nj=t=>(Ke("data-v-71275fbf"),t=t(),Je(),t),sj={class:"row px-3"},rj=nj(()=>h("ul",{class:"nav nav-tabs nav-fill mb-5 mt-3 px-3",role:"tablist"},[h("li",{class:"nav-item",role:"presentation"},[h("button",{class:"nav-link active",id:"seguidores-tab","data-bs-toggle":"tab","data-bs-target":"#seguidores-tab-pane",type:"button",role:"tab","aria-controls":"seguidores-tab-pane","aria-selected":"true"},"Seguidores")]),h("li",{class:"nav-item",role:"presentation"},[h("button",{class:"nav-link",id:"siguiendo-tab","data-bs-toggle":"tab","data-bs-target":"#siguiendo-tab-pane",type:"button",role:"tab","aria-controls":"siguiendo-tab-pane","aria-selected":"false"},"Siguiendo")])],-1)),ij={class:"tab-content"},oj={class:"tab-pane fade show active",id:"seguidores-tab-pane",role:"tabpanel","aria-labelledby":"seguidores-tab",tabindex:"0"},aj={class:"list-unstyled"},cj={class:"row"},lj={class:"col-3"},uj={class:"w-75"},dj={class:"col-9 d-flex align-items-center"},hj={class:"m-0"},fj={class:"tab-pane fade show",id:"siguiendo-tab-pane",role:"tabpanel","aria-labelledby":"siguiendo-tab",tabindex:"0"},pj={class:"list-unstyled"},mj={class:"row"},gj={class:"col-3"},Aj={class:"w-75"},vj={class:"col-9 d-flex align-items-center"},yj={class:"m-0"},_j={__name:"Red",setup(t){const{user:e,seguidores:n,siguiendo:s,loading:r}=i();function i(){const{user:o}=ht(),a=M(null),c=M([]),l=M([]),u=M(!1);return et(async()=>{if(a.value=o.value?o.value.id:null,a.value)try{u.value=!0,c.value=await M_(a.value),l.value=await U_(a.value),u.value=!1,console.log("Seguidores:",c),console.log("Siguiendo:",l),console.log("Usuario:",o)}catch(d){console.error("Error al obtener seguidores y siguiendo:",d)}else console.warn("ID de usuario no disponible.")}),{user:o,seguidores:c,siguiendo:l,loading:u}}return(o,a)=>{const c=Xt("router-link");return S(),k(re,null,[b(Kt,{route:"/home",title:"Red"}),b(Vn,{loading:v(r)},null,8,["loading"]),b(St,null,{default:$(()=>[h("div",sj,[rj,h("div",ij,[h("div",oj,[h("ul",aj,[(S(!0),k(re,null,it(v(n),l=>(S(),k("li",{key:l,class:"row"},[b(c,{to:"/usuario/"+l.id,class:"col-12 mb-3 text-decoration-none text-dark"},{default:$(()=>[h("div",cj,[h("div",lj,[h("div",uj,[b(sn,{src:l.photoURL},null,8,["src"])])]),h("div",dj,[h("p",hj,F(l.nombre)+" "+F(l.apellido),1)])])]),_:2},1032,["to"])]))),128))])]),h("div",fj,[h("ul",pj,[(S(!0),k(re,null,it(v(s),l=>(S(),k("li",{key:l,class:"row"},[b(c,{to:"/usuario/"+l.id,class:"col-12 mb-3 text-decoration-none text-dark"},{default:$(()=>[h("div",mj,[h("div",gj,[h("div",Aj,[b(sn,{src:l.photoURL},null,8,["src"])])]),h("div",vj,[h("p",yj,F(l.nombre)+" "+F(l.apellido),1)])])]),_:2},1032,["to"])]))),128))])])])])]),_:1})],64)}}},wj=pe(_j,[["__scopeId","data-v-71275fbf"]]),bj={class:"form-check form-switch d-flex justify-content-between align-items-center mb-3 p-0"},Ej={class:"form-check-label"},Ij=["checked"],ua={__name:"Switch",props:{label:{type:String,required:!0},modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(t,{emit:e}){function n(s){e("update:modelValue",s.target.checked)}return(s,r)=>(S(),k("div",bj,[h("label",Ej,F(t.label),1),h("input",{class:"form-check-input",type:"checkbox",role:"switch",checked:t.modelValue,onChange:n},null,40,Ij)]))}};async function Sj(t){var e;try{const n=we(he,"users",t),s=await It(n);if(s.exists())return((e=s.data().settings)==null?void 0:e.notifications)||null}catch(n){return console.error("Error al obtener configuración de usuario",n),null}}async function Cj(t,e){try{const n=we(he,"users",t);await $t(n,{"settings.notifications":e})}catch(n){console.error("Error actualizando ajustes de usuario",n)}}const $_=t=>(Ke("data-v-1f7beb27"),t=t(),Je(),t),kj={class:"accordion",id:"settingsAccordion"},Tj={class:"accordion-item"},Rj=$_(()=>h("h2",{class:"accordion-header",id:"headingNotifications"},[h("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseNotifications","aria-expanded":"true","aria-controls":"collapseNotifications"},[h("i",{class:"bi bi-bell me-1"}),ge(" Notificaciones ")])],-1)),xj={id:"collapseNotifications",class:"accordion-collapse collapse show","aria-labelledby":"headingNotifications","data-bs-parent":"#settingsAccordion"},Oj={class:"accordion-body"},Dj=$_(()=>h("div",{class:"accordion-item"},[h("h2",{class:"accordion-header",id:"headingPrivacy"},[h("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapsePrivacy","aria-expanded":"false","aria-controls":"collapsePrivacy"},[h("i",{class:"bi bi-lock me-1"}),ge(" Privacidad ")])]),h("div",{id:"collapsePrivacy",class:"accordion-collapse collapse","aria-labelledby":"headingPrivacy","data-bs-parent":"#settingsAccordion"},[h("div",{class:"accordion-body"},[h("p",{class:"text-muted mb-0"},"Próximamente…")])])],-1)),Nj={__name:"Ajustes",setup(t){const{user:e}=ht(),n=M({seguir:!0,like:!0,comentario:!0,chat:!0});et(async()=>{if(e.value){const r=await Sj(e.value.id);r&&(n.value=r)}});function s(r){n.value[r]=!n.value[r],Cj(e.value.id,n.value)}return(r,i)=>(S(),k(re,null,[b(Kt,{route:"/home",title:"Ajustes"}),b(St,null,{default:$(()=>[h("div",kj,[h("div",Tj,[Rj,h("div",xj,[h("div",Oj,[b(ua,{label:"Notificaciones por Seguidores","model-value":n.value.seguir,"onUpdate:modelValue":i[0]||(i[0]=()=>s("seguir"))},null,8,["model-value"]),b(ua,{label:"Likes en tus publicaciones","model-value":n.value.like,"onUpdate:modelValue":i[1]||(i[1]=()=>s("like"))},null,8,["model-value"]),b(ua,{label:"Comentarios en tus publicaciones","model-value":n.value.comentario,"onUpdate:modelValue":i[2]||(i[2]=()=>s("comentario"))},null,8,["model-value"]),b(ua,{label:"Mensajes privados","model-value":n.value.chat,"onUpdate:modelValue":i[3]||(i[3]=()=>s("chat"))},null,8,["model-value"])])])]),Dj])]),_:1})],64))}},Pj=pe(Nj,[["__scopeId","data-v-1f7beb27"]]),Mj={};function Uj(t,e){return null}const Lj=pe(Mj,[["render",Uj]]);const Ko=t=>(Ke("data-v-ca0ddc96"),t=t(),Je(),t),Bj=Ko(()=>h("h3",{class:"mb-3"},"Notificaciones",-1)),Fj={key:0,class:"notificaciones-list"},Vj=["onClick"],$j={class:"icono"},jj={key:0},qj=Ko(()=>h("i",{class:"bi bi-hand-thumbs-up"},null,-1)),Hj=[qj],Kj={key:1},Jj=Ko(()=>h("i",{class:"bi bi-chat-left-dots"},null,-1)),Qj=[Jj],Wj={key:2},Gj=Ko(()=>h("i",{class:"bi bi-bell"},null,-1)),zj=[Gj],Yj={class:"contenido"},Xj={class:"mensaje"},Zj={class:"fecha"},eq={class:"acciones"},tq=["onClick"],nq=Ko(()=>h("i",{class:"bi bi-trash"},null,-1)),sq=[nq],rq={key:1},iq={__name:"notificaciones",setup(t){const{user:e}=ht(),n=M([]),s=In();let r=null;et(()=>{e.value&&e.value.id&&(r=WO(e.value.id,a=>{n.value=a}))});const i=async a=>{a.leida||(await zO(a.id),a.leida=!0),a.ruta&&s.push(a.ruta)},o=async a=>{try{await YO(a),n.value=n.value.filter(c=>c.id!==a)}catch(c){console.error("Error al eliminar la notificación:",c)}};return Un(()=>{r&&r()}),(a,c)=>(S(),k("div",null,[b(Kt,{route:"/home",title:"Notificaciones"}),b(St,null,{default:$(()=>[Bj,n.value.length>0?(S(),k("div",Fj,[(S(!0),k(re,null,it(n.value,l=>{var u;return S(),k("div",{key:l.id,class:Le(["notificacion-card",{leida:l.leida}]),onClick:d=>i(l)},[h("div",$j,[l.tipo==="like"?(S(),k("span",jj,Hj)):l.tipo==="comentario"?(S(),k("span",Kj,Qj)):(S(),k("span",Wj,zj))]),h("div",Yj,[h("p",Xj,F(l.mensaje),1),h("small",Zj,F((u=l.created_at)==null?void 0:u.toDate().toLocaleString()),1)]),h("div",eq,[h("button",{class:"btn btn-link eliminar",onClick:En(d=>o(l.id),["stop"]),title:"Eliminar notificación"},sq,8,tq)])],10,Vj)}),128))])):(S(),k("p",rq,"No tienes notificaciones"))]),_:1})]))}},oq=pe(iq,[["__scopeId","data-v-ca0ddc96"]]);const aq={class:"estrellas mb-3"},cq=["onClick"],lq={__name:"addValoration",setup(t){const{setFeedbackMessage:e}=Ge(os),n=Bs(),s=In(),r=n.params.id,{user:i}=ht(),o=M(null),a=M(0),c=M(""),l=M(!1);function u(f){a.value=f}et(async()=>{try{l.value=!0,o.value=await Bn(r),console.log(i.id),l.value=!1}catch{l.value=!1}});async function d(){if(a.value===0||c.value.trim()===""){alert("Debes elegir una cantidad de estrellas y escribir un comentario.");return}const f={estrellas:a.value,comentario:c.value.trim(),fecha:new Date().toISOString(),autorId:i.value.id,autorName:i.value.displayName||i.value.nombre};try{await px(r,f),a.value=0,c.value="",e({type:"success",message:"Valoración enviada correctamente."}),s.back()}catch{alert("Ocurrió un error al enviar la valoración.")}}return(f,p)=>{var m,A;return S(),k(re,null,[l.value?Me("",!0):(S(),Nt(Kt,{key:0,route:"/home",title:v(i)?"Valorá a "+((m=o.value)==null?void 0:m.displayName)||((A=o.value)==null?void 0:A.nombre):"perfil"},null,8,["title"])),b(Vn,{loading:l.value},null,8,["loading"]),b(St,null,{default:$(()=>[h("div",aq,[(S(),k(re,null,it(5,y=>h("span",{key:y,class:Le({activa:y<=a.value}),onClick:w=>u(y)},"★",10,cq)),64))]),lt(h("textarea",{"onUpdate:modelValue":p[0]||(p[0]=y=>c.value=y),rows:"4",class:"form-control mb-3",placeholder:"Escribí un comentario sobre el jugador..."},null,512),[[Rs,c.value]]),h("button",{class:"button_send",onClick:d}," ENVIAR VALORACIÓN ")]),_:1})],64)}}},uq=pe(lq,[["__scopeId","data-v-96f962f5"]]);const dq={key:0,class:"col-12 go_valoration"},hq={class:"estrellas mb-2"},fq={class:"promedio"},pq={class:"comentario mb-0"},mq={key:2},gq={__name:"ValorationList",setup(t){const{user:e}=ht(),n=M(null),s=M(""),r=Bs(),i=M(!1);et(async()=>{i.value=!0;const a=r.params.id;if(console.log("profileID:",a),!a){console.warn("No se encontró un ID de perfil en la ruta.");return}s.value=o(a),n.value=await Bn(a),i.value=!1});function o(a){return e.value?a==e.value.id?"/perfil":`/usuario/${a}`:"/home"}return(a,c)=>{const l=Xt("router-link");return S(),k(re,null,[b(Vn,{loading:i.value},null,8,["loading"]),b(Kt,{route:s.value,title:"Valoraciones"},null,8,["route"]),b(St,null,{default:$(()=>{var u;return[n.value?(S(),k("div",dq,[b(l,{to:`/usuario/${n.value.id}/valoration`,style:{color:"var(--primary-color)"},class:"text-decoration-none"},{default:$(()=>[ge("¿Querés dejar una valoracion a "+F(n.value.displayName?n.value.displayName:n.value.nombre)+" ?",1)]),_:1},8,["to"])])):Me("",!0),n.value&&((u=n.value.valoraciones)==null?void 0:u.length)>0?(S(!0),k(re,{key:1},it(n.value.valoraciones,(d,f)=>(S(),k("div",{key:f,class:"card mb-3 p-3"},[h("div",hq,[(S(),k(re,null,it(5,p=>h("span",{key:p,class:Le(["estrella",{activa:p<=d.estrellas}])},"★",2)),64)),h("span",fq,"("+F(d.estrellas)+"/5)",1)]),h("p",null,F(d.autorName),1),h("p",pq,F(d.comentario||"Sin comentario"),1)]))),128)):(S(),k("p",mq,"No hay valoraciones para mostrar."))]}),_:1})],64)}}},Aq=pe(gq,[["__scopeId","data-v-0105cda2"]]);const fn=t=>(Ke("data-v-7329ba65"),t=t(),Je(),t),vq=fn(()=>h("p",null," Esta aplicación móvil es propiedad y está operada por Doble 5 S.A ",-1)),yq=fn(()=>h("p",null," Estos términos establecen las condiciones bajo las cuales puedes usar nuestra aplicación móvil y nuestros servicios. Doble 5 ofrece a los usuarios la posibilidad de localizar canchas, crear y gestionar partidos, sumarse a juegos, chatear y formar una red social deportiva. Al acceder o usar la aplicación, aceptas haber leído, entendido y estar sujeto a estos términos: ",-1)),_q=fn(()=>h("div",null,[h("h3",null,"INFORMACIÓN RELEVANTE"),h("p",null," Para utilizar algunas funciones, es necesario registrarse con datos reales y crear una contraseña. El usuario es responsable de mantener la confidencialidad de su cuenta. Doble 5 no se responsabiliza por el uso indebido de la cuenta por terceros. Toda acción en la aplicación está sujeta a validaciones internas (verificación de identidad, correo electrónico, comportamiento de uso, etc.). ")],-1)),wq=fn(()=>h("div",null,[h("h3",null,"LICENCIA"),h("p",null," Doble 5 concede al usuario una licencia limitada, no exclusiva e intransferible para utilizar los servicios de la app conforme a estos términos. Esta licencia no permite la reventa ni el uso indebido de la plataforma. ")],-1)),bq=fn(()=>h("div",null,[h("h3",null,"USO NO AUTORIZADO"),h("p",null," Queda prohibido: - Copiar, distribuir, modificar o vender los contenidos de la aplicación. - Usar la aplicacióncon fines fraudulentos, maliciosos o para generar spam o acoso. generar spam o acoso. - Compartir contenido ofensivo, ilegal o que infrinja derechos de terceros. ")],-1)),Eq=fn(()=>h("div",null,[h("h3",null,"PROPIEDAD INTELECTUAL"),h("p",null," Todos los elementos visuales, logotipo, nombre, diseño, funcionalidades, base de datos y software de la App son propiedad exclusiva de Doble 5 S.A. Está prohibido su uso sin autorización expresa. ")],-1)),Iq=fn(()=>h("div",null,[h("h3",null,"POLÍTICA DE REEMBOLSO"),h("p",null," La aplicación ofrece servicios intangibles en modalidad de suscripción gratuita. En caso de introducir futuras funciones de pago, los servicios contratados no serán reembolsables una vez activados, salvo error técnico o incumplimiento. "),h("p",null," El usuario podrá ejercer su derecho de desistimiento en un plazo de 14 días naturales desde la contratación del servicio, conforme a la legislación vigente. ")],-1)),Sq=fn(()=>h("div",null,[h("h3",null,"SUSPENSIÓN O CANCELACIÓN DE CUENTA"),h("p",null," Doble 5 podrá suspender temporal o definitivamente la cuenta de un usuario si detecta incumplimiento de estos términos o cualquier ley aplicable. El usuario puede solicitar la baja de su cuenta en cualquier momento. ")],-1)),Cq=fn(()=>h("div",null,[h("h3",null,"LIMITACIÓN DE RESPONSABILIDAD"),h("p",null," Doble 5 no se responsabiliza por: - Daños, lesiones o pérdidas derivados de encuentros deportivos organizados a través de la aplicación. - Uso indebido o negligente por parte de otros usuarios. - Errores técnicos o interrupciones en el servicio. El usuario acepta que el uso de la aplicación es bajo su propia responsabilidad. ")],-1)),kq=fn(()=>h("div",null,[h("h3",null,"DERECHO A MODIFICAR LOS TÉRMINOS"),h("p",null," Nos reservamos el derecho de modificar estos términos en cualquier momento. Se notificará cualquier cambio sustancial con al menos 30 días de anticipación a través de la aplicación y/o correo electrónico. El uso continuado implicará la aceptación de los nuevos términos. ")],-1)),Tq=fn(()=>h("div",null,[h("h3",null,"LEGISLACIÓN APLICABLE Y JURISDICCIÓN"),h("p",null," Estos Términos se rigen por las leyes de la República Argentina. Toda disputa será resuelta por los tribunales competentes de la Ciudad Autónoma de Buenos Aires, salvo que una normativa imperativa indique lo contrario. ")],-1)),Rq=fn(()=>h("div",null,[h("h3",null,"PRIVACIDAD"),h("p",null," Doble 5 protege los datos personales conforme a la Ley de Protección de Datos Personales. La información recopilada se utilizará únicamente con fines operativos del servicio y no se compartirá con terceros sin consentimiento, salvo requerimiento legal. ")],-1)),xq={__name:"Terminos",setup(t){return(e,n)=>(S(),k(re,null,[b(Kt,{route:"/registro",title:"Términos y condiciones"}),b(St,null,{default:$(()=>[vq,yq,_q,wq,bq,Eq,Iq,Sq,Cq,kq,Tq,Rq]),_:1})],64))}},Oq=pe(xq,[["__scopeId","data-v-7329ba65"]]);const Dq=t=>(Ke("data-v-7acc863e"),t=t(),Je(),t),Nq=Dq(()=>h("h2",null,"Restablecer contraseña",-1)),Pq={__name:"ResetUser",setup(t){const{setFeedbackMessage:e}=Ge(os),n=M(""),s=M(""),r=In(),i=async()=>{try{const o=await _x(n.value);s.value="Revisá tu correo para cambiar la contraseña.",e({type:"success",message:"Solicitud de cambio de contraseña enviada correctamente."}),r.push("/iniciar-sesion")}catch{e({type:"error",message:"Algo salio mal, intenta nuevamente."})}};return(o,a)=>(S(),k(re,null,[b(Kt,{route:"/iniciar-sesion",title:"Olvidé mi contraseña"}),b(St,null,{default:$(()=>[Nq,lt(h("input",{"onUpdate:modelValue":a[0]||(a[0]=c=>n.value=c),placeholder:"Tu correo",type:"email"},null,512),[[Rs,n.value]]),h("button",{onClick:i},"ENVIAR ENLACE"),h("p",null,F(s.value),1)]),_:1})],64))}},Mq=pe(Pq,[["__scopeId","data-v-7acc863e"]]),Uq=[{path:"/",beforeEnter:(t,e,n)=>{Qh.id?n("/home"):n()},component:oN},{path:"/iniciar-sesion",component:SU},{path:"/reset-user",component:Mq},{path:"/registro",component:PL},{path:"/terminos",component:Oq},{path:"/home",component:pP,meta:{requiresAuth:!0}},{path:"/chat",component:sU,meta:{requiresAuth:!0}},{path:"/partidos",component:O2,meta:{requiresAuth:!0}},{path:"/list-private-chats",component:OV,meta:{requiresAuth:!0}},{path:"/notificaciones",component:oq,meta:{requiresAuth:!0}},{path:"/perfil",component:()=>__(()=>import("./MyProfile-38bfcfec.js"),[]),meta:{requiresAuth:!0}},{path:"/usuario/:id",component:oF,meta:{requiresAuth:!0}},{path:"/usuario/:id/valoration",component:uq,meta:{requiresAuth:!0}},{path:"/usuario/:id/valorationList",component:Aq,meta:{requiresAuth:!0}},{path:"/usuario/:id/chat",component:OF,meta:{requiresAuth:!0}},{path:"/carga-partidos",component:pV,meta:{requiresAuth:!0}},{path:"/mis-partidos",component:IV,meta:{requiresAuth:!0}},{path:"/info-partido/:id",component:u2,meta:{requiresAuth:!0}},{path:"/inscription/:id",component:P2,meta:{requiresAuth:!0}},{path:"/feed",component:m$,meta:{requiresAuth:!0}},{path:"/comments/:postId",component:tj,meta:{requiresAuth:!0}},{path:"/red",component:wj,meta:{requiresAuth:!0}},{path:"/ajustes",component:Pj,meta:{requiresAuth:!0}},{path:"/ayuda",component:Lj,meta:{requiresAuth:!0}}],Jo=JO({routes:Uq,history:lO()});let Qh={id:null,email:null};e_(t=>Qh=t);Jo.beforeEach((t,e)=>{if(t.meta.requiresAuth&&Qh.id===null)return{path:"/iniciar-sesion"}});function Lq(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:s,onRegistered:r,onRegisteredSW:i,onRegisterError:o}=t;let a,c;const l=async(d=!0)=>{await c};async function u(){if("serviceWorker"in navigator){if(a=await __(()=>import("./workbox-window.prod.es5-5ffdab76.js"),[]).then(({Workbox:d})=>new d("/sw.js",{scope:"/",type:"classic"})).catch(d=>{o==null||o(d)}),!a)return;a.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),a.addEventListener("installed",d=>{d.isUpdate||s==null||s()}),a.register({immediate:e}).then(d=>{i?i("/sw.js",d):r==null||r(d)}).catch(d=>{o==null||o(d)})}}return c=u(),l}const j_=f0(WD),Bq=Lq({onNeedRefresh(){Bq(!0)},onOfflineReady(){console.log("App lista para funcionar offline")}});j_.use(Jo);j_.mount("#app");export{gr as B,re as F,Kt as H,Vn as L,St as S,ZB as U,pe as _,M_ as a,U_ as b,k as c,b as d,S as e,Nt as f,v as g,h,ge as i,rB as j,et as o,M as r,F as t,ht as u,$ as w};
